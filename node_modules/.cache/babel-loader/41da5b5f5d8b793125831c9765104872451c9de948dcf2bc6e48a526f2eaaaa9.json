{"ast":null,"code":"import _regeneratorRuntime from\"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import{listDocs}from\"@junobuild/core\";import{AuthContext}from\"./Auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Table=function Table(){var _useContext=useContext(AuthContext),user=_useContext.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];useEffect(function(){window.addEventListener(\"reload\",list);return function(){window.removeEventListener(\"reload\",list);};},[]);var list=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$listDocs,items;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return listDocs({collection:\"notes\"});case 2:_yield$listDocs=_context.sent;items=_yield$listDocs.items;setItems(items);case 5:case\"end\":return _context.stop();}},_callee);}));return function list(){return _ref.apply(this,arguments);};}();useEffect(function(){if([undefined,null].includes(user)){setItems([]);return;}_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return list();case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}},_callee2);}))();},[user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-2xl mx-auto bg-white shadow-lg rounded-sm border border-gray-200 mt-8\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"px-5 py-4 border-b border-gray-100\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold text-gray-800\",children:\"Entries\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:items.map(function(item,index){var key=item.key,_item$data=item.data,text=_item$data.text,url=_item$data.url;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6 px-2.5 py-1.5\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-4 py-2 rounded-full text-gray-500 bg-gray-200 font-semibold text-sm flex align-center w-max\",children:index+1}),/*#__PURE__*/_jsx(\"div\",{className:\"line-clamp-3 text-left grow\",children:text}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 justify-center align-middle\",children:url!==undefined?/*#__PURE__*/_jsx(\"a\",{\"aria-label\":\"Open data\",rel:\"noopener noreferrer\",href:url,target:\"_blank\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:1.5,stroke:\"currentColor\",className:\"w-6 h-6\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25\"})})}):undefined})]},key);})})})]});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}