{"ast":null,"code":"import _objectWithoutProperties from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _wrapNativeSuper from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _createForOfIteratorHelper from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _slicedToArray from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classPrivateFieldInitSpec from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js\";\nimport _classPrivateFieldGet from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js\";\nimport _classPrivateFieldSet from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js\";\nimport _assertThisInitialized from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _get from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _awaitAsyncGenerator from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js\";\nimport _wrapAsyncGenerator from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js\";\nimport _asyncIterator from \"/home/priscah/workshops/react/node_modules/@babel/runtime/helpers/esm/asyncIterator.js\";\nvar _excluded = [\"satelliteId\"],\n  _excluded2 = [\"data\", \"owner\", \"description\"],\n  _excluded3 = [\"data\", \"owner\", \"description\"],\n  _excluded4 = [\"satellite\"],\n  _excluded5 = [\"satellite\"],\n  _excluded6 = [\"satellite\"],\n  _excluded7 = [\"satellite\", \"filter\"],\n  _excluded8 = [\"userId\"],\n  _excluded9 = [\"items\"];\nvar _t2, _t3, _e2;\nimport { a as Bn, b as uo, c as or, d as Nn, e as we, f as lo, g as ar, h as ho, i as ot, j as Ke, k as Pn, l as Me, m as po, n as Cn, o as Xt, p as Fn, q as ae, r as kn, s as sr, t as fr, u as jn } from \"./chunk-BLAF376Q.js\";\nvar In = or(function (lr) {\n  \"use strict\";\n\n  lr.byteLength = mo;\n  lr.toByteArray = go;\n  lr.fromByteArray = vo;\n  var qt = [],\n    Ot = [],\n    yo = typeof Uint8Array < \"u\" ? Uint8Array : Array,\n    Hr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n  for (se = 0, zn = Hr.length; se < zn; ++se) qt[se] = Hr[se], Ot[Hr.charCodeAt(se)] = se;\n  var se, zn;\n  Ot[\"-\".charCodeAt(0)] = 62;\n  Ot[\"_\".charCodeAt(0)] = 63;\n  function Gn(e) {\n    var t = e.length;\n    if (t % 4 > 0) throw new Error(\"Invalid string. Length must be a multiple of 4\");\n    var r = e.indexOf(\"=\");\n    r === -1 && (r = t);\n    var i = r === t ? 0 : 4 - r % 4;\n    return [r, i];\n  }\n  function mo(e) {\n    var t = Gn(e),\n      r = t[0],\n      i = t[1];\n    return (r + i) * 3 / 4 - i;\n  }\n  function wo(e, t, r) {\n    return (t + r) * 3 / 4 - r;\n  }\n  function go(e) {\n    var t,\n      r = Gn(e),\n      i = r[0],\n      a = r[1],\n      u = new yo(wo(e, i, a)),\n      d = 0,\n      m = a > 0 ? i - 4 : i,\n      w;\n    for (w = 0; w < m; w += 4) t = Ot[e.charCodeAt(w)] << 18 | Ot[e.charCodeAt(w + 1)] << 12 | Ot[e.charCodeAt(w + 2)] << 6 | Ot[e.charCodeAt(w + 3)], u[d++] = t >> 16 & 255, u[d++] = t >> 8 & 255, u[d++] = t & 255;\n    return a === 2 && (t = Ot[e.charCodeAt(w)] << 2 | Ot[e.charCodeAt(w + 1)] >> 4, u[d++] = t & 255), a === 1 && (t = Ot[e.charCodeAt(w)] << 10 | Ot[e.charCodeAt(w + 1)] << 4 | Ot[e.charCodeAt(w + 2)] >> 2, u[d++] = t >> 8 & 255, u[d++] = t & 255), u;\n  }\n  function _o(e) {\n    return qt[e >> 18 & 63] + qt[e >> 12 & 63] + qt[e >> 6 & 63] + qt[e & 63];\n  }\n  function bo(e, t, r) {\n    for (var i, a = [], u = t; u < r; u += 3) i = (e[u] << 16 & 16711680) + (e[u + 1] << 8 & 65280) + (e[u + 2] & 255), a.push(_o(i));\n    return a.join(\"\");\n  }\n  function vo(e) {\n    for (var t, r = e.length, i = r % 3, a = [], u = 16383, d = 0, m = r - i; d < m; d += u) a.push(bo(e, d, d + u > m ? m : d + u));\n    return i === 1 ? (t = e[r - 1], a.push(qt[t >> 2] + qt[t << 4 & 63] + \"==\")) : i === 2 && (t = (e[r - 2] << 8) + e[r - 1], a.push(qt[t >> 10] + qt[t >> 4 & 63] + qt[t << 2 & 63] + \"=\")), a.join(\"\");\n  }\n});\nvar ai = or(function (Ee) {\n  \"use strict\";\n\n  var $r = In(),\n    ve = ho(),\n    Jn = typeof Symbol == \"function\" && typeof Symbol.for == \"function\" ? Symbol.for(\"nodejs.util.inspect.custom\") : null;\n  Ee.Buffer = g;\n  Ee.SlowBuffer = Uo;\n  Ee.INSPECT_MAX_BYTES = 50;\n  var dr = 2147483647;\n  Ee.kMaxLength = dr;\n  g.TYPED_ARRAY_SUPPORT = Eo();\n  !g.TYPED_ARRAY_SUPPORT && typeof console < \"u\" && typeof console.error == \"function\" && console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\");\n  function Eo() {\n    try {\n      var e = new Uint8Array(1),\n        t = {\n          foo: function foo() {\n            return 42;\n          }\n        };\n      return Object.setPrototypeOf(t, Uint8Array.prototype), Object.setPrototypeOf(e, t), e.foo() === 42;\n    } catch (_unused) {\n      return !1;\n    }\n  }\n  Object.defineProperty(g.prototype, \"parent\", {\n    enumerable: !0,\n    get: function get() {\n      if (g.isBuffer(this)) return this.buffer;\n    }\n  });\n  Object.defineProperty(g.prototype, \"offset\", {\n    enumerable: !0,\n    get: function get() {\n      if (g.isBuffer(this)) return this.byteOffset;\n    }\n  });\n  function Zt(e) {\n    if (e > dr) throw new RangeError('The value \"' + e + '\" is invalid for option \"size\"');\n    var t = new Uint8Array(e);\n    return Object.setPrototypeOf(t, g.prototype), t;\n  }\n  function g(e, t, r) {\n    if (typeof e == \"number\") {\n      if (typeof t == \"string\") throw new TypeError('The \"string\" argument must be of type string. Received type number');\n      return Ir(e);\n    }\n    return Qn(e, t, r);\n  }\n  g.poolSize = 8192;\n  function Qn(e, t, r) {\n    if (typeof e == \"string\") return To(e, t);\n    if (ArrayBuffer.isView(e)) return So(e);\n    if (e == null) throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof e);\n    if (Ht(e, ArrayBuffer) || e && Ht(e.buffer, ArrayBuffer) || typeof SharedArrayBuffer < \"u\" && (Ht(e, SharedArrayBuffer) || e && Ht(e.buffer, SharedArrayBuffer))) return zr(e, t, r);\n    if (typeof e == \"number\") throw new TypeError('The \"value\" argument must not be of type number. Received type number');\n    var i = e.valueOf && e.valueOf();\n    if (i != null && i !== e) return g.from(i, t, r);\n    var a = Oo(e);\n    if (a) return a;\n    if (typeof Symbol < \"u\" && Symbol.toPrimitive != null && typeof e[Symbol.toPrimitive] == \"function\") return g.from(e[Symbol.toPrimitive](\"string\"), t, r);\n    throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof e);\n  }\n  g.from = function (e, t, r) {\n    return Qn(e, t, r);\n  };\n  Object.setPrototypeOf(g.prototype, Uint8Array.prototype);\n  Object.setPrototypeOf(g, Uint8Array);\n  function Dn(e) {\n    if (typeof e != \"number\") throw new TypeError('\"size\" argument must be of type number');\n    if (e < 0) throw new RangeError('The value \"' + e + '\" is invalid for option \"size\"');\n  }\n  function Ao(e, t, r) {\n    return Dn(e), e <= 0 ? Zt(e) : t !== void 0 ? typeof r == \"string\" ? Zt(e).fill(t, r) : Zt(e).fill(t) : Zt(e);\n  }\n  g.alloc = function (e, t, r) {\n    return Ao(e, t, r);\n  };\n  function Ir(e) {\n    return Dn(e), Zt(e < 0 ? 0 : Jr(e) | 0);\n  }\n  g.allocUnsafe = function (e) {\n    return Ir(e);\n  };\n  g.allocUnsafeSlow = function (e) {\n    return Ir(e);\n  };\n  function To(e, t) {\n    if ((typeof t != \"string\" || t === \"\") && (t = \"utf8\"), !g.isEncoding(t)) throw new TypeError(\"Unknown encoding: \" + t);\n    var r = Ln(e, t) | 0,\n      i = Zt(r),\n      a = i.write(e, t);\n    return a !== r && (i = i.slice(0, a)), i;\n  }\n  function Wr(e) {\n    for (var t = e.length < 0 ? 0 : Jr(e.length) | 0, r = Zt(t), i = 0; i < t; i += 1) r[i] = e[i] & 255;\n    return r;\n  }\n  function So(e) {\n    if (Ht(e, Uint8Array)) {\n      var t = new Uint8Array(e);\n      return zr(t.buffer, t.byteOffset, t.byteLength);\n    }\n    return Wr(e);\n  }\n  function zr(e, t, r) {\n    if (t < 0 || e.byteLength < t) throw new RangeError('\"offset\" is outside of buffer bounds');\n    if (e.byteLength < t + (r || 0)) throw new RangeError('\"length\" is outside of buffer bounds');\n    var i;\n    return t === void 0 && r === void 0 ? i = new Uint8Array(e) : r === void 0 ? i = new Uint8Array(e, t) : i = new Uint8Array(e, t, r), Object.setPrototypeOf(i, g.prototype), i;\n  }\n  function Oo(e) {\n    if (g.isBuffer(e)) {\n      var t = Jr(e.length) | 0,\n        r = Zt(t);\n      return r.length === 0 || e.copy(r, 0, 0, t), r;\n    }\n    if (e.length !== void 0) return typeof e.length != \"number\" || Xr(e.length) ? Zt(0) : Wr(e);\n    if (e.type === \"Buffer\" && Array.isArray(e.data)) return Wr(e.data);\n  }\n  function Jr(e) {\n    if (e >= dr) throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\" + dr.toString(16) + \" bytes\");\n    return e | 0;\n  }\n  function Uo(e) {\n    return +e != e && (e = 0), g.alloc(+e);\n  }\n  g.isBuffer = function (t) {\n    return t != null && t._isBuffer === !0 && t !== g.prototype;\n  };\n  g.compare = function (t, r) {\n    if (Ht(t, Uint8Array) && (t = g.from(t, t.offset, t.byteLength)), Ht(r, Uint8Array) && (r = g.from(r, r.offset, r.byteLength)), !g.isBuffer(t) || !g.isBuffer(r)) throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');\n    if (t === r) return 0;\n    for (var i = t.length, a = r.length, u = 0, d = Math.min(i, a); u < d; ++u) if (t[u] !== r[u]) {\n      i = t[u], a = r[u];\n      break;\n    }\n    return i < a ? -1 : a < i ? 1 : 0;\n  };\n  g.isEncoding = function (t) {\n    switch (String(t).toLowerCase()) {\n      case \"hex\":\n      case \"utf8\":\n      case \"utf-8\":\n      case \"ascii\":\n      case \"latin1\":\n      case \"binary\":\n      case \"base64\":\n      case \"ucs2\":\n      case \"ucs-2\":\n      case \"utf16le\":\n      case \"utf-16le\":\n        return !0;\n      default:\n        return !1;\n    }\n  };\n  g.concat = function (t, r) {\n    if (!Array.isArray(t)) throw new TypeError('\"list\" argument must be an Array of Buffers');\n    if (t.length === 0) return g.alloc(0);\n    var i;\n    if (r === void 0) for (r = 0, i = 0; i < t.length; ++i) r += t[i].length;\n    var a = g.allocUnsafe(r),\n      u = 0;\n    for (i = 0; i < t.length; ++i) {\n      var d = t[i];\n      if (Ht(d, Uint8Array)) u + d.length > a.length ? g.from(d).copy(a, u) : Uint8Array.prototype.set.call(a, d, u);else if (g.isBuffer(d)) d.copy(a, u);else throw new TypeError('\"list\" argument must be an Array of Buffers');\n      u += d.length;\n    }\n    return a;\n  };\n  function Ln(e, t) {\n    if (g.isBuffer(e)) return e.length;\n    if (ArrayBuffer.isView(e) || Ht(e, ArrayBuffer)) return e.byteLength;\n    if (typeof e != \"string\") throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof e);\n    var r = e.length,\n      i = arguments.length > 2 && arguments[2] === !0;\n    if (!i && r === 0) return 0;\n    for (var a = !1;;) switch (t) {\n      case \"ascii\":\n      case \"latin1\":\n      case \"binary\":\n        return r;\n      case \"utf8\":\n      case \"utf-8\":\n        return Gr(e).length;\n      case \"ucs2\":\n      case \"ucs-2\":\n      case \"utf16le\":\n      case \"utf-16le\":\n        return r * 2;\n      case \"hex\":\n        return r >>> 1;\n      case \"base64\":\n        return oi(e).length;\n      default:\n        if (a) return i ? -1 : Gr(e).length;\n        t = (\"\" + t).toLowerCase(), a = !0;\n    }\n  }\n  g.byteLength = Ln;\n  function Ro(e, t, r) {\n    var i = !1;\n    if ((t === void 0 || t < 0) && (t = 0), t > this.length || ((r === void 0 || r > this.length) && (r = this.length), r <= 0) || (r >>>= 0, t >>>= 0, r <= t)) return \"\";\n    for (e || (e = \"utf8\");;) switch (e) {\n      case \"hex\":\n        return Yo(this, t, r);\n      case \"utf8\":\n      case \"utf-8\":\n        return ei(this, t, r);\n      case \"ascii\":\n        return Ko(this, t, r);\n      case \"latin1\":\n      case \"binary\":\n        return Mo(this, t, r);\n      case \"base64\":\n        return ko(this, t, r);\n      case \"ucs2\":\n      case \"ucs-2\":\n      case \"utf16le\":\n      case \"utf-16le\":\n        return Vo(this, t, r);\n      default:\n        if (i) throw new TypeError(\"Unknown encoding: \" + e);\n        e = (e + \"\").toLowerCase(), i = !0;\n    }\n  }\n  g.prototype._isBuffer = !0;\n  function fe(e, t, r) {\n    var i = e[t];\n    e[t] = e[r], e[r] = i;\n  }\n  g.prototype.swap16 = function () {\n    var t = this.length;\n    if (t % 2 !== 0) throw new RangeError(\"Buffer size must be a multiple of 16-bits\");\n    for (var r = 0; r < t; r += 2) fe(this, r, r + 1);\n    return this;\n  };\n  g.prototype.swap32 = function () {\n    var t = this.length;\n    if (t % 4 !== 0) throw new RangeError(\"Buffer size must be a multiple of 32-bits\");\n    for (var r = 0; r < t; r += 4) fe(this, r, r + 3), fe(this, r + 1, r + 2);\n    return this;\n  };\n  g.prototype.swap64 = function () {\n    var t = this.length;\n    if (t % 8 !== 0) throw new RangeError(\"Buffer size must be a multiple of 64-bits\");\n    for (var r = 0; r < t; r += 8) fe(this, r, r + 7), fe(this, r + 1, r + 6), fe(this, r + 2, r + 5), fe(this, r + 3, r + 4);\n    return this;\n  };\n  g.prototype.toString = function () {\n    var t = this.length;\n    return t === 0 ? \"\" : arguments.length === 0 ? ei(this, 0, t) : Ro.apply(this, arguments);\n  };\n  g.prototype.toLocaleString = g.prototype.toString;\n  g.prototype.equals = function (t) {\n    if (!g.isBuffer(t)) throw new TypeError(\"Argument must be a Buffer\");\n    return this === t ? !0 : g.compare(this, t) === 0;\n  };\n  g.prototype.inspect = function () {\n    var t = \"\",\n      r = Ee.INSPECT_MAX_BYTES;\n    return t = this.toString(\"hex\", 0, r).replace(/(.{2})/g, \"$1 \").trim(), this.length > r && (t += \" ... \"), \"<Buffer \" + t + \">\";\n  };\n  Jn && (g.prototype[Jn] = g.prototype.inspect);\n  g.prototype.compare = function (t, r, i, a, u) {\n    if (Ht(t, Uint8Array) && (t = g.from(t, t.offset, t.byteLength)), !g.isBuffer(t)) throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type ' + typeof t);\n    if (r === void 0 && (r = 0), i === void 0 && (i = t ? t.length : 0), a === void 0 && (a = 0), u === void 0 && (u = this.length), r < 0 || i > t.length || a < 0 || u > this.length) throw new RangeError(\"out of range index\");\n    if (a >= u && r >= i) return 0;\n    if (a >= u) return -1;\n    if (r >= i) return 1;\n    if (r >>>= 0, i >>>= 0, a >>>= 0, u >>>= 0, this === t) return 0;\n    for (var d = u - a, m = i - r, w = Math.min(d, m), A = this.slice(a, u), P = t.slice(r, i), O = 0; O < w; ++O) if (A[O] !== P[O]) {\n      d = A[O], m = P[O];\n      break;\n    }\n    return d < m ? -1 : m < d ? 1 : 0;\n  };\n  function ti(e, t, r, i, a) {\n    if (e.length === 0) return -1;\n    if (typeof r == \"string\" ? (i = r, r = 0) : r > 2147483647 ? r = 2147483647 : r < -2147483648 && (r = -2147483648), r = +r, Xr(r) && (r = a ? 0 : e.length - 1), r < 0 && (r = e.length + r), r >= e.length) {\n      if (a) return -1;\n      r = e.length - 1;\n    } else if (r < 0) if (a) r = 0;else return -1;\n    if (typeof t == \"string\" && (t = g.from(t, i)), g.isBuffer(t)) return t.length === 0 ? -1 : Xn(e, t, r, i, a);\n    if (typeof t == \"number\") return t = t & 255, typeof Uint8Array.prototype.indexOf == \"function\" ? a ? Uint8Array.prototype.indexOf.call(e, t, r) : Uint8Array.prototype.lastIndexOf.call(e, t, r) : Xn(e, [t], r, i, a);\n    throw new TypeError(\"val must be string, number or Buffer\");\n  }\n  function Xn(e, t, r, i, a) {\n    var u = 1,\n      d = e.length,\n      m = t.length;\n    if (i !== void 0 && (i = String(i).toLowerCase(), i === \"ucs2\" || i === \"ucs-2\" || i === \"utf16le\" || i === \"utf-16le\")) {\n      if (e.length < 2 || t.length < 2) return -1;\n      u = 2, d /= 2, m /= 2, r /= 2;\n    }\n    function w(it, st) {\n      return u === 1 ? it[st] : it.readUInt16BE(st * u);\n    }\n    var A;\n    if (a) {\n      var P = -1;\n      for (A = r; A < d; A++) if (w(e, A) === w(t, P === -1 ? 0 : A - P)) {\n        if (P === -1 && (P = A), A - P + 1 === m) return P * u;\n      } else P !== -1 && (A -= A - P), P = -1;\n    } else for (r + m > d && (r = d - m), A = r; A >= 0; A--) {\n      for (var O = !0, Z = 0; Z < m; Z++) if (w(e, A + Z) !== w(t, Z)) {\n        O = !1;\n        break;\n      }\n      if (O) return A;\n    }\n    return -1;\n  }\n  g.prototype.includes = function (t, r, i) {\n    return this.indexOf(t, r, i) !== -1;\n  };\n  g.prototype.indexOf = function (t, r, i) {\n    return ti(this, t, r, i, !0);\n  };\n  g.prototype.lastIndexOf = function (t, r, i) {\n    return ti(this, t, r, i, !1);\n  };\n  function Bo(e, t, r, i) {\n    r = Number(r) || 0;\n    var a = e.length - r;\n    i ? (i = Number(i), i > a && (i = a)) : i = a;\n    var u = t.length;\n    i > u / 2 && (i = u / 2);\n    for (var d = 0; d < i; ++d) {\n      var m = parseInt(t.substr(d * 2, 2), 16);\n      if (Xr(m)) return d;\n      e[r + d] = m;\n    }\n    return d;\n  }\n  function No(e, t, r, i) {\n    return hr(Gr(t, e.length - r), e, r, i);\n  }\n  function Po(e, t, r, i) {\n    return hr($o(t), e, r, i);\n  }\n  function Co(e, t, r, i) {\n    return hr(oi(t), e, r, i);\n  }\n  function Fo(e, t, r, i) {\n    return hr(Wo(t, e.length - r), e, r, i);\n  }\n  g.prototype.write = function (t, r, i, a) {\n    if (r === void 0) a = \"utf8\", i = this.length, r = 0;else if (i === void 0 && typeof r == \"string\") a = r, i = this.length, r = 0;else if (isFinite(r)) r = r >>> 0, isFinite(i) ? (i = i >>> 0, a === void 0 && (a = \"utf8\")) : (a = i, i = void 0);else throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");\n    var u = this.length - r;\n    if ((i === void 0 || i > u) && (i = u), t.length > 0 && (i < 0 || r < 0) || r > this.length) throw new RangeError(\"Attempt to write outside buffer bounds\");\n    a || (a = \"utf8\");\n    for (var d = !1;;) switch (a) {\n      case \"hex\":\n        return Bo(this, t, r, i);\n      case \"utf8\":\n      case \"utf-8\":\n        return No(this, t, r, i);\n      case \"ascii\":\n      case \"latin1\":\n      case \"binary\":\n        return Po(this, t, r, i);\n      case \"base64\":\n        return Co(this, t, r, i);\n      case \"ucs2\":\n      case \"ucs-2\":\n      case \"utf16le\":\n      case \"utf-16le\":\n        return Fo(this, t, r, i);\n      default:\n        if (d) throw new TypeError(\"Unknown encoding: \" + a);\n        a = (\"\" + a).toLowerCase(), d = !0;\n    }\n  };\n  g.prototype.toJSON = function () {\n    return {\n      type: \"Buffer\",\n      data: Array.prototype.slice.call(this._arr || this, 0)\n    };\n  };\n  function ko(e, t, r) {\n    return t === 0 && r === e.length ? $r.fromByteArray(e) : $r.fromByteArray(e.slice(t, r));\n  }\n  function ei(e, t, r) {\n    r = Math.min(e.length, r);\n    for (var i = [], a = t; a < r;) {\n      var u = e[a],\n        d = null,\n        m = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;\n      if (a + m <= r) {\n        var w, A, P, O;\n        switch (m) {\n          case 1:\n            u < 128 && (d = u);\n            break;\n          case 2:\n            w = e[a + 1], (w & 192) === 128 && (O = (u & 31) << 6 | w & 63, O > 127 && (d = O));\n            break;\n          case 3:\n            w = e[a + 1], A = e[a + 2], (w & 192) === 128 && (A & 192) === 128 && (O = (u & 15) << 12 | (w & 63) << 6 | A & 63, O > 2047 && (O < 55296 || O > 57343) && (d = O));\n            break;\n          case 4:\n            w = e[a + 1], A = e[a + 2], P = e[a + 3], (w & 192) === 128 && (A & 192) === 128 && (P & 192) === 128 && (O = (u & 15) << 18 | (w & 63) << 12 | (A & 63) << 6 | P & 63, O > 65535 && O < 1114112 && (d = O));\n        }\n      }\n      d === null ? (d = 65533, m = 1) : d > 65535 && (d -= 65536, i.push(d >>> 10 & 1023 | 55296), d = 56320 | d & 1023), i.push(d), a += m;\n    }\n    return jo(i);\n  }\n  var Zn = 4096;\n  function jo(e) {\n    var t = e.length;\n    if (t <= Zn) return String.fromCharCode.apply(String, e);\n    for (var r = \"\", i = 0; i < t;) r += String.fromCharCode.apply(String, e.slice(i, i += Zn));\n    return r;\n  }\n  function Ko(e, t, r) {\n    var i = \"\";\n    r = Math.min(e.length, r);\n    for (var a = t; a < r; ++a) i += String.fromCharCode(e[a] & 127);\n    return i;\n  }\n  function Mo(e, t, r) {\n    var i = \"\";\n    r = Math.min(e.length, r);\n    for (var a = t; a < r; ++a) i += String.fromCharCode(e[a]);\n    return i;\n  }\n  function Yo(e, t, r) {\n    var i = e.length;\n    (!t || t < 0) && (t = 0), (!r || r < 0 || r > i) && (r = i);\n    for (var a = \"\", u = t; u < r; ++u) a += zo[e[u]];\n    return a;\n  }\n  function Vo(e, t, r) {\n    for (var i = e.slice(t, r), a = \"\", u = 0; u < i.length - 1; u += 2) a += String.fromCharCode(i[u] + i[u + 1] * 256);\n    return a;\n  }\n  g.prototype.slice = function (t, r) {\n    var i = this.length;\n    t = ~~t, r = r === void 0 ? i : ~~r, t < 0 ? (t += i, t < 0 && (t = 0)) : t > i && (t = i), r < 0 ? (r += i, r < 0 && (r = 0)) : r > i && (r = i), r < t && (r = t);\n    var a = this.subarray(t, r);\n    return Object.setPrototypeOf(a, g.prototype), a;\n  };\n  function pt(e, t, r) {\n    if (e % 1 !== 0 || e < 0) throw new RangeError(\"offset is not uint\");\n    if (e + t > r) throw new RangeError(\"Trying to access beyond buffer length\");\n  }\n  g.prototype.readUintLE = g.prototype.readUIntLE = function (t, r, i) {\n    t = t >>> 0, r = r >>> 0, i || pt(t, r, this.length);\n    for (var a = this[t], u = 1, d = 0; ++d < r && (u *= 256);) a += this[t + d] * u;\n    return a;\n  };\n  g.prototype.readUintBE = g.prototype.readUIntBE = function (t, r, i) {\n    t = t >>> 0, r = r >>> 0, i || pt(t, r, this.length);\n    for (var a = this[t + --r], u = 1; r > 0 && (u *= 256);) a += this[t + --r] * u;\n    return a;\n  };\n  g.prototype.readUint8 = g.prototype.readUInt8 = function (t, r) {\n    return t = t >>> 0, r || pt(t, 1, this.length), this[t];\n  };\n  g.prototype.readUint16LE = g.prototype.readUInt16LE = function (t, r) {\n    return t = t >>> 0, r || pt(t, 2, this.length), this[t] | this[t + 1] << 8;\n  };\n  g.prototype.readUint16BE = g.prototype.readUInt16BE = function (t, r) {\n    return t = t >>> 0, r || pt(t, 2, this.length), this[t] << 8 | this[t + 1];\n  };\n  g.prototype.readUint32LE = g.prototype.readUInt32LE = function (t, r) {\n    return t = t >>> 0, r || pt(t, 4, this.length), (this[t] | this[t + 1] << 8 | this[t + 2] << 16) + this[t + 3] * 16777216;\n  };\n  g.prototype.readUint32BE = g.prototype.readUInt32BE = function (t, r) {\n    return t = t >>> 0, r || pt(t, 4, this.length), this[t] * 16777216 + (this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]);\n  };\n  g.prototype.readIntLE = function (t, r, i) {\n    t = t >>> 0, r = r >>> 0, i || pt(t, r, this.length);\n    for (var a = this[t], u = 1, d = 0; ++d < r && (u *= 256);) a += this[t + d] * u;\n    return u *= 128, a >= u && (a -= Math.pow(2, 8 * r)), a;\n  };\n  g.prototype.readIntBE = function (t, r, i) {\n    t = t >>> 0, r = r >>> 0, i || pt(t, r, this.length);\n    for (var a = r, u = 1, d = this[t + --a]; a > 0 && (u *= 256);) d += this[t + --a] * u;\n    return u *= 128, d >= u && (d -= Math.pow(2, 8 * r)), d;\n  };\n  g.prototype.readInt8 = function (t, r) {\n    return t = t >>> 0, r || pt(t, 1, this.length), this[t] & 128 ? (255 - this[t] + 1) * -1 : this[t];\n  };\n  g.prototype.readInt16LE = function (t, r) {\n    t = t >>> 0, r || pt(t, 2, this.length);\n    var i = this[t] | this[t + 1] << 8;\n    return i & 32768 ? i | 4294901760 : i;\n  };\n  g.prototype.readInt16BE = function (t, r) {\n    t = t >>> 0, r || pt(t, 2, this.length);\n    var i = this[t + 1] | this[t] << 8;\n    return i & 32768 ? i | 4294901760 : i;\n  };\n  g.prototype.readInt32LE = function (t, r) {\n    return t = t >>> 0, r || pt(t, 4, this.length), this[t] | this[t + 1] << 8 | this[t + 2] << 16 | this[t + 3] << 24;\n  };\n  g.prototype.readInt32BE = function (t, r) {\n    return t = t >>> 0, r || pt(t, 4, this.length), this[t] << 24 | this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3];\n  };\n  g.prototype.readFloatLE = function (t, r) {\n    return t = t >>> 0, r || pt(t, 4, this.length), ve.read(this, t, !0, 23, 4);\n  };\n  g.prototype.readFloatBE = function (t, r) {\n    return t = t >>> 0, r || pt(t, 4, this.length), ve.read(this, t, !1, 23, 4);\n  };\n  g.prototype.readDoubleLE = function (t, r) {\n    return t = t >>> 0, r || pt(t, 8, this.length), ve.read(this, t, !0, 52, 8);\n  };\n  g.prototype.readDoubleBE = function (t, r) {\n    return t = t >>> 0, r || pt(t, 8, this.length), ve.read(this, t, !1, 52, 8);\n  };\n  function vt(e, t, r, i, a, u) {\n    if (!g.isBuffer(e)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n    if (t > a || t < u) throw new RangeError('\"value\" argument is out of bounds');\n    if (r + i > e.length) throw new RangeError(\"Index out of range\");\n  }\n  g.prototype.writeUintLE = g.prototype.writeUIntLE = function (t, r, i, a) {\n    if (t = +t, r = r >>> 0, i = i >>> 0, !a) {\n      var u = Math.pow(2, 8 * i) - 1;\n      vt(this, t, r, i, u, 0);\n    }\n    var d = 1,\n      m = 0;\n    for (this[r] = t & 255; ++m < i && (d *= 256);) this[r + m] = t / d & 255;\n    return r + i;\n  };\n  g.prototype.writeUintBE = g.prototype.writeUIntBE = function (t, r, i, a) {\n    if (t = +t, r = r >>> 0, i = i >>> 0, !a) {\n      var u = Math.pow(2, 8 * i) - 1;\n      vt(this, t, r, i, u, 0);\n    }\n    var d = i - 1,\n      m = 1;\n    for (this[r + d] = t & 255; --d >= 0 && (m *= 256);) this[r + d] = t / m & 255;\n    return r + i;\n  };\n  g.prototype.writeUint8 = g.prototype.writeUInt8 = function (t, r, i) {\n    return t = +t, r = r >>> 0, i || vt(this, t, r, 1, 255, 0), this[r] = t & 255, r + 1;\n  };\n  g.prototype.writeUint16LE = g.prototype.writeUInt16LE = function (t, r, i) {\n    return t = +t, r = r >>> 0, i || vt(this, t, r, 2, 65535, 0), this[r] = t & 255, this[r + 1] = t >>> 8, r + 2;\n  };\n  g.prototype.writeUint16BE = g.prototype.writeUInt16BE = function (t, r, i) {\n    return t = +t, r = r >>> 0, i || vt(this, t, r, 2, 65535, 0), this[r] = t >>> 8, this[r + 1] = t & 255, r + 2;\n  };\n  g.prototype.writeUint32LE = g.prototype.writeUInt32LE = function (t, r, i) {\n    return t = +t, r = r >>> 0, i || vt(this, t, r, 4, 4294967295, 0), this[r + 3] = t >>> 24, this[r + 2] = t >>> 16, this[r + 1] = t >>> 8, this[r] = t & 255, r + 4;\n  };\n  g.prototype.writeUint32BE = g.prototype.writeUInt32BE = function (t, r, i) {\n    return t = +t, r = r >>> 0, i || vt(this, t, r, 4, 4294967295, 0), this[r] = t >>> 24, this[r + 1] = t >>> 16, this[r + 2] = t >>> 8, this[r + 3] = t & 255, r + 4;\n  };\n  g.prototype.writeIntLE = function (t, r, i, a) {\n    if (t = +t, r = r >>> 0, !a) {\n      var u = Math.pow(2, 8 * i - 1);\n      vt(this, t, r, i, u - 1, -u);\n    }\n    var d = 0,\n      m = 1,\n      w = 0;\n    for (this[r] = t & 255; ++d < i && (m *= 256);) t < 0 && w === 0 && this[r + d - 1] !== 0 && (w = 1), this[r + d] = (t / m >> 0) - w & 255;\n    return r + i;\n  };\n  g.prototype.writeIntBE = function (t, r, i, a) {\n    if (t = +t, r = r >>> 0, !a) {\n      var u = Math.pow(2, 8 * i - 1);\n      vt(this, t, r, i, u - 1, -u);\n    }\n    var d = i - 1,\n      m = 1,\n      w = 0;\n    for (this[r + d] = t & 255; --d >= 0 && (m *= 256);) t < 0 && w === 0 && this[r + d + 1] !== 0 && (w = 1), this[r + d] = (t / m >> 0) - w & 255;\n    return r + i;\n  };\n  g.prototype.writeInt8 = function (t, r, i) {\n    return t = +t, r = r >>> 0, i || vt(this, t, r, 1, 127, -128), t < 0 && (t = 255 + t + 1), this[r] = t & 255, r + 1;\n  };\n  g.prototype.writeInt16LE = function (t, r, i) {\n    return t = +t, r = r >>> 0, i || vt(this, t, r, 2, 32767, -32768), this[r] = t & 255, this[r + 1] = t >>> 8, r + 2;\n  };\n  g.prototype.writeInt16BE = function (t, r, i) {\n    return t = +t, r = r >>> 0, i || vt(this, t, r, 2, 32767, -32768), this[r] = t >>> 8, this[r + 1] = t & 255, r + 2;\n  };\n  g.prototype.writeInt32LE = function (t, r, i) {\n    return t = +t, r = r >>> 0, i || vt(this, t, r, 4, 2147483647, -2147483648), this[r] = t & 255, this[r + 1] = t >>> 8, this[r + 2] = t >>> 16, this[r + 3] = t >>> 24, r + 4;\n  };\n  g.prototype.writeInt32BE = function (t, r, i) {\n    return t = +t, r = r >>> 0, i || vt(this, t, r, 4, 2147483647, -2147483648), t < 0 && (t = 4294967295 + t + 1), this[r] = t >>> 24, this[r + 1] = t >>> 16, this[r + 2] = t >>> 8, this[r + 3] = t & 255, r + 4;\n  };\n  function ri(e, t, r, i, a, u) {\n    if (r + i > e.length) throw new RangeError(\"Index out of range\");\n    if (r < 0) throw new RangeError(\"Index out of range\");\n  }\n  function ni(e, t, r, i, a) {\n    return t = +t, r = r >>> 0, a || ri(e, t, r, 4, 34028234663852886e22, -34028234663852886e22), ve.write(e, t, r, i, 23, 4), r + 4;\n  }\n  g.prototype.writeFloatLE = function (t, r, i) {\n    return ni(this, t, r, !0, i);\n  };\n  g.prototype.writeFloatBE = function (t, r, i) {\n    return ni(this, t, r, !1, i);\n  };\n  function ii(e, t, r, i, a) {\n    return t = +t, r = r >>> 0, a || ri(e, t, r, 8, 17976931348623157e292, -17976931348623157e292), ve.write(e, t, r, i, 52, 8), r + 8;\n  }\n  g.prototype.writeDoubleLE = function (t, r, i) {\n    return ii(this, t, r, !0, i);\n  };\n  g.prototype.writeDoubleBE = function (t, r, i) {\n    return ii(this, t, r, !1, i);\n  };\n  g.prototype.copy = function (t, r, i, a) {\n    if (!g.isBuffer(t)) throw new TypeError(\"argument should be a Buffer\");\n    if (i || (i = 0), !a && a !== 0 && (a = this.length), r >= t.length && (r = t.length), r || (r = 0), a > 0 && a < i && (a = i), a === i || t.length === 0 || this.length === 0) return 0;\n    if (r < 0) throw new RangeError(\"targetStart out of bounds\");\n    if (i < 0 || i >= this.length) throw new RangeError(\"Index out of range\");\n    if (a < 0) throw new RangeError(\"sourceEnd out of bounds\");\n    a > this.length && (a = this.length), t.length - r < a - i && (a = t.length - r + i);\n    var u = a - i;\n    return this === t && typeof Uint8Array.prototype.copyWithin == \"function\" ? this.copyWithin(r, i, a) : Uint8Array.prototype.set.call(t, this.subarray(i, a), r), u;\n  };\n  g.prototype.fill = function (t, r, i, a) {\n    if (typeof t == \"string\") {\n      if (typeof r == \"string\" ? (a = r, r = 0, i = this.length) : typeof i == \"string\" && (a = i, i = this.length), a !== void 0 && typeof a != \"string\") throw new TypeError(\"encoding must be a string\");\n      if (typeof a == \"string\" && !g.isEncoding(a)) throw new TypeError(\"Unknown encoding: \" + a);\n      if (t.length === 1) {\n        var u = t.charCodeAt(0);\n        (a === \"utf8\" && u < 128 || a === \"latin1\") && (t = u);\n      }\n    } else typeof t == \"number\" ? t = t & 255 : typeof t == \"boolean\" && (t = Number(t));\n    if (r < 0 || this.length < r || this.length < i) throw new RangeError(\"Out of range index\");\n    if (i <= r) return this;\n    r = r >>> 0, i = i === void 0 ? this.length : i >>> 0, t || (t = 0);\n    var d;\n    if (typeof t == \"number\") for (d = r; d < i; ++d) this[d] = t;else {\n      var m = g.isBuffer(t) ? t : g.from(t, a),\n        w = m.length;\n      if (w === 0) throw new TypeError('The value \"' + t + '\" is invalid for argument \"value\"');\n      for (d = 0; d < i - r; ++d) this[d + r] = m[d % w];\n    }\n    return this;\n  };\n  var qo = /[^+/0-9A-Za-z-_]/g;\n  function Ho(e) {\n    if (e = e.split(\"=\")[0], e = e.trim().replace(qo, \"\"), e.length < 2) return \"\";\n    for (; e.length % 4 !== 0;) e = e + \"=\";\n    return e;\n  }\n  function Gr(e, t) {\n    t = t || 1 / 0;\n    for (var r, i = e.length, a = null, u = [], d = 0; d < i; ++d) {\n      if (r = e.charCodeAt(d), r > 55295 && r < 57344) {\n        if (!a) {\n          if (r > 56319) {\n            (t -= 3) > -1 && u.push(239, 191, 189);\n            continue;\n          } else if (d + 1 === i) {\n            (t -= 3) > -1 && u.push(239, 191, 189);\n            continue;\n          }\n          a = r;\n          continue;\n        }\n        if (r < 56320) {\n          (t -= 3) > -1 && u.push(239, 191, 189), a = r;\n          continue;\n        }\n        r = (a - 55296 << 10 | r - 56320) + 65536;\n      } else a && (t -= 3) > -1 && u.push(239, 191, 189);\n      if (a = null, r < 128) {\n        if ((t -= 1) < 0) break;\n        u.push(r);\n      } else if (r < 2048) {\n        if ((t -= 2) < 0) break;\n        u.push(r >> 6 | 192, r & 63 | 128);\n      } else if (r < 65536) {\n        if ((t -= 3) < 0) break;\n        u.push(r >> 12 | 224, r >> 6 & 63 | 128, r & 63 | 128);\n      } else if (r < 1114112) {\n        if ((t -= 4) < 0) break;\n        u.push(r >> 18 | 240, r >> 12 & 63 | 128, r >> 6 & 63 | 128, r & 63 | 128);\n      } else throw new Error(\"Invalid code point\");\n    }\n    return u;\n  }\n  function $o(e) {\n    for (var t = [], r = 0; r < e.length; ++r) t.push(e.charCodeAt(r) & 255);\n    return t;\n  }\n  function Wo(e, t) {\n    for (var r, i, a, u = [], d = 0; d < e.length && !((t -= 2) < 0); ++d) r = e.charCodeAt(d), i = r >> 8, a = r % 256, u.push(a), u.push(i);\n    return u;\n  }\n  function oi(e) {\n    return $r.toByteArray(Ho(e));\n  }\n  function hr(e, t, r, i) {\n    for (var a = 0; a < i && !(a + r >= t.length || a >= e.length); ++a) t[a + r] = e[a];\n    return a;\n  }\n  function Ht(e, t) {\n    return e instanceof t || e != null && e.constructor != null && e.constructor.name != null && e.constructor.name === t.name;\n  }\n  function Xr(e) {\n    return e !== e;\n  }\n  var zo = function () {\n    for (var e = \"0123456789abcdef\", t = new Array(256), r = 0; r < 16; ++r) for (var i = r * 16, a = 0; a < 16; ++a) t[i + a] = e[r] + e[a];\n    return t;\n  }();\n});\nvar bi = {};\nNn(bi, {\n  default: function _default() {\n    return la;\n  }\n});\nvar la,\n  vi = uo(function () {\n    la = {};\n  });\nvar Ei = or(function (wf, gr) {\n  var le = (vi(), lo(bi));\n  if (le && le.default) {\n    gr.exports = le.default;\n    for (var e in le) gr.exports[e] = le[e];\n  } else le && (gr.exports = le);\n});\nvar en = or(function (gf, _r) {\n  (function (e) {\n    \"use strict\";\n\n    var t = function t(o) {\n        var f,\n          s = new Float64Array(16);\n        if (o) for (f = 0; f < o.length; f++) s[f] = o[f];\n        return s;\n      },\n      r = function r() {\n        throw new Error(\"no PRNG\");\n      },\n      i = new Uint8Array(16),\n      a = new Uint8Array(32);\n    a[0] = 9;\n    var u = t(),\n      d = t([1]),\n      m = t([56129, 1]),\n      w = t([30883, 4953, 19914, 30187, 55467, 16705, 2637, 112, 59544, 30585, 16505, 36039, 65139, 11119, 27886, 20995]),\n      A = t([61785, 9906, 39828, 60374, 45398, 33411, 5274, 224, 53552, 61171, 33010, 6542, 64743, 22239, 55772, 9222]),\n      P = t([54554, 36645, 11616, 51542, 42930, 38181, 51040, 26924, 56412, 64982, 57905, 49316, 21502, 52590, 14035, 8553]),\n      O = t([26200, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214, 26214]),\n      Z = t([41136, 18958, 6951, 50414, 58488, 44335, 6150, 12099, 55207, 15867, 153, 11085, 57099, 20417, 9344, 11139]);\n    function it(o, f, s, n) {\n      o[f] = s >> 24 & 255, o[f + 1] = s >> 16 & 255, o[f + 2] = s >> 8 & 255, o[f + 3] = s & 255, o[f + 4] = n >> 24 & 255, o[f + 5] = n >> 16 & 255, o[f + 6] = n >> 8 & 255, o[f + 7] = n & 255;\n    }\n    function st(o, f, s, n, c) {\n      var h,\n        p = 0;\n      for (h = 0; h < c; h++) p |= o[f + h] ^ s[n + h];\n      return (1 & p - 1 >>> 8) - 1;\n    }\n    function xt(o, f, s, n) {\n      return st(o, f, s, n, 16);\n    }\n    function Tt(o, f, s, n) {\n      return st(o, f, s, n, 32);\n    }\n    function dt(o, f, s, n) {\n      for (var c = n[0] & 255 | (n[1] & 255) << 8 | (n[2] & 255) << 16 | (n[3] & 255) << 24, h = s[0] & 255 | (s[1] & 255) << 8 | (s[2] & 255) << 16 | (s[3] & 255) << 24, p = s[4] & 255 | (s[5] & 255) << 8 | (s[6] & 255) << 16 | (s[7] & 255) << 24, b = s[8] & 255 | (s[9] & 255) << 8 | (s[10] & 255) << 16 | (s[11] & 255) << 24, S = s[12] & 255 | (s[13] & 255) << 8 | (s[14] & 255) << 16 | (s[15] & 255) << 24, j = n[4] & 255 | (n[5] & 255) << 8 | (n[6] & 255) << 16 | (n[7] & 255) << 24, R = f[0] & 255 | (f[1] & 255) << 8 | (f[2] & 255) << 16 | (f[3] & 255) << 24, et = f[4] & 255 | (f[5] & 255) << 8 | (f[6] & 255) << 16 | (f[7] & 255) << 24, N = f[8] & 255 | (f[9] & 255) << 8 | (f[10] & 255) << 16 | (f[11] & 255) << 24, Y = f[12] & 255 | (f[13] & 255) << 8 | (f[14] & 255) << 16 | (f[15] & 255) << 24, V = n[8] & 255 | (n[9] & 255) << 8 | (n[10] & 255) << 16 | (n[11] & 255) << 24, z = s[16] & 255 | (s[17] & 255) << 8 | (s[18] & 255) << 16 | (s[19] & 255) << 24, W = s[20] & 255 | (s[21] & 255) << 8 | (s[22] & 255) << 16 | (s[23] & 255) << 24, q = s[24] & 255 | (s[25] & 255) << 8 | (s[26] & 255) << 16 | (s[27] & 255) << 24, $ = s[28] & 255 | (s[29] & 255) << 8 | (s[30] & 255) << 16 | (s[31] & 255) << 24, H = n[12] & 255 | (n[13] & 255) << 8 | (n[14] & 255) << 16 | (n[15] & 255) << 24, C = c, K = h, B = p, F = b, k = S, U = j, x = R, y = et, E = N, _ = Y, v = V, T = z, M = W, G = q, J = $, I = H, l, Q = 0; Q < 20; Q += 2) l = C + M | 0, k ^= l << 7 | l >>> 32 - 7, l = k + C | 0, E ^= l << 9 | l >>> 32 - 9, l = E + k | 0, M ^= l << 13 | l >>> 32 - 13, l = M + E | 0, C ^= l << 18 | l >>> 32 - 18, l = U + K | 0, _ ^= l << 7 | l >>> 32 - 7, l = _ + U | 0, G ^= l << 9 | l >>> 32 - 9, l = G + _ | 0, K ^= l << 13 | l >>> 32 - 13, l = K + G | 0, U ^= l << 18 | l >>> 32 - 18, l = v + x | 0, J ^= l << 7 | l >>> 32 - 7, l = J + v | 0, B ^= l << 9 | l >>> 32 - 9, l = B + J | 0, x ^= l << 13 | l >>> 32 - 13, l = x + B | 0, v ^= l << 18 | l >>> 32 - 18, l = I + T | 0, F ^= l << 7 | l >>> 32 - 7, l = F + I | 0, y ^= l << 9 | l >>> 32 - 9, l = y + F | 0, T ^= l << 13 | l >>> 32 - 13, l = T + y | 0, I ^= l << 18 | l >>> 32 - 18, l = C + F | 0, K ^= l << 7 | l >>> 32 - 7, l = K + C | 0, B ^= l << 9 | l >>> 32 - 9, l = B + K | 0, F ^= l << 13 | l >>> 32 - 13, l = F + B | 0, C ^= l << 18 | l >>> 32 - 18, l = U + k | 0, x ^= l << 7 | l >>> 32 - 7, l = x + U | 0, y ^= l << 9 | l >>> 32 - 9, l = y + x | 0, k ^= l << 13 | l >>> 32 - 13, l = k + y | 0, U ^= l << 18 | l >>> 32 - 18, l = v + _ | 0, T ^= l << 7 | l >>> 32 - 7, l = T + v | 0, E ^= l << 9 | l >>> 32 - 9, l = E + T | 0, _ ^= l << 13 | l >>> 32 - 13, l = _ + E | 0, v ^= l << 18 | l >>> 32 - 18, l = I + J | 0, M ^= l << 7 | l >>> 32 - 7, l = M + I | 0, G ^= l << 9 | l >>> 32 - 9, l = G + M | 0, J ^= l << 13 | l >>> 32 - 13, l = J + G | 0, I ^= l << 18 | l >>> 32 - 18;\n      C = C + c | 0, K = K + h | 0, B = B + p | 0, F = F + b | 0, k = k + S | 0, U = U + j | 0, x = x + R | 0, y = y + et | 0, E = E + N | 0, _ = _ + Y | 0, v = v + V | 0, T = T + z | 0, M = M + W | 0, G = G + q | 0, J = J + $ | 0, I = I + H | 0, o[0] = C >>> 0 & 255, o[1] = C >>> 8 & 255, o[2] = C >>> 16 & 255, o[3] = C >>> 24 & 255, o[4] = K >>> 0 & 255, o[5] = K >>> 8 & 255, o[6] = K >>> 16 & 255, o[7] = K >>> 24 & 255, o[8] = B >>> 0 & 255, o[9] = B >>> 8 & 255, o[10] = B >>> 16 & 255, o[11] = B >>> 24 & 255, o[12] = F >>> 0 & 255, o[13] = F >>> 8 & 255, o[14] = F >>> 16 & 255, o[15] = F >>> 24 & 255, o[16] = k >>> 0 & 255, o[17] = k >>> 8 & 255, o[18] = k >>> 16 & 255, o[19] = k >>> 24 & 255, o[20] = U >>> 0 & 255, o[21] = U >>> 8 & 255, o[22] = U >>> 16 & 255, o[23] = U >>> 24 & 255, o[24] = x >>> 0 & 255, o[25] = x >>> 8 & 255, o[26] = x >>> 16 & 255, o[27] = x >>> 24 & 255, o[28] = y >>> 0 & 255, o[29] = y >>> 8 & 255, o[30] = y >>> 16 & 255, o[31] = y >>> 24 & 255, o[32] = E >>> 0 & 255, o[33] = E >>> 8 & 255, o[34] = E >>> 16 & 255, o[35] = E >>> 24 & 255, o[36] = _ >>> 0 & 255, o[37] = _ >>> 8 & 255, o[38] = _ >>> 16 & 255, o[39] = _ >>> 24 & 255, o[40] = v >>> 0 & 255, o[41] = v >>> 8 & 255, o[42] = v >>> 16 & 255, o[43] = v >>> 24 & 255, o[44] = T >>> 0 & 255, o[45] = T >>> 8 & 255, o[46] = T >>> 16 & 255, o[47] = T >>> 24 & 255, o[48] = M >>> 0 & 255, o[49] = M >>> 8 & 255, o[50] = M >>> 16 & 255, o[51] = M >>> 24 & 255, o[52] = G >>> 0 & 255, o[53] = G >>> 8 & 255, o[54] = G >>> 16 & 255, o[55] = G >>> 24 & 255, o[56] = J >>> 0 & 255, o[57] = J >>> 8 & 255, o[58] = J >>> 16 & 255, o[59] = J >>> 24 & 255, o[60] = I >>> 0 & 255, o[61] = I >>> 8 & 255, o[62] = I >>> 16 & 255, o[63] = I >>> 24 & 255;\n    }\n    function Bt(o, f, s, n) {\n      for (var c = n[0] & 255 | (n[1] & 255) << 8 | (n[2] & 255) << 16 | (n[3] & 255) << 24, h = s[0] & 255 | (s[1] & 255) << 8 | (s[2] & 255) << 16 | (s[3] & 255) << 24, p = s[4] & 255 | (s[5] & 255) << 8 | (s[6] & 255) << 16 | (s[7] & 255) << 24, b = s[8] & 255 | (s[9] & 255) << 8 | (s[10] & 255) << 16 | (s[11] & 255) << 24, S = s[12] & 255 | (s[13] & 255) << 8 | (s[14] & 255) << 16 | (s[15] & 255) << 24, j = n[4] & 255 | (n[5] & 255) << 8 | (n[6] & 255) << 16 | (n[7] & 255) << 24, R = f[0] & 255 | (f[1] & 255) << 8 | (f[2] & 255) << 16 | (f[3] & 255) << 24, et = f[4] & 255 | (f[5] & 255) << 8 | (f[6] & 255) << 16 | (f[7] & 255) << 24, N = f[8] & 255 | (f[9] & 255) << 8 | (f[10] & 255) << 16 | (f[11] & 255) << 24, Y = f[12] & 255 | (f[13] & 255) << 8 | (f[14] & 255) << 16 | (f[15] & 255) << 24, V = n[8] & 255 | (n[9] & 255) << 8 | (n[10] & 255) << 16 | (n[11] & 255) << 24, z = s[16] & 255 | (s[17] & 255) << 8 | (s[18] & 255) << 16 | (s[19] & 255) << 24, W = s[20] & 255 | (s[21] & 255) << 8 | (s[22] & 255) << 16 | (s[23] & 255) << 24, q = s[24] & 255 | (s[25] & 255) << 8 | (s[26] & 255) << 16 | (s[27] & 255) << 24, $ = s[28] & 255 | (s[29] & 255) << 8 | (s[30] & 255) << 16 | (s[31] & 255) << 24, H = n[12] & 255 | (n[13] & 255) << 8 | (n[14] & 255) << 16 | (n[15] & 255) << 24, C = c, K = h, B = p, F = b, k = S, U = j, x = R, y = et, E = N, _ = Y, v = V, T = z, M = W, G = q, J = $, I = H, l, Q = 0; Q < 20; Q += 2) l = C + M | 0, k ^= l << 7 | l >>> 32 - 7, l = k + C | 0, E ^= l << 9 | l >>> 32 - 9, l = E + k | 0, M ^= l << 13 | l >>> 32 - 13, l = M + E | 0, C ^= l << 18 | l >>> 32 - 18, l = U + K | 0, _ ^= l << 7 | l >>> 32 - 7, l = _ + U | 0, G ^= l << 9 | l >>> 32 - 9, l = G + _ | 0, K ^= l << 13 | l >>> 32 - 13, l = K + G | 0, U ^= l << 18 | l >>> 32 - 18, l = v + x | 0, J ^= l << 7 | l >>> 32 - 7, l = J + v | 0, B ^= l << 9 | l >>> 32 - 9, l = B + J | 0, x ^= l << 13 | l >>> 32 - 13, l = x + B | 0, v ^= l << 18 | l >>> 32 - 18, l = I + T | 0, F ^= l << 7 | l >>> 32 - 7, l = F + I | 0, y ^= l << 9 | l >>> 32 - 9, l = y + F | 0, T ^= l << 13 | l >>> 32 - 13, l = T + y | 0, I ^= l << 18 | l >>> 32 - 18, l = C + F | 0, K ^= l << 7 | l >>> 32 - 7, l = K + C | 0, B ^= l << 9 | l >>> 32 - 9, l = B + K | 0, F ^= l << 13 | l >>> 32 - 13, l = F + B | 0, C ^= l << 18 | l >>> 32 - 18, l = U + k | 0, x ^= l << 7 | l >>> 32 - 7, l = x + U | 0, y ^= l << 9 | l >>> 32 - 9, l = y + x | 0, k ^= l << 13 | l >>> 32 - 13, l = k + y | 0, U ^= l << 18 | l >>> 32 - 18, l = v + _ | 0, T ^= l << 7 | l >>> 32 - 7, l = T + v | 0, E ^= l << 9 | l >>> 32 - 9, l = E + T | 0, _ ^= l << 13 | l >>> 32 - 13, l = _ + E | 0, v ^= l << 18 | l >>> 32 - 18, l = I + J | 0, M ^= l << 7 | l >>> 32 - 7, l = M + I | 0, G ^= l << 9 | l >>> 32 - 9, l = G + M | 0, J ^= l << 13 | l >>> 32 - 13, l = J + G | 0, I ^= l << 18 | l >>> 32 - 18;\n      o[0] = C >>> 0 & 255, o[1] = C >>> 8 & 255, o[2] = C >>> 16 & 255, o[3] = C >>> 24 & 255, o[4] = U >>> 0 & 255, o[5] = U >>> 8 & 255, o[6] = U >>> 16 & 255, o[7] = U >>> 24 & 255, o[8] = v >>> 0 & 255, o[9] = v >>> 8 & 255, o[10] = v >>> 16 & 255, o[11] = v >>> 24 & 255, o[12] = I >>> 0 & 255, o[13] = I >>> 8 & 255, o[14] = I >>> 16 & 255, o[15] = I >>> 24 & 255, o[16] = x >>> 0 & 255, o[17] = x >>> 8 & 255, o[18] = x >>> 16 & 255, o[19] = x >>> 24 & 255, o[20] = y >>> 0 & 255, o[21] = y >>> 8 & 255, o[22] = y >>> 16 & 255, o[23] = y >>> 24 & 255, o[24] = E >>> 0 & 255, o[25] = E >>> 8 & 255, o[26] = E >>> 16 & 255, o[27] = E >>> 24 & 255, o[28] = _ >>> 0 & 255, o[29] = _ >>> 8 & 255, o[30] = _ >>> 16 & 255, o[31] = _ >>> 24 & 255;\n    }\n    function Mt(o, f, s, n) {\n      dt(o, f, s, n);\n    }\n    function Nt(o, f, s, n) {\n      Bt(o, f, s, n);\n    }\n    var Yt = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n    function Ie(o, f, s, n, c, h, p) {\n      var b = new Uint8Array(16),\n        S = new Uint8Array(64),\n        j,\n        R;\n      for (R = 0; R < 16; R++) b[R] = 0;\n      for (R = 0; R < 8; R++) b[R] = h[R];\n      for (; c >= 64;) {\n        for (Mt(S, b, p, Yt), R = 0; R < 64; R++) o[f + R] = s[n + R] ^ S[R];\n        for (j = 1, R = 8; R < 16; R++) j = j + (b[R] & 255) | 0, b[R] = j & 255, j >>>= 8;\n        c -= 64, f += 64, n += 64;\n      }\n      if (c > 0) for (Mt(S, b, p, Yt), R = 0; R < c; R++) o[f + R] = s[n + R] ^ S[R];\n      return 0;\n    }\n    function Je(o, f, s, n, c) {\n      var h = new Uint8Array(16),\n        p = new Uint8Array(64),\n        b,\n        S;\n      for (S = 0; S < 16; S++) h[S] = 0;\n      for (S = 0; S < 8; S++) h[S] = n[S];\n      for (; s >= 64;) {\n        for (Mt(p, h, c, Yt), S = 0; S < 64; S++) o[f + S] = p[S];\n        for (b = 1, S = 8; S < 16; S++) b = b + (h[S] & 255) | 0, h[S] = b & 255, b >>>= 8;\n        s -= 64, f += 64;\n      }\n      if (s > 0) for (Mt(p, h, c, Yt), S = 0; S < s; S++) o[f + S] = p[S];\n      return 0;\n    }\n    function Xe(o, f, s, n, c) {\n      var h = new Uint8Array(32);\n      Nt(h, n, c, Yt);\n      for (var p = new Uint8Array(8), b = 0; b < 8; b++) p[b] = n[b + 16];\n      return Je(o, f, s, p, h);\n    }\n    function Ue(o, f, s, n, c, h, p) {\n      var b = new Uint8Array(32);\n      Nt(b, h, p, Yt);\n      for (var S = new Uint8Array(8), j = 0; j < 8; j++) S[j] = h[j + 16];\n      return Ie(o, f, s, n, c, S, b);\n    }\n    var xe = function xe(o) {\n      this.buffer = new Uint8Array(16), this.r = new Uint16Array(10), this.h = new Uint16Array(10), this.pad = new Uint16Array(8), this.leftover = 0, this.fin = 0;\n      var f, s, n, c, h, p, b, S;\n      f = o[0] & 255 | (o[1] & 255) << 8, this.r[0] = f & 8191, s = o[2] & 255 | (o[3] & 255) << 8, this.r[1] = (f >>> 13 | s << 3) & 8191, n = o[4] & 255 | (o[5] & 255) << 8, this.r[2] = (s >>> 10 | n << 6) & 7939, c = o[6] & 255 | (o[7] & 255) << 8, this.r[3] = (n >>> 7 | c << 9) & 8191, h = o[8] & 255 | (o[9] & 255) << 8, this.r[4] = (c >>> 4 | h << 12) & 255, this.r[5] = h >>> 1 & 8190, p = o[10] & 255 | (o[11] & 255) << 8, this.r[6] = (h >>> 14 | p << 2) & 8191, b = o[12] & 255 | (o[13] & 255) << 8, this.r[7] = (p >>> 11 | b << 5) & 8065, S = o[14] & 255 | (o[15] & 255) << 8, this.r[8] = (b >>> 8 | S << 8) & 8191, this.r[9] = S >>> 5 & 127, this.pad[0] = o[16] & 255 | (o[17] & 255) << 8, this.pad[1] = o[18] & 255 | (o[19] & 255) << 8, this.pad[2] = o[20] & 255 | (o[21] & 255) << 8, this.pad[3] = o[22] & 255 | (o[23] & 255) << 8, this.pad[4] = o[24] & 255 | (o[25] & 255) << 8, this.pad[5] = o[26] & 255 | (o[27] & 255) << 8, this.pad[6] = o[28] & 255 | (o[29] & 255) << 8, this.pad[7] = o[30] & 255 | (o[31] & 255) << 8;\n    };\n    xe.prototype.blocks = function (o, f, s) {\n      for (var n = this.fin ? 0 : 2048, c, h, p, b, S, j, R, et, N, Y, V, z, W, q, $, H, C, K, B, F = this.h[0], k = this.h[1], U = this.h[2], x = this.h[3], y = this.h[4], E = this.h[5], _ = this.h[6], v = this.h[7], T = this.h[8], M = this.h[9], G = this.r[0], J = this.r[1], I = this.r[2], l = this.r[3], Q = this.r[4], rt = this.r[5], nt = this.r[6], X = this.r[7], L = this.r[8], tt = this.r[9]; s >= 16;) c = o[f + 0] & 255 | (o[f + 1] & 255) << 8, F += c & 8191, h = o[f + 2] & 255 | (o[f + 3] & 255) << 8, k += (c >>> 13 | h << 3) & 8191, p = o[f + 4] & 255 | (o[f + 5] & 255) << 8, U += (h >>> 10 | p << 6) & 8191, b = o[f + 6] & 255 | (o[f + 7] & 255) << 8, x += (p >>> 7 | b << 9) & 8191, S = o[f + 8] & 255 | (o[f + 9] & 255) << 8, y += (b >>> 4 | S << 12) & 8191, E += S >>> 1 & 8191, j = o[f + 10] & 255 | (o[f + 11] & 255) << 8, _ += (S >>> 14 | j << 2) & 8191, R = o[f + 12] & 255 | (o[f + 13] & 255) << 8, v += (j >>> 11 | R << 5) & 8191, et = o[f + 14] & 255 | (o[f + 15] & 255) << 8, T += (R >>> 8 | et << 8) & 8191, M += et >>> 5 | n, N = 0, Y = N, Y += F * G, Y += k * (5 * tt), Y += U * (5 * L), Y += x * (5 * X), Y += y * (5 * nt), N = Y >>> 13, Y &= 8191, Y += E * (5 * rt), Y += _ * (5 * Q), Y += v * (5 * l), Y += T * (5 * I), Y += M * (5 * J), N += Y >>> 13, Y &= 8191, V = N, V += F * J, V += k * G, V += U * (5 * tt), V += x * (5 * L), V += y * (5 * X), N = V >>> 13, V &= 8191, V += E * (5 * nt), V += _ * (5 * rt), V += v * (5 * Q), V += T * (5 * l), V += M * (5 * I), N += V >>> 13, V &= 8191, z = N, z += F * I, z += k * J, z += U * G, z += x * (5 * tt), z += y * (5 * L), N = z >>> 13, z &= 8191, z += E * (5 * X), z += _ * (5 * nt), z += v * (5 * rt), z += T * (5 * Q), z += M * (5 * l), N += z >>> 13, z &= 8191, W = N, W += F * l, W += k * I, W += U * J, W += x * G, W += y * (5 * tt), N = W >>> 13, W &= 8191, W += E * (5 * L), W += _ * (5 * X), W += v * (5 * nt), W += T * (5 * rt), W += M * (5 * Q), N += W >>> 13, W &= 8191, q = N, q += F * Q, q += k * l, q += U * I, q += x * J, q += y * G, N = q >>> 13, q &= 8191, q += E * (5 * tt), q += _ * (5 * L), q += v * (5 * X), q += T * (5 * nt), q += M * (5 * rt), N += q >>> 13, q &= 8191, $ = N, $ += F * rt, $ += k * Q, $ += U * l, $ += x * I, $ += y * J, N = $ >>> 13, $ &= 8191, $ += E * G, $ += _ * (5 * tt), $ += v * (5 * L), $ += T * (5 * X), $ += M * (5 * nt), N += $ >>> 13, $ &= 8191, H = N, H += F * nt, H += k * rt, H += U * Q, H += x * l, H += y * I, N = H >>> 13, H &= 8191, H += E * J, H += _ * G, H += v * (5 * tt), H += T * (5 * L), H += M * (5 * X), N += H >>> 13, H &= 8191, C = N, C += F * X, C += k * nt, C += U * rt, C += x * Q, C += y * l, N = C >>> 13, C &= 8191, C += E * I, C += _ * J, C += v * G, C += T * (5 * tt), C += M * (5 * L), N += C >>> 13, C &= 8191, K = N, K += F * L, K += k * X, K += U * nt, K += x * rt, K += y * Q, N = K >>> 13, K &= 8191, K += E * l, K += _ * I, K += v * J, K += T * G, K += M * (5 * tt), N += K >>> 13, K &= 8191, B = N, B += F * tt, B += k * L, B += U * X, B += x * nt, B += y * rt, N = B >>> 13, B &= 8191, B += E * Q, B += _ * l, B += v * I, B += T * J, B += M * G, N += B >>> 13, B &= 8191, N = (N << 2) + N | 0, N = N + Y | 0, Y = N & 8191, N = N >>> 13, V += N, F = Y, k = V, U = z, x = W, y = q, E = $, _ = H, v = C, T = K, M = B, f += 16, s -= 16;\n      this.h[0] = F, this.h[1] = k, this.h[2] = U, this.h[3] = x, this.h[4] = y, this.h[5] = E, this.h[6] = _, this.h[7] = v, this.h[8] = T, this.h[9] = M;\n    }, xe.prototype.finish = function (o, f) {\n      var s = new Uint16Array(10),\n        n,\n        c,\n        h,\n        p;\n      if (this.leftover) {\n        for (p = this.leftover, this.buffer[p++] = 1; p < 16; p++) this.buffer[p] = 0;\n        this.fin = 1, this.blocks(this.buffer, 0, 16);\n      }\n      for (n = this.h[1] >>> 13, this.h[1] &= 8191, p = 2; p < 10; p++) this.h[p] += n, n = this.h[p] >>> 13, this.h[p] &= 8191;\n      for (this.h[0] += n * 5, n = this.h[0] >>> 13, this.h[0] &= 8191, this.h[1] += n, n = this.h[1] >>> 13, this.h[1] &= 8191, this.h[2] += n, s[0] = this.h[0] + 5, n = s[0] >>> 13, s[0] &= 8191, p = 1; p < 10; p++) s[p] = this.h[p] + n, n = s[p] >>> 13, s[p] &= 8191;\n      for (s[9] -= 8192, c = (n ^ 1) - 1, p = 0; p < 10; p++) s[p] &= c;\n      for (c = ~c, p = 0; p < 10; p++) this.h[p] = this.h[p] & c | s[p];\n      for (this.h[0] = (this.h[0] | this.h[1] << 13) & 65535, this.h[1] = (this.h[1] >>> 3 | this.h[2] << 10) & 65535, this.h[2] = (this.h[2] >>> 6 | this.h[3] << 7) & 65535, this.h[3] = (this.h[3] >>> 9 | this.h[4] << 4) & 65535, this.h[4] = (this.h[4] >>> 12 | this.h[5] << 1 | this.h[6] << 14) & 65535, this.h[5] = (this.h[6] >>> 2 | this.h[7] << 11) & 65535, this.h[6] = (this.h[7] >>> 5 | this.h[8] << 8) & 65535, this.h[7] = (this.h[8] >>> 8 | this.h[9] << 5) & 65535, h = this.h[0] + this.pad[0], this.h[0] = h & 65535, p = 1; p < 8; p++) h = (this.h[p] + this.pad[p] | 0) + (h >>> 16) | 0, this.h[p] = h & 65535;\n      o[f + 0] = this.h[0] >>> 0 & 255, o[f + 1] = this.h[0] >>> 8 & 255, o[f + 2] = this.h[1] >>> 0 & 255, o[f + 3] = this.h[1] >>> 8 & 255, o[f + 4] = this.h[2] >>> 0 & 255, o[f + 5] = this.h[2] >>> 8 & 255, o[f + 6] = this.h[3] >>> 0 & 255, o[f + 7] = this.h[3] >>> 8 & 255, o[f + 8] = this.h[4] >>> 0 & 255, o[f + 9] = this.h[4] >>> 8 & 255, o[f + 10] = this.h[5] >>> 0 & 255, o[f + 11] = this.h[5] >>> 8 & 255, o[f + 12] = this.h[6] >>> 0 & 255, o[f + 13] = this.h[6] >>> 8 & 255, o[f + 14] = this.h[7] >>> 0 & 255, o[f + 15] = this.h[7] >>> 8 & 255;\n    }, xe.prototype.update = function (o, f, s) {\n      var n, c;\n      if (this.leftover) {\n        for (c = 16 - this.leftover, c > s && (c = s), n = 0; n < c; n++) this.buffer[this.leftover + n] = o[f + n];\n        if (s -= c, f += c, this.leftover += c, this.leftover < 16) return;\n        this.blocks(this.buffer, 0, 16), this.leftover = 0;\n      }\n      if (s >= 16 && (c = s - s % 16, this.blocks(o, f, c), f += c, s -= c), s) {\n        for (n = 0; n < s; n++) this.buffer[this.leftover + n] = o[f + n];\n        this.leftover += s;\n      }\n    };\n    function Re(o, f, s, n, c, h) {\n      var p = new xe(h);\n      return p.update(s, n, c), p.finish(o, f), 0;\n    }\n    function ne(o, f, s, n, c, h) {\n      var p = new Uint8Array(16);\n      return Re(p, 0, s, n, c, h), xt(o, f, p, 0);\n    }\n    function Be(o, f, s, n, c) {\n      var h;\n      if (s < 32) return -1;\n      for (Ue(o, 0, f, 0, s, n, c), Re(o, 16, o, 32, s - 32, o), h = 0; h < 16; h++) o[h] = 0;\n      return 0;\n    }\n    function Ne(o, f, s, n, c) {\n      var h,\n        p = new Uint8Array(32);\n      if (s < 32 || (Xe(p, 0, 32, n, c), ne(f, 16, f, 32, s - 32, p) !== 0)) return -1;\n      for (Ue(o, 0, f, 0, s, n, c), h = 0; h < 32; h++) o[h] = 0;\n      return 0;\n    }\n    function Pt(o, f) {\n      var s;\n      for (s = 0; s < 16; s++) o[s] = f[s] | 0;\n    }\n    function Pe(o) {\n      var f,\n        s,\n        n = 1;\n      for (f = 0; f < 16; f++) s = o[f] + n + 65535, n = Math.floor(s / 65536), o[f] = s - n * 65536;\n      o[0] += n - 1 + 37 * (n - 1);\n    }\n    function ee(o, f, s) {\n      for (var n, c = ~(s - 1), h = 0; h < 16; h++) n = c & (o[h] ^ f[h]), o[h] ^= n, f[h] ^= n;\n    }\n    function re(o, f) {\n      var s,\n        n,\n        c,\n        h = t(),\n        p = t();\n      for (s = 0; s < 16; s++) p[s] = f[s];\n      for (Pe(p), Pe(p), Pe(p), n = 0; n < 2; n++) {\n        for (h[0] = p[0] - 65517, s = 1; s < 15; s++) h[s] = p[s] - 65535 - (h[s - 1] >> 16 & 1), h[s - 1] &= 65535;\n        h[15] = p[15] - 32767 - (h[14] >> 16 & 1), c = h[15] >> 16 & 1, h[14] &= 65535, ee(p, h, 1 - c);\n      }\n      for (s = 0; s < 16; s++) o[2 * s] = p[s] & 255, o[2 * s + 1] = p[s] >> 8;\n    }\n    function Ze(o, f) {\n      var s = new Uint8Array(32),\n        n = new Uint8Array(32);\n      return re(s, o), re(n, f), Tt(s, 0, n, 0);\n    }\n    function wn(o) {\n      var f = new Uint8Array(32);\n      return re(f, o), f[0] & 1;\n    }\n    function Rr(o, f) {\n      var s;\n      for (s = 0; s < 16; s++) o[s] = f[2 * s] + (f[2 * s + 1] << 8);\n      o[15] &= 32767;\n    }\n    function Ct(o, f, s) {\n      for (var n = 0; n < 16; n++) o[n] = f[n] + s[n];\n    }\n    function Ft(o, f, s) {\n      for (var n = 0; n < 16; n++) o[n] = f[n] - s[n];\n    }\n    function D(o, f, s) {\n      var n,\n        c,\n        h = 0,\n        p = 0,\n        b = 0,\n        S = 0,\n        j = 0,\n        R = 0,\n        et = 0,\n        N = 0,\n        Y = 0,\n        V = 0,\n        z = 0,\n        W = 0,\n        q = 0,\n        $ = 0,\n        H = 0,\n        C = 0,\n        K = 0,\n        B = 0,\n        F = 0,\n        k = 0,\n        U = 0,\n        x = 0,\n        y = 0,\n        E = 0,\n        _ = 0,\n        v = 0,\n        T = 0,\n        M = 0,\n        G = 0,\n        J = 0,\n        I = 0,\n        l = s[0],\n        Q = s[1],\n        rt = s[2],\n        nt = s[3],\n        X = s[4],\n        L = s[5],\n        tt = s[6],\n        lt = s[7],\n        at = s[8],\n        ft = s[9],\n        ct = s[10],\n        ut = s[11],\n        ht = s[12],\n        wt = s[13],\n        gt = s[14],\n        _t = s[15];\n      n = f[0], h += n * l, p += n * Q, b += n * rt, S += n * nt, j += n * X, R += n * L, et += n * tt, N += n * lt, Y += n * at, V += n * ft, z += n * ct, W += n * ut, q += n * ht, $ += n * wt, H += n * gt, C += n * _t, n = f[1], p += n * l, b += n * Q, S += n * rt, j += n * nt, R += n * X, et += n * L, N += n * tt, Y += n * lt, V += n * at, z += n * ft, W += n * ct, q += n * ut, $ += n * ht, H += n * wt, C += n * gt, K += n * _t, n = f[2], b += n * l, S += n * Q, j += n * rt, R += n * nt, et += n * X, N += n * L, Y += n * tt, V += n * lt, z += n * at, W += n * ft, q += n * ct, $ += n * ut, H += n * ht, C += n * wt, K += n * gt, B += n * _t, n = f[3], S += n * l, j += n * Q, R += n * rt, et += n * nt, N += n * X, Y += n * L, V += n * tt, z += n * lt, W += n * at, q += n * ft, $ += n * ct, H += n * ut, C += n * ht, K += n * wt, B += n * gt, F += n * _t, n = f[4], j += n * l, R += n * Q, et += n * rt, N += n * nt, Y += n * X, V += n * L, z += n * tt, W += n * lt, q += n * at, $ += n * ft, H += n * ct, C += n * ut, K += n * ht, B += n * wt, F += n * gt, k += n * _t, n = f[5], R += n * l, et += n * Q, N += n * rt, Y += n * nt, V += n * X, z += n * L, W += n * tt, q += n * lt, $ += n * at, H += n * ft, C += n * ct, K += n * ut, B += n * ht, F += n * wt, k += n * gt, U += n * _t, n = f[6], et += n * l, N += n * Q, Y += n * rt, V += n * nt, z += n * X, W += n * L, q += n * tt, $ += n * lt, H += n * at, C += n * ft, K += n * ct, B += n * ut, F += n * ht, k += n * wt, U += n * gt, x += n * _t, n = f[7], N += n * l, Y += n * Q, V += n * rt, z += n * nt, W += n * X, q += n * L, $ += n * tt, H += n * lt, C += n * at, K += n * ft, B += n * ct, F += n * ut, k += n * ht, U += n * wt, x += n * gt, y += n * _t, n = f[8], Y += n * l, V += n * Q, z += n * rt, W += n * nt, q += n * X, $ += n * L, H += n * tt, C += n * lt, K += n * at, B += n * ft, F += n * ct, k += n * ut, U += n * ht, x += n * wt, y += n * gt, E += n * _t, n = f[9], V += n * l, z += n * Q, W += n * rt, q += n * nt, $ += n * X, H += n * L, C += n * tt, K += n * lt, B += n * at, F += n * ft, k += n * ct, U += n * ut, x += n * ht, y += n * wt, E += n * gt, _ += n * _t, n = f[10], z += n * l, W += n * Q, q += n * rt, $ += n * nt, H += n * X, C += n * L, K += n * tt, B += n * lt, F += n * at, k += n * ft, U += n * ct, x += n * ut, y += n * ht, E += n * wt, _ += n * gt, v += n * _t, n = f[11], W += n * l, q += n * Q, $ += n * rt, H += n * nt, C += n * X, K += n * L, B += n * tt, F += n * lt, k += n * at, U += n * ft, x += n * ct, y += n * ut, E += n * ht, _ += n * wt, v += n * gt, T += n * _t, n = f[12], q += n * l, $ += n * Q, H += n * rt, C += n * nt, K += n * X, B += n * L, F += n * tt, k += n * lt, U += n * at, x += n * ft, y += n * ct, E += n * ut, _ += n * ht, v += n * wt, T += n * gt, M += n * _t, n = f[13], $ += n * l, H += n * Q, C += n * rt, K += n * nt, B += n * X, F += n * L, k += n * tt, U += n * lt, x += n * at, y += n * ft, E += n * ct, _ += n * ut, v += n * ht, T += n * wt, M += n * gt, G += n * _t, n = f[14], H += n * l, C += n * Q, K += n * rt, B += n * nt, F += n * X, k += n * L, U += n * tt, x += n * lt, y += n * at, E += n * ft, _ += n * ct, v += n * ut, T += n * ht, M += n * wt, G += n * gt, J += n * _t, n = f[15], C += n * l, K += n * Q, B += n * rt, F += n * nt, k += n * X, U += n * L, x += n * tt, y += n * lt, E += n * at, _ += n * ft, v += n * ct, T += n * ut, M += n * ht, G += n * wt, J += n * gt, I += n * _t, h += 38 * K, p += 38 * B, b += 38 * F, S += 38 * k, j += 38 * U, R += 38 * x, et += 38 * y, N += 38 * E, Y += 38 * _, V += 38 * v, z += 38 * T, W += 38 * M, q += 38 * G, $ += 38 * J, H += 38 * I, c = 1, n = h + c + 65535, c = Math.floor(n / 65536), h = n - c * 65536, n = p + c + 65535, c = Math.floor(n / 65536), p = n - c * 65536, n = b + c + 65535, c = Math.floor(n / 65536), b = n - c * 65536, n = S + c + 65535, c = Math.floor(n / 65536), S = n - c * 65536, n = j + c + 65535, c = Math.floor(n / 65536), j = n - c * 65536, n = R + c + 65535, c = Math.floor(n / 65536), R = n - c * 65536, n = et + c + 65535, c = Math.floor(n / 65536), et = n - c * 65536, n = N + c + 65535, c = Math.floor(n / 65536), N = n - c * 65536, n = Y + c + 65535, c = Math.floor(n / 65536), Y = n - c * 65536, n = V + c + 65535, c = Math.floor(n / 65536), V = n - c * 65536, n = z + c + 65535, c = Math.floor(n / 65536), z = n - c * 65536, n = W + c + 65535, c = Math.floor(n / 65536), W = n - c * 65536, n = q + c + 65535, c = Math.floor(n / 65536), q = n - c * 65536, n = $ + c + 65535, c = Math.floor(n / 65536), $ = n - c * 65536, n = H + c + 65535, c = Math.floor(n / 65536), H = n - c * 65536, n = C + c + 65535, c = Math.floor(n / 65536), C = n - c * 65536, h += c - 1 + 37 * (c - 1), c = 1, n = h + c + 65535, c = Math.floor(n / 65536), h = n - c * 65536, n = p + c + 65535, c = Math.floor(n / 65536), p = n - c * 65536, n = b + c + 65535, c = Math.floor(n / 65536), b = n - c * 65536, n = S + c + 65535, c = Math.floor(n / 65536), S = n - c * 65536, n = j + c + 65535, c = Math.floor(n / 65536), j = n - c * 65536, n = R + c + 65535, c = Math.floor(n / 65536), R = n - c * 65536, n = et + c + 65535, c = Math.floor(n / 65536), et = n - c * 65536, n = N + c + 65535, c = Math.floor(n / 65536), N = n - c * 65536, n = Y + c + 65535, c = Math.floor(n / 65536), Y = n - c * 65536, n = V + c + 65535, c = Math.floor(n / 65536), V = n - c * 65536, n = z + c + 65535, c = Math.floor(n / 65536), z = n - c * 65536, n = W + c + 65535, c = Math.floor(n / 65536), W = n - c * 65536, n = q + c + 65535, c = Math.floor(n / 65536), q = n - c * 65536, n = $ + c + 65535, c = Math.floor(n / 65536), $ = n - c * 65536, n = H + c + 65535, c = Math.floor(n / 65536), H = n - c * 65536, n = C + c + 65535, c = Math.floor(n / 65536), C = n - c * 65536, h += c - 1 + 37 * (c - 1), o[0] = h, o[1] = p, o[2] = b, o[3] = S, o[4] = j, o[5] = R, o[6] = et, o[7] = N, o[8] = Y, o[9] = V, o[10] = z, o[11] = W, o[12] = q, o[13] = $, o[14] = H, o[15] = C;\n    }\n    function St(o, f) {\n      D(o, f, f);\n    }\n    function gn(o, f) {\n      var s = t(),\n        n;\n      for (n = 0; n < 16; n++) s[n] = f[n];\n      for (n = 253; n >= 0; n--) St(s, s), n !== 2 && n !== 4 && D(s, s, f);\n      for (n = 0; n < 16; n++) o[n] = s[n];\n    }\n    function _n(o, f) {\n      var s = t(),\n        n;\n      for (n = 0; n < 16; n++) s[n] = f[n];\n      for (n = 250; n >= 0; n--) St(s, s), n !== 1 && D(s, s, f);\n      for (n = 0; n < 16; n++) o[n] = s[n];\n    }\n    function Qe(o, f, s) {\n      var n = new Uint8Array(32),\n        c = new Float64Array(80),\n        h,\n        p,\n        b = t(),\n        S = t(),\n        j = t(),\n        R = t(),\n        et = t(),\n        N = t();\n      for (p = 0; p < 31; p++) n[p] = f[p];\n      for (n[31] = f[31] & 127 | 64, n[0] &= 248, Rr(c, s), p = 0; p < 16; p++) S[p] = c[p], R[p] = b[p] = j[p] = 0;\n      for (b[0] = R[0] = 1, p = 254; p >= 0; --p) h = n[p >>> 3] >>> (p & 7) & 1, ee(b, S, h), ee(j, R, h), Ct(et, b, j), Ft(b, b, j), Ct(j, S, R), Ft(S, S, R), St(R, et), St(N, b), D(b, j, b), D(j, S, et), Ct(et, b, j), Ft(b, b, j), St(S, b), Ft(j, R, N), D(b, j, m), Ct(b, b, R), D(j, j, b), D(b, R, N), D(R, S, c), St(S, et), ee(b, S, h), ee(j, R, h);\n      for (p = 0; p < 16; p++) c[p + 16] = b[p], c[p + 32] = j[p], c[p + 48] = S[p], c[p + 64] = R[p];\n      var Y = c.subarray(32),\n        V = c.subarray(16);\n      return gn(Y, Y), D(V, V, Y), re(o, V), 0;\n    }\n    function De(o, f) {\n      return Qe(o, f, a);\n    }\n    function bn(o, f) {\n      return r(f, 32), De(o, f);\n    }\n    function Le(o, f, s) {\n      var n = new Uint8Array(32);\n      return Qe(n, s, f), Nt(o, i, n, Yt);\n    }\n    var vn = Be,\n      no = Ne;\n    function io(o, f, s, n, c, h) {\n      var p = new Uint8Array(32);\n      return Le(p, c, h), vn(o, f, s, n, p);\n    }\n    function oo(o, f, s, n, c, h) {\n      var p = new Uint8Array(32);\n      return Le(p, c, h), no(o, f, s, n, p);\n    }\n    var En = [1116352408, 3609767458, 1899447441, 602891725, 3049323471, 3964484399, 3921009573, 2173295548, 961987163, 4081628472, 1508970993, 3053834265, 2453635748, 2937671579, 2870763221, 3664609560, 3624381080, 2734883394, 310598401, 1164996542, 607225278, 1323610764, 1426881987, 3590304994, 1925078388, 4068182383, 2162078206, 991336113, 2614888103, 633803317, 3248222580, 3479774868, 3835390401, 2666613458, 4022224774, 944711139, 264347078, 2341262773, 604807628, 2007800933, 770255983, 1495990901, 1249150122, 1856431235, 1555081692, 3175218132, 1996064986, 2198950837, 2554220882, 3999719339, 2821834349, 766784016, 2952996808, 2566594879, 3210313671, 3203337956, 3336571891, 1034457026, 3584528711, 2466948901, 113926993, 3758326383, 338241895, 168717936, 666307205, 1188179964, 773529912, 1546045734, 1294757372, 1522805485, 1396182291, 2643833823, 1695183700, 2343527390, 1986661051, 1014477480, 2177026350, 1206759142, 2456956037, 344077627, 2730485921, 1290863460, 2820302411, 3158454273, 3259730800, 3505952657, 3345764771, 106217008, 3516065817, 3606008344, 3600352804, 1432725776, 4094571909, 1467031594, 275423344, 851169720, 430227734, 3100823752, 506948616, 1363258195, 659060556, 3750685593, 883997877, 3785050280, 958139571, 3318307427, 1322822218, 3812723403, 1537002063, 2003034995, 1747873779, 3602036899, 1955562222, 1575990012, 2024104815, 1125592928, 2227730452, 2716904306, 2361852424, 442776044, 2428436474, 593698344, 2756734187, 3733110249, 3204031479, 2999351573, 3329325298, 3815920427, 3391569614, 3928383900, 3515267271, 566280711, 3940187606, 3454069534, 4118630271, 4000239992, 116418474, 1914138554, 174292421, 2731055270, 289380356, 3203993006, 460393269, 320620315, 685471733, 587496836, 852142971, 1086792851, 1017036298, 365543100, 1126000580, 2618297676, 1288033470, 3409855158, 1501505948, 4234509866, 1607167915, 987167468, 1816402316, 1246189591];\n    function An(o, f, s, n) {\n      for (var c = new Int32Array(16), h = new Int32Array(16), p, b, S, j, R, et, N, Y, V, z, W, q, $, H, C, K, B, F, k, U, x, y, E, _, v, T, M = o[0], G = o[1], J = o[2], I = o[3], l = o[4], Q = o[5], rt = o[6], nt = o[7], X = f[0], L = f[1], tt = f[2], lt = f[3], at = f[4], ft = f[5], ct = f[6], ut = f[7], ht = 0; n >= 128;) {\n        for (k = 0; k < 16; k++) U = 8 * k + ht, c[k] = s[U + 0] << 24 | s[U + 1] << 16 | s[U + 2] << 8 | s[U + 3], h[k] = s[U + 4] << 24 | s[U + 5] << 16 | s[U + 6] << 8 | s[U + 7];\n        for (k = 0; k < 80; k++) if (p = M, b = G, S = J, j = I, R = l, et = Q, N = rt, Y = nt, V = X, z = L, W = tt, q = lt, $ = at, H = ft, C = ct, K = ut, x = nt, y = ut, E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = (l >>> 14 | at << 32 - 14) ^ (l >>> 18 | at << 32 - 18) ^ (at >>> 41 - 32 | l << 32 - (41 - 32)), y = (at >>> 14 | l << 32 - 14) ^ (at >>> 18 | l << 32 - 18) ^ (l >>> 41 - 32 | at << 32 - (41 - 32)), E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, x = l & Q ^ ~l & rt, y = at & ft ^ ~at & ct, E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, x = En[k * 2], y = En[k * 2 + 1], E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, x = c[k % 16], y = h[k % 16], E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, B = v & 65535 | T << 16, F = E & 65535 | _ << 16, x = B, y = F, E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = (M >>> 28 | X << 32 - 28) ^ (X >>> 34 - 32 | M << 32 - (34 - 32)) ^ (X >>> 39 - 32 | M << 32 - (39 - 32)), y = (X >>> 28 | M << 32 - 28) ^ (M >>> 34 - 32 | X << 32 - (34 - 32)) ^ (M >>> 39 - 32 | X << 32 - (39 - 32)), E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, x = M & G ^ M & J ^ G & J, y = X & L ^ X & tt ^ L & tt, E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, Y = v & 65535 | T << 16, K = E & 65535 | _ << 16, x = j, y = q, E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = B, y = F, E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, j = v & 65535 | T << 16, q = E & 65535 | _ << 16, G = p, J = b, I = S, l = j, Q = R, rt = et, nt = N, M = Y, L = V, tt = z, lt = W, at = q, ft = $, ct = H, ut = C, X = K, k % 16 === 15) for (U = 0; U < 16; U++) x = c[U], y = h[U], E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = c[(U + 9) % 16], y = h[(U + 9) % 16], E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, B = c[(U + 1) % 16], F = h[(U + 1) % 16], x = (B >>> 1 | F << 32 - 1) ^ (B >>> 8 | F << 32 - 8) ^ B >>> 7, y = (F >>> 1 | B << 32 - 1) ^ (F >>> 8 | B << 32 - 8) ^ (F >>> 7 | B << 32 - 7), E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, B = c[(U + 14) % 16], F = h[(U + 14) % 16], x = (B >>> 19 | F << 32 - 19) ^ (F >>> 61 - 32 | B << 32 - (61 - 32)) ^ B >>> 6, y = (F >>> 19 | B << 32 - 19) ^ (B >>> 61 - 32 | F << 32 - (61 - 32)) ^ (F >>> 6 | B << 32 - 6), E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, c[U] = v & 65535 | T << 16, h[U] = E & 65535 | _ << 16;\n        x = M, y = X, E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = o[0], y = f[0], E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, o[0] = M = v & 65535 | T << 16, f[0] = X = E & 65535 | _ << 16, x = G, y = L, E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = o[1], y = f[1], E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, o[1] = G = v & 65535 | T << 16, f[1] = L = E & 65535 | _ << 16, x = J, y = tt, E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = o[2], y = f[2], E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, o[2] = J = v & 65535 | T << 16, f[2] = tt = E & 65535 | _ << 16, x = I, y = lt, E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = o[3], y = f[3], E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, o[3] = I = v & 65535 | T << 16, f[3] = lt = E & 65535 | _ << 16, x = l, y = at, E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = o[4], y = f[4], E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, o[4] = l = v & 65535 | T << 16, f[4] = at = E & 65535 | _ << 16, x = Q, y = ft, E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = o[5], y = f[5], E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, o[5] = Q = v & 65535 | T << 16, f[5] = ft = E & 65535 | _ << 16, x = rt, y = ct, E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = o[6], y = f[6], E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, o[6] = rt = v & 65535 | T << 16, f[6] = ct = E & 65535 | _ << 16, x = nt, y = ut, E = y & 65535, _ = y >>> 16, v = x & 65535, T = x >>> 16, x = o[7], y = f[7], E += y & 65535, _ += y >>> 16, v += x & 65535, T += x >>> 16, _ += E >>> 16, v += _ >>> 16, T += v >>> 16, o[7] = nt = v & 65535 | T << 16, f[7] = ut = E & 65535 | _ << 16, ht += 128, n -= 128;\n      }\n      return n;\n    }\n    function ie(o, f, s) {\n      var n = new Int32Array(8),\n        c = new Int32Array(8),\n        h = new Uint8Array(256),\n        p,\n        b = s;\n      for (n[0] = 1779033703, n[1] = 3144134277, n[2] = 1013904242, n[3] = 2773480762, n[4] = 1359893119, n[5] = 2600822924, n[6] = 528734635, n[7] = 1541459225, c[0] = 4089235720, c[1] = 2227873595, c[2] = 4271175723, c[3] = 1595750129, c[4] = 2917565137, c[5] = 725511199, c[6] = 4215389547, c[7] = 327033209, An(n, c, f, s), s %= 128, p = 0; p < s; p++) h[p] = f[b - s + p];\n      for (h[s] = 128, s = 256 - 128 * (s < 112 ? 1 : 0), h[s - 9] = 0, it(h, s - 8, b / 536870912 | 0, b << 3), An(n, c, h, s), p = 0; p < 8; p++) it(o, 8 * p, n[p], c[p]);\n      return 0;\n    }\n    function tr(o, f) {\n      var s = t(),\n        n = t(),\n        c = t(),\n        h = t(),\n        p = t(),\n        b = t(),\n        S = t(),\n        j = t(),\n        R = t();\n      Ft(s, o[1], o[0]), Ft(R, f[1], f[0]), D(s, s, R), Ct(n, o[0], o[1]), Ct(R, f[0], f[1]), D(n, n, R), D(c, o[3], f[3]), D(c, c, A), D(h, o[2], f[2]), Ct(h, h, h), Ft(p, n, s), Ft(b, h, c), Ct(S, h, c), Ct(j, n, s), D(o[0], p, b), D(o[1], j, S), D(o[2], S, b), D(o[3], p, j);\n    }\n    function Tn(o, f, s) {\n      var n;\n      for (n = 0; n < 4; n++) ee(o[n], f[n], s);\n    }\n    function Br(o, f) {\n      var s = t(),\n        n = t(),\n        c = t();\n      gn(c, f[2]), D(s, f[0], c), D(n, f[1], c), re(o, n), o[31] ^= wn(s) << 7;\n    }\n    function Nr(o, f, s) {\n      var n, c;\n      for (Pt(o[0], u), Pt(o[1], d), Pt(o[2], d), Pt(o[3], u), c = 255; c >= 0; --c) n = s[c / 8 | 0] >> (c & 7) & 1, Tn(o, f, n), tr(f, o), tr(o, o), Tn(o, f, n);\n    }\n    function er(o, f) {\n      var s = [t(), t(), t(), t()];\n      Pt(s[0], P), Pt(s[1], O), Pt(s[2], d), D(s[3], P, O), Nr(o, s, f);\n    }\n    function Pr(o, f, s) {\n      var n = new Uint8Array(64),\n        c = [t(), t(), t(), t()],\n        h;\n      for (s || r(f, 32), ie(n, f, 32), n[0] &= 248, n[31] &= 127, n[31] |= 64, er(c, n), Br(o, c), h = 0; h < 32; h++) f[h + 32] = o[h];\n      return 0;\n    }\n    var rr = new Float64Array([237, 211, 245, 92, 26, 99, 18, 88, 214, 156, 247, 162, 222, 249, 222, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16]);\n    function Cr(o, f) {\n      var s, n, c, h;\n      for (n = 63; n >= 32; --n) {\n        for (s = 0, c = n - 32, h = n - 12; c < h; ++c) f[c] += s - 16 * f[n] * rr[c - (n - 32)], s = Math.floor((f[c] + 128) / 256), f[c] -= s * 256;\n        f[c] += s, f[n] = 0;\n      }\n      for (s = 0, c = 0; c < 32; c++) f[c] += s - (f[31] >> 4) * rr[c], s = f[c] >> 8, f[c] &= 255;\n      for (c = 0; c < 32; c++) f[c] -= s * rr[c];\n      for (n = 0; n < 32; n++) f[n + 1] += f[n] >> 8, o[n] = f[n] & 255;\n    }\n    function Fr(o) {\n      var f = new Float64Array(64),\n        s;\n      for (s = 0; s < 64; s++) f[s] = o[s];\n      for (s = 0; s < 64; s++) o[s] = 0;\n      Cr(o, f);\n    }\n    function Sn(o, f, s, n) {\n      var c = new Uint8Array(64),\n        h = new Uint8Array(64),\n        p = new Uint8Array(64),\n        b,\n        S,\n        j = new Float64Array(64),\n        R = [t(), t(), t(), t()];\n      ie(c, n, 32), c[0] &= 248, c[31] &= 127, c[31] |= 64;\n      var et = s + 64;\n      for (b = 0; b < s; b++) o[64 + b] = f[b];\n      for (b = 0; b < 32; b++) o[32 + b] = c[32 + b];\n      for (ie(p, o.subarray(32), s + 32), Fr(p), er(R, p), Br(o, R), b = 32; b < 64; b++) o[b] = n[b];\n      for (ie(h, o, s + 64), Fr(h), b = 0; b < 64; b++) j[b] = 0;\n      for (b = 0; b < 32; b++) j[b] = p[b];\n      for (b = 0; b < 32; b++) for (S = 0; S < 32; S++) j[b + S] += h[b] * c[S];\n      return Cr(o.subarray(32), j), et;\n    }\n    function ao(o, f) {\n      var s = t(),\n        n = t(),\n        c = t(),\n        h = t(),\n        p = t(),\n        b = t(),\n        S = t();\n      return Pt(o[2], d), Rr(o[1], f), St(c, o[1]), D(h, c, w), Ft(c, c, o[2]), Ct(h, o[2], h), St(p, h), St(b, p), D(S, b, p), D(s, S, c), D(s, s, h), _n(s, s), D(s, s, c), D(s, s, h), D(s, s, h), D(o[0], s, h), St(n, o[0]), D(n, n, h), Ze(n, c) && D(o[0], o[0], Z), St(n, o[0]), D(n, n, h), Ze(n, c) ? -1 : (wn(o[0]) === f[31] >> 7 && Ft(o[0], u, o[0]), D(o[3], o[0], o[1]), 0);\n    }\n    function kr(o, f, s, n) {\n      var c,\n        h = new Uint8Array(32),\n        p = new Uint8Array(64),\n        b = [t(), t(), t(), t()],\n        S = [t(), t(), t(), t()];\n      if (s < 64 || ao(S, n)) return -1;\n      for (c = 0; c < s; c++) o[c] = f[c];\n      for (c = 0; c < 32; c++) o[c + 32] = n[c];\n      if (ie(p, o, s), Fr(p), Nr(b, S, p), er(S, f.subarray(32)), tr(b, S), Br(h, b), s -= 64, Tt(f, 0, h, 0)) {\n        for (c = 0; c < s; c++) o[c] = 0;\n        return -1;\n      }\n      for (c = 0; c < s; c++) o[c] = f[c + 64];\n      return s;\n    }\n    var jr = 32,\n      nr = 24,\n      Ce = 32,\n      ye = 16,\n      Fe = 32,\n      ir = 32,\n      ke = 32,\n      je = 32,\n      Kr = 32,\n      On = nr,\n      so = Ce,\n      fo = ye,\n      Jt = 64,\n      oe = 32,\n      me = 64,\n      Mr = 32,\n      Yr = 64;\n    e.lowlevel = {\n      crypto_core_hsalsa20: Nt,\n      crypto_stream_xor: Ue,\n      crypto_stream: Xe,\n      crypto_stream_salsa20_xor: Ie,\n      crypto_stream_salsa20: Je,\n      crypto_onetimeauth: Re,\n      crypto_onetimeauth_verify: ne,\n      crypto_verify_16: xt,\n      crypto_verify_32: Tt,\n      crypto_secretbox: Be,\n      crypto_secretbox_open: Ne,\n      crypto_scalarmult: Qe,\n      crypto_scalarmult_base: De,\n      crypto_box_beforenm: Le,\n      crypto_box_afternm: vn,\n      crypto_box: io,\n      crypto_box_open: oo,\n      crypto_box_keypair: bn,\n      crypto_hash: ie,\n      crypto_sign: Sn,\n      crypto_sign_keypair: Pr,\n      crypto_sign_open: kr,\n      crypto_secretbox_KEYBYTES: jr,\n      crypto_secretbox_NONCEBYTES: nr,\n      crypto_secretbox_ZEROBYTES: Ce,\n      crypto_secretbox_BOXZEROBYTES: ye,\n      crypto_scalarmult_BYTES: Fe,\n      crypto_scalarmult_SCALARBYTES: ir,\n      crypto_box_PUBLICKEYBYTES: ke,\n      crypto_box_SECRETKEYBYTES: je,\n      crypto_box_BEFORENMBYTES: Kr,\n      crypto_box_NONCEBYTES: On,\n      crypto_box_ZEROBYTES: so,\n      crypto_box_BOXZEROBYTES: fo,\n      crypto_sign_BYTES: Jt,\n      crypto_sign_PUBLICKEYBYTES: oe,\n      crypto_sign_SECRETKEYBYTES: me,\n      crypto_sign_SEEDBYTES: Mr,\n      crypto_hash_BYTES: Yr,\n      gf: t,\n      D: w,\n      L: rr,\n      pack25519: re,\n      unpack25519: Rr,\n      M: D,\n      A: Ct,\n      S: St,\n      Z: Ft,\n      pow2523: _n,\n      add: tr,\n      set25519: Pt,\n      modL: Cr,\n      scalarmult: Nr,\n      scalarbase: er\n    };\n    function Un(o, f) {\n      if (o.length !== jr) throw new Error(\"bad key size\");\n      if (f.length !== nr) throw new Error(\"bad nonce size\");\n    }\n    function co(o, f) {\n      if (o.length !== ke) throw new Error(\"bad public key size\");\n      if (f.length !== je) throw new Error(\"bad secret key size\");\n    }\n    function Et() {\n      for (var o = 0; o < arguments.length; o++) if (!(arguments[o] instanceof Uint8Array)) throw new TypeError(\"unexpected type, use Uint8Array\");\n    }\n    function Rn(o) {\n      for (var f = 0; f < o.length; f++) o[f] = 0;\n    }\n    e.randomBytes = function (o) {\n      var f = new Uint8Array(o);\n      return r(f, o), f;\n    }, e.secretbox = function (o, f, s) {\n      Et(o, f, s), Un(s, f);\n      for (var n = new Uint8Array(Ce + o.length), c = new Uint8Array(n.length), h = 0; h < o.length; h++) n[h + Ce] = o[h];\n      return Be(c, n, n.length, f, s), c.subarray(ye);\n    }, e.secretbox.open = function (o, f, s) {\n      Et(o, f, s), Un(s, f);\n      for (var n = new Uint8Array(ye + o.length), c = new Uint8Array(n.length), h = 0; h < o.length; h++) n[h + ye] = o[h];\n      return n.length < 32 || Ne(c, n, n.length, f, s) !== 0 ? null : c.subarray(Ce);\n    }, e.secretbox.keyLength = jr, e.secretbox.nonceLength = nr, e.secretbox.overheadLength = ye, e.scalarMult = function (o, f) {\n      if (Et(o, f), o.length !== ir) throw new Error(\"bad n size\");\n      if (f.length !== Fe) throw new Error(\"bad p size\");\n      var s = new Uint8Array(Fe);\n      return Qe(s, o, f), s;\n    }, e.scalarMult.base = function (o) {\n      if (Et(o), o.length !== ir) throw new Error(\"bad n size\");\n      var f = new Uint8Array(Fe);\n      return De(f, o), f;\n    }, e.scalarMult.scalarLength = ir, e.scalarMult.groupElementLength = Fe, e.box = function (o, f, s, n) {\n      var c = e.box.before(s, n);\n      return e.secretbox(o, f, c);\n    }, e.box.before = function (o, f) {\n      Et(o, f), co(o, f);\n      var s = new Uint8Array(Kr);\n      return Le(s, o, f), s;\n    }, e.box.after = e.secretbox, e.box.open = function (o, f, s, n) {\n      var c = e.box.before(s, n);\n      return e.secretbox.open(o, f, c);\n    }, e.box.open.after = e.secretbox.open, e.box.keyPair = function () {\n      var o = new Uint8Array(ke),\n        f = new Uint8Array(je);\n      return bn(o, f), {\n        publicKey: o,\n        secretKey: f\n      };\n    }, e.box.keyPair.fromSecretKey = function (o) {\n      if (Et(o), o.length !== je) throw new Error(\"bad secret key size\");\n      var f = new Uint8Array(ke);\n      return De(f, o), {\n        publicKey: f,\n        secretKey: new Uint8Array(o)\n      };\n    }, e.box.publicKeyLength = ke, e.box.secretKeyLength = je, e.box.sharedKeyLength = Kr, e.box.nonceLength = On, e.box.overheadLength = e.secretbox.overheadLength, e.sign = function (o, f) {\n      if (Et(o, f), f.length !== me) throw new Error(\"bad secret key size\");\n      var s = new Uint8Array(Jt + o.length);\n      return Sn(s, o, o.length, f), s;\n    }, e.sign.open = function (o, f) {\n      if (Et(o, f), f.length !== oe) throw new Error(\"bad public key size\");\n      var s = new Uint8Array(o.length),\n        n = kr(s, o, o.length, f);\n      if (n < 0) return null;\n      for (var c = new Uint8Array(n), h = 0; h < c.length; h++) c[h] = s[h];\n      return c;\n    }, e.sign.detached = function (o, f) {\n      for (var s = e.sign(o, f), n = new Uint8Array(Jt), c = 0; c < n.length; c++) n[c] = s[c];\n      return n;\n    }, e.sign.detached.verify = function (o, f, s) {\n      if (Et(o, f, s), f.length !== Jt) throw new Error(\"bad signature size\");\n      if (s.length !== oe) throw new Error(\"bad public key size\");\n      var n = new Uint8Array(Jt + o.length),\n        c = new Uint8Array(Jt + o.length),\n        h;\n      for (h = 0; h < Jt; h++) n[h] = f[h];\n      for (h = 0; h < o.length; h++) n[h + Jt] = o[h];\n      return kr(c, n, n.length, s) >= 0;\n    }, e.sign.keyPair = function () {\n      var o = new Uint8Array(oe),\n        f = new Uint8Array(me);\n      return Pr(o, f), {\n        publicKey: o,\n        secretKey: f\n      };\n    }, e.sign.keyPair.fromSecretKey = function (o) {\n      if (Et(o), o.length !== me) throw new Error(\"bad secret key size\");\n      for (var f = new Uint8Array(oe), s = 0; s < f.length; s++) f[s] = o[32 + s];\n      return {\n        publicKey: f,\n        secretKey: new Uint8Array(o)\n      };\n    }, e.sign.keyPair.fromSeed = function (o) {\n      if (Et(o), o.length !== Mr) throw new Error(\"bad seed size\");\n      for (var f = new Uint8Array(oe), s = new Uint8Array(me), n = 0; n < 32; n++) s[n] = o[n];\n      return Pr(f, s, !0), {\n        publicKey: f,\n        secretKey: s\n      };\n    }, e.sign.publicKeyLength = oe, e.sign.secretKeyLength = me, e.sign.seedLength = Mr, e.sign.signatureLength = Jt, e.hash = function (o) {\n      Et(o);\n      var f = new Uint8Array(Yr);\n      return ie(f, o, o.length), f;\n    }, e.hash.hashLength = Yr, e.verify = function (o, f) {\n      return Et(o, f), o.length === 0 || f.length === 0 || o.length !== f.length ? !1 : st(o, 0, f, 0, o.length) === 0;\n    }, e.setPRNG = function (o) {\n      r = o;\n    }, function () {\n      var o = typeof self < \"u\" ? self.crypto || self.msCrypto : null;\n      if (o && o.getRandomValues) {\n        var f = 65536;\n        e.setPRNG(function (s, n) {\n          var c,\n            h = new Uint8Array(n);\n          for (c = 0; c < n; c += f) o.getRandomValues(h.subarray(c, c + Math.min(n - c, f)));\n          for (c = 0; c < n; c++) s[c] = h[c];\n          Rn(h);\n        });\n      } else typeof Bn < \"u\" && (o = Ei(), o && o.randomBytes && e.setPRNG(function (s, n) {\n        var c,\n          h = o.randomBytes(n);\n        for (c = 0; c < n; c++) s[c] = h[c];\n        Rn(h);\n      }));\n    }();\n  })(typeof _r < \"u\" && _r.exports ? _r.exports : self.nacl = self.nacl || {});\n});\nvar yt = function yt(e) {\n    return e == null;\n  },\n  xo = function xo(e) {\n    return !yt(e);\n  };\nvar mt = function mt(e) {\n    return xo(e) ? [e] : [];\n  },\n  At = function At(e) {\n    return e === null || e === void 0 ? void 0 : e[0];\n  },\n  Kn = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n      var t;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            t = new Blob([JSON.stringify(e)], {\n              type: \"application/json; charset=utf-8\"\n            });\n            _context.t0 = Uint8Array;\n            _context.next = 4;\n            return t.arrayBuffer();\n          case 4:\n            _context.t1 = _context.sent;\n            return _context.abrupt(\"return\", new _context.t0(_context.t1));\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function Kn(_x2) {\n      return _ref.apply(this, arguments);\n    };\n  }(),\n  Mn = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n      var t;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            t = new Blob([e instanceof Uint8Array ? e : new Uint8Array(e)], {\n              type: \"application/json; charset=utf-8\"\n            });\n            _context2.t0 = JSON;\n            _context2.next = 4;\n            return t.text();\n          case 4:\n            _context2.t1 = _context2.sent;\n            return _context2.abrupt(\"return\", _context2.t0.parse.call(_context2.t0, _context2.t1));\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function Mn(_x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\nvar ge = /*#__PURE__*/function () {\n  function ge() {\n    _classCallCheck(this, ge);\n    _defineProperty(this, \"callbacks\", []);\n  }\n  _createClass(ge, [{\n    key: \"populate\",\n    value: function populate(t) {\n      this.callbacks.forEach(function (_ref3) {\n        var r = _ref3.callback;\n        return r(t);\n      });\n    }\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(t) {\n      var _this = this;\n      var r = Symbol();\n      return this.callbacks.push({\n        id: r,\n        callback: t\n      }), function () {\n        return _this.callbacks = _this.callbacks.filter(function (_ref4) {\n          var i = _ref4.id;\n          return i !== r;\n        });\n      };\n    }\n  }]);\n  return ge;\n}();\nvar _e = /*#__PURE__*/function (_ge) {\n    _inherits(_e, _ge);\n    var _super = _createSuper(_e);\n    function _e() {\n      var _this2;\n      _classCallCheck(this, _e);\n      _this2 = _super.call(this);\n      _defineProperty(_assertThisInitialized(_this2), \"authUser\", null);\n      return _this2;\n    }\n    _createClass(_e, [{\n      key: \"set\",\n      value: function set(t) {\n        this.authUser = t, this.populate(t);\n      }\n    }, {\n      key: \"get\",\n      value: function get() {\n        return this.authUser;\n      }\n    }, {\n      key: \"subscribe\",\n      value: function subscribe(t) {\n        var r = _get(_getPrototypeOf(_e.prototype), \"subscribe\", this).call(this, t);\n        return t(this.authUser), r;\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.authUser = null, this.populate(this.authUser);\n      }\n    }], [{\n      key: \"getInstance\",\n      value: function getInstance() {\n        return _e.instance || (_e.instance = new _e()), _e.instance;\n      }\n    }]);\n    return _e;\n  }(ge),\n  Vt = _e;\nar(Vt, \"instance\");\nvar Yn = function Yn(_ref5) {\n  var e = _ref5.message,\n    t = _ref5.detail;\n  var r = new CustomEvent(e, {\n    detail: t,\n    bubbles: !0\n  });\n  document.dispatchEvent(r);\n};\nvar Vn = BigInt(144e11),\n  qn = {\n    width: 576,\n    height: 576\n  },\n  Hn = {\n    width: 505,\n    height: 705\n  },\n  $n = \"internetcomputer.org\";\nvar be = /*#__PURE__*/function (_ge2) {\n    _inherits(be, _ge2);\n    var _super2 = _createSuper(be);\n    function be() {\n      var _this3;\n      _classCallCheck(this, be);\n      _this3 = _super2.call(this);\n      _defineProperty(_assertThisInitialized(_this3), \"env\", void 0);\n      return _this3;\n    }\n    _createClass(be, [{\n      key: \"set\",\n      value: function set(t) {\n        this.env = t, this.populate(t);\n      }\n    }, {\n      key: \"get\",\n      value: function get() {\n        return this.env;\n      }\n    }, {\n      key: \"localIdentity\",\n      value: function localIdentity() {\n        var _this$get;\n        return ((_this$get = this.get()) === null || _this$get === void 0 ? void 0 : _this$get.localIdentityCanisterId) !== void 0;\n      }\n    }, {\n      key: \"subscribe\",\n      value: function subscribe(t) {\n        var r = _get(_getPrototypeOf(be.prototype), \"subscribe\", this).call(this, t);\n        return t(this.env), r;\n      }\n    }], [{\n      key: \"getInstance\",\n      value: function getInstance() {\n        return be.instance || (be.instance = new be()), be.instance;\n      }\n    }]);\n    return be;\n  }(ge),\n  bt = be;\nar(bt, \"instance\");\nvar cr = function cr() {\n    return typeof window < \"u\";\n  },\n  Vr = function Vr() {\n    var _bt$getInstance$get$s, _bt$getInstance$get;\n    var e = (_bt$getInstance$get$s = (_bt$getInstance$get = bt.getInstance().get()) === null || _bt$getInstance$get === void 0 ? void 0 : _bt$getInstance$get.satelliteId) !== null && _bt$getInstance$get$s !== void 0 ? _bt$getInstance$get$s : \"unknown\";\n    return bt.getInstance().localIdentity() ? \"http://\".concat(e, \".localhost:8000\") : \"https://\".concat(e, \".icp0.io\");\n  };\nvar qr = function qr(_ref6) {\n  var e = _ref6.width,\n    t = _ref6.height;\n  if (!cr() || yt(window) || yt(window.top)) return;\n  var _window = window,\n    _window$top = _window.top,\n    r = _window$top.innerWidth,\n    i = _window$top.innerHeight,\n    a = i / 2 + screenY - t / 2,\n    u = r / 2 + screenX - e / 2;\n  return \"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=no, copyhistory=no, width=\".concat(e, \", height=\").concat(t, \", top=\").concat(a, \", left=\").concat(u);\n};\nvar ur = (_t2 = /*#__PURE__*/new WeakMap(), /*#__PURE__*/function () {\n    function ur(_ref7) {\n      var t = _ref7.domain;\n      _classCallCheck(this, ur);\n      _classPrivateFieldInitSpec(this, _t2, {\n        writable: true,\n        value: void 0\n      });\n      _classPrivateFieldSet(this, _t2, t);\n    }\n    _createClass(ur, [{\n      key: \"id\",\n      get: function get() {\n        return \"internet_identity\";\n      }\n    }, {\n      key: \"signInOptions\",\n      value: function signInOptions(_ref8) {\n        var _bt$getInstance$get2, _classPrivateFieldGet2;\n        var t = _ref8.windowed;\n        var r = bt.getInstance().localIdentity() ? \"http://\".concat((_bt$getInstance$get2 = bt.getInstance().get()) === null || _bt$getInstance$get2 === void 0 ? void 0 : _bt$getInstance$get2.localIdentityCanisterId, \".localhost:8000\") : \"https://identity.\".concat((_classPrivateFieldGet2 = _classPrivateFieldGet(this, _t2)) !== null && _classPrivateFieldGet2 !== void 0 ? _classPrivateFieldGet2 : $n);\n        return _objectSpread(_objectSpread({}, t !== !1 && {\n          windowOpenerFeatures: qr(qn)\n        }), {}, {\n          identityProvider: r\n        });\n      }\n    }]);\n    return ur;\n  }()),\n  Wn = (_t3 = /*#__PURE__*/new WeakMap(), _e2 = /*#__PURE__*/new WeakMap(), /*#__PURE__*/function () {\n    function Wn(_ref9) {\n      var t = _ref9.appName,\n        r = _ref9.logoUrl;\n      _classCallCheck(this, Wn);\n      _classPrivateFieldInitSpec(this, _t3, {\n        writable: true,\n        value: void 0\n      });\n      _classPrivateFieldInitSpec(this, _e2, {\n        writable: true,\n        value: void 0\n      });\n      _classPrivateFieldSet(this, _t3, t), _classPrivateFieldSet(this, _e2, r);\n    }\n    _createClass(Wn, [{\n      key: \"id\",\n      get: function get() {\n        return \"nfid\";\n      }\n    }, {\n      key: \"signInOptions\",\n      value: function signInOptions(_ref10) {\n        var t = _ref10.windowed;\n        return _objectSpread(_objectSpread({}, t !== !1 && {\n          windowOpenerFeatures: qr(Hn)\n        }), {}, {\n          identityProvider: \"https://nfid.one/authenticate/?applicationName=\".concat(encodeURI(_classPrivateFieldGet(this, _t3)), \"&applicationLogo=\").concat(encodeURI(_classPrivateFieldGet(this, _e2)))\n        });\n      }\n    }]);\n    return Wn;\n  }());\nvar gi = we(ai());\nvar pr;\n(function (e) {\n  e[e.SysFatal = 1] = \"SysFatal\", e[e.SysTransient = 2] = \"SysTransient\", e[e.DestinationInvalid = 3] = \"DestinationInvalid\", e[e.CanisterReject = 4] = \"CanisterReject\", e[e.CanisterError = 5] = \"CanisterError\";\n})(pr || (pr = {}));\nvar Go = function Go(e, t) {\n    var r = {};\n    for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (r[i] = e[i]);\n    if (e != null && typeof Object.getOwnPropertySymbols == \"function\") for (var a = 0, i = Object.getOwnPropertySymbols(e); a < i.length; a++) t.indexOf(i[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[a]) && (r[i[a]] = e[i[a]]);\n    return r;\n  },\n  Io = new TextEncoder().encode(\"\\nic-request\"),\n  Qt = /*#__PURE__*/function () {\n    function Qt() {\n      _classCallCheck(this, Qt);\n    }\n    _createClass(Qt, [{\n      key: \"getPrincipal\",\n      value: function getPrincipal() {\n        return this._principal || (this._principal = ot.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))), this._principal;\n      }\n    }, {\n      key: \"transformRequest\",\n      value: function () {\n        var _transformRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(t) {\n          var r, i, a;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                r = t.body;\n                i = Go(t, [\"body\"]);\n                _context3.next = 4;\n                return ae(r);\n              case 4:\n                a = _context3.sent;\n                _context3.t0 = Object;\n                _context3.t1 = Object.assign({}, i);\n                _context3.t2 = r;\n                _context3.t3 = this.getPublicKey().toDer();\n                _context3.next = 11;\n                return this.sign(Cn(Io, a));\n              case 11:\n                _context3.t4 = _context3.sent;\n                _context3.t5 = {\n                  content: _context3.t2,\n                  sender_pubkey: _context3.t3,\n                  sender_sig: _context3.t4\n                };\n                _context3.t6 = {\n                  body: _context3.t5\n                };\n                return _context3.abrupt(\"return\", _context3.t0.assign.call(_context3.t0, _context3.t1, _context3.t6));\n              case 15:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3, this);\n        }));\n        function transformRequest(_x4) {\n          return _transformRequest.apply(this, arguments);\n        }\n        return transformRequest;\n      }()\n    }]);\n    return Qt;\n  }(),\n  Dt = /*#__PURE__*/function () {\n    function Dt() {\n      _classCallCheck(this, Dt);\n    }\n    _createClass(Dt, [{\n      key: \"getPrincipal\",\n      value: function getPrincipal() {\n        return ot.anonymous();\n      }\n    }, {\n      key: \"transformRequest\",\n      value: function () {\n        var _transformRequest2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(t) {\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", Object.assign(Object.assign({}, t), {\n                  body: {\n                    content: t.body\n                  }\n                }));\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }, _callee4);\n        }));\n        function transformRequest(_x5) {\n          return _transformRequest2.apply(this, arguments);\n        }\n        return transformRequest;\n      }()\n    }]);\n    return Dt;\n  }();\nvar si = we(kn());\nvar xr;\n(function (e) {\n  e.Call = \"call\";\n})(xr || (xr = {}));\nfunction Ye() {\n  var e = new ArrayBuffer(16),\n    t = new DataView(e),\n    r = BigInt(+Date.now()),\n    i = Math.floor(Math.random() * 4294967295),\n    a = Math.floor(Math.random() * 4294967295);\n  if (typeof t.setBigUint64 == \"function\") t.setBigUint64(0, r);else {\n    var u = BigInt(1) << BigInt(32);\n    t.setUint32(0, Number(r >> BigInt(32))), t.setUint32(4, Number(r % u));\n  }\n  return t.setUint32(8, i), t.setUint32(12, a), e;\n}\nvar Jo = BigInt(1e6),\n  Xo = BigInt(60 * 1e3),\n  ce = /*#__PURE__*/function () {\n    function ce(t) {\n      _classCallCheck(this, ce);\n      this._value = (BigInt(Date.now()) + BigInt(t) - Xo) * Jo;\n    }\n    _createClass(ce, [{\n      key: \"toCBOR\",\n      value: function toCBOR() {\n        return si.value.u64(this._value.toString(16), 16);\n      }\n    }, {\n      key: \"toHash\",\n      value: function toHash() {\n        return Pn(this._value);\n      }\n    }]);\n    return ce;\n  }();\nfunction fi() {\n  var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Ye;\n  return /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(t) {\n      var r, i;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            r = e(), i = t.request.headers ? new Headers(t.request.headers) : new Headers();\n            t.request.headers = i, t.endpoint === \"call\" && (t.body.nonce = e());\n          case 2:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5);\n    }));\n    return function (_x6) {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n}\nvar $t;\n(function (e) {\n  e.Received = \"received\", e.Processing = \"processing\", e.Replied = \"replied\", e.Rejected = \"rejected\", e.Unknown = \"unknown\", e.Done = \"done\";\n})($t || ($t = {}));\nvar yr = 5 * 60 * 1e3,\n  Qo = \"308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae\",\n  Do = \"ic0.app\",\n  Lo = \".ic0.app\",\n  ta = \"icp0.io\",\n  ea = \".icp0.io\",\n  ra = \"icp-api.io\",\n  na = \".icp-api.io\",\n  Ve = /*#__PURE__*/function (_Ke) {\n    _inherits(Ve, _Ke);\n    var _super3 = _createSuper(Ve);\n    function Ve(t) {\n      var _this4;\n      _classCallCheck(this, Ve);\n      _this4 = _super3.call(this, t), _this4.message = t;\n      return _this4;\n    }\n    return _createClass(Ve);\n  }(Ke),\n  Ae = /*#__PURE__*/function (_Ke2) {\n    _inherits(Ae, _Ke2);\n    var _super4 = _createSuper(Ae);\n    function Ae(t) {\n      var _this5;\n      _classCallCheck(this, Ae);\n      _this5 = _super4.call(this, t), _this5.message = t;\n      return _this5;\n    }\n    return _createClass(Ae);\n  }(Ke);\nfunction ia() {\n  var e;\n  if (typeof window < \"u\") {\n    if (window.fetch) e = window.fetch.bind(window);else throw new Ve(\"Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.\");\n  } else if (typeof globalThis < \"u\") {\n    if (globalThis.fetch) e = globalThis.fetch.bind(globalThis);else throw new Ve(\"Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.\");\n  } else typeof self < \"u\" && self.fetch && (e = self.fetch.bind(self));\n  if (e) return e;\n  throw new Ve(\"Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.\");\n}\nvar ue = /*#__PURE__*/function () {\n  function ue() {\n    var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, ue);\n    if (this.rootKey = Fn(Qo), this._pipeline = [], this._timeDiffMsecs = 0, this._rootKeyFetched = !1, this._retryTimes = 3, this._isAgent = !0, t.source) {\n      if (!(t.source instanceof ue)) throw new Error(\"An Agent's source can only be another HttpAgent\");\n      this._pipeline = _toConsumableArray(t.source._pipeline), this._identity = t.source._identity, this._fetch = t.source._fetch, this._host = t.source._host, this._credentials = t.source._credentials;\n    } else this._fetch = t.fetch || ia() || fetch.bind(globalThis), this._fetchOptions = t.fetchOptions, this._callOptions = t.callOptions;\n    if (t.host !== void 0) !t.host.match(/^[a-z]+:/) && typeof window < \"u\" ? this._host = new URL(window.location.protocol + \"//\" + t.host) : this._host = new URL(t.host);else if (t.source !== void 0) this._host = t.source._host;else {\n      var r = typeof window < \"u\" ? window.location : void 0;\n      if (!r) throw new Error(\"Must specify a host to connect to.\");\n      this._host = new URL(r + \"\");\n    }\n    if (t.retryTimes !== void 0 && (this._retryTimes = t.retryTimes), this._host.hostname.endsWith(Lo) ? this._host.hostname = Do : this._host.hostname.endsWith(ea) ? this._host.hostname = ta : this._host.hostname.endsWith(na) && (this._host.hostname = ra), t.credentials) {\n      var _t$credentials = t.credentials,\n        _r2 = _t$credentials.name,\n        i = _t$credentials.password;\n      this._credentials = \"\".concat(_r2).concat(i ? \":\" + i : \"\");\n    }\n    this._identity = Promise.resolve(t.identity || new Dt()), t.disableNonce || this.addTransform(fi(Ye));\n  }\n  _createClass(ue, [{\n    key: \"isLocal\",\n    value: function isLocal() {\n      var t = this._host.hostname;\n      return t === \"127.0.0.1\" || t.endsWith(\"localhost\");\n    }\n  }, {\n    key: \"addTransform\",\n    value: function addTransform(t) {\n      var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : t.priority || 0;\n      var i = this._pipeline.findIndex(function (a) {\n        return (a.priority || 0) < r;\n      });\n      this._pipeline.splice(i >= 0 ? i : this._pipeline.length, 0, Object.assign(t, {\n        priority: r\n      }));\n    }\n  }, {\n    key: \"getPrincipal\",\n    value: function () {\n      var _getPrincipal = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              if (this._identity) {\n                _context6.next = 2;\n                break;\n              }\n              throw new Ae(\"This identity has expired due this application's security policy. Please refresh your authentication.\");\n            case 2:\n              _context6.next = 4;\n              return this._identity;\n            case 4:\n              return _context6.abrupt(\"return\", _context6.sent.getPrincipal());\n            case 5:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function getPrincipal() {\n        return _getPrincipal.apply(this, arguments);\n      }\n      return getPrincipal;\n    }()\n  }, {\n    key: \"call\",\n    value: function () {\n      var _call = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(t, r, i) {\n        var _this6 = this;\n        var a, u, d, m, w, A, P, O, Z, _yield$Promise$all, _yield$Promise$all2, it, st;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              if (!(i !== void 0)) {\n                _context7.next = 6;\n                break;\n              }\n              _context7.next = 3;\n              return i;\n            case 3:\n              _context7.t0 = _context7.sent;\n              _context7.next = 9;\n              break;\n            case 6:\n              _context7.next = 8;\n              return this._identity;\n            case 8:\n              _context7.t0 = _context7.sent;\n            case 9:\n              _context7.next = 11;\n              return _context7.t0;\n            case 11:\n              a = _context7.sent;\n              if (a) {\n                _context7.next = 14;\n                break;\n              }\n              throw new Ae(\"This identity has expired due this application's security policy. Please refresh your authentication.\");\n            case 14:\n              u = ot.from(t), d = r.effectiveCanisterId ? ot.from(r.effectiveCanisterId) : u, m = a.getPrincipal() || ot.anonymous(), w = new ce(yr);\n              Math.abs(this._timeDiffMsecs) > 1e3 * 30 && (w = new ce(yr + this._timeDiffMsecs));\n              A = {\n                request_type: xr.Call,\n                canister_id: u,\n                method_name: r.methodName,\n                arg: r.arg,\n                sender: m,\n                ingress_expiry: w\n              };\n              _context7.next = 19;\n              return this._transform({\n                request: {\n                  body: null,\n                  method: \"POST\",\n                  headers: new Headers(Object.assign({\n                    \"Content-Type\": \"application/cbor\"\n                  }, this._credentials ? {\n                    Authorization: \"Basic \" + btoa(this._credentials)\n                  } : {}))\n                },\n                endpoint: \"call\",\n                body: A\n              });\n            case 19:\n              P = _context7.sent;\n              _context7.next = 22;\n              return a.transformRequest(P);\n            case 22:\n              P = _context7.sent;\n              O = sr(P.body);\n              Z = this._requestAndRetry(function () {\n                return _this6._fetch(\"\" + new URL(\"/api/v2/canister/\".concat(d.toText(), \"/call\"), _this6._host), Object.assign(Object.assign(Object.assign({}, _this6._callOptions), P.request), {\n                  body: O\n                }));\n              });\n              _context7.next = 27;\n              return Promise.all([Z, ae(A)]);\n            case 27:\n              _yield$Promise$all = _context7.sent;\n              _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n              it = _yield$Promise$all2[0];\n              st = _yield$Promise$all2[1];\n              return _context7.abrupt(\"return\", {\n                requestId: st,\n                response: {\n                  ok: it.ok,\n                  status: it.status,\n                  statusText: it.statusText\n                }\n              });\n            case 32:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function call(_x7, _x8, _x9) {\n        return _call.apply(this, arguments);\n      }\n      return call;\n    }()\n  }, {\n    key: \"_requestAndRetry\",\n    value: function () {\n      var _requestAndRetry2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(t) {\n        var r,\n          i,\n          a,\n          u,\n          _args8 = arguments;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              r = _args8.length > 1 && _args8[1] !== undefined ? _args8[1] : 0;\n              if (!(r > this._retryTimes && this._retryTimes !== 0)) {\n                _context8.next = 3;\n                break;\n              }\n              throw new Error(\"AgentError: Exceeded configured limit of \".concat(this._retryTimes, \" retry attempts. Please check your network connection or try again in a few moments\"));\n            case 3:\n              _context8.next = 5;\n              return t();\n            case 5:\n              i = _context8.sent;\n              if (i.ok) {\n                _context8.next = 17;\n                break;\n              }\n              _context8.next = 9;\n              return i.clone().text();\n            case 9:\n              a = _context8.sent;\n              u = \"Server returned an error:\\n  Code: \".concat(i.status, \" (\").concat(i.statusText, \")\\n  Body: \").concat(a, \"\\n\");\n              if (!(this._retryTimes > r)) {\n                _context8.next = 16;\n                break;\n              }\n              console.warn(u + \"  Retrying request.\");\n              _context8.next = 15;\n              return this._requestAndRetry(t, r + 1);\n            case 15:\n              return _context8.abrupt(\"return\", _context8.sent);\n            case 16:\n              throw new Error(u);\n            case 17:\n              return _context8.abrupt(\"return\", i);\n            case 18:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee8, this);\n      }));\n      function _requestAndRetry(_x10) {\n        return _requestAndRetry2.apply(this, arguments);\n      }\n      return _requestAndRetry;\n    }()\n  }, {\n    key: \"query\",\n    value: function () {\n      var _query = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(t, r, i) {\n        var _this7 = this;\n        var a, u, d, m, w, A, P;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              if (!(i !== void 0)) {\n                _context9.next = 6;\n                break;\n              }\n              _context9.next = 3;\n              return i;\n            case 3:\n              _context9.t0 = _context9.sent;\n              _context9.next = 9;\n              break;\n            case 6:\n              _context9.next = 8;\n              return this._identity;\n            case 8:\n              _context9.t0 = _context9.sent;\n            case 9:\n              _context9.next = 11;\n              return _context9.t0;\n            case 11:\n              a = _context9.sent;\n              if (a) {\n                _context9.next = 14;\n                break;\n              }\n              throw new Ae(\"This identity has expired due this application's security policy. Please refresh your authentication.\");\n            case 14:\n              u = typeof t == \"string\" ? ot.fromText(t) : t;\n              d = (a === null || a === void 0 ? void 0 : a.getPrincipal()) || ot.anonymous();\n              m = {\n                request_type: \"query\",\n                canister_id: u,\n                method_name: r.methodName,\n                arg: r.arg,\n                sender: d,\n                ingress_expiry: new ce(yr)\n              };\n              _context9.next = 19;\n              return this._transform({\n                request: {\n                  method: \"POST\",\n                  headers: new Headers(Object.assign({\n                    \"Content-Type\": \"application/cbor\"\n                  }, this._credentials ? {\n                    Authorization: \"Basic \" + btoa(this._credentials)\n                  } : {}))\n                },\n                endpoint: \"read\",\n                body: m\n              });\n            case 19:\n              w = _context9.sent;\n              _context9.next = 22;\n              return a === null || a === void 0 ? void 0 : a.transformRequest(w);\n            case 22:\n              w = _context9.sent;\n              A = sr(w.body);\n              _context9.next = 26;\n              return this._requestAndRetry(function () {\n                return _this7._fetch(\"\" + new URL(\"/api/v2/canister/\".concat(u.toText(), \"/query\"), _this7._host), Object.assign(Object.assign(Object.assign({}, _this7._fetchOptions), w.request), {\n                  body: A\n                }));\n              });\n            case 26:\n              P = _context9.sent;\n              _context9.t1 = fr;\n              _context9.next = 30;\n              return P.arrayBuffer();\n            case 30:\n              _context9.t2 = _context9.sent;\n              return _context9.abrupt(\"return\", (0, _context9.t1)(_context9.t2));\n            case 32:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9, this);\n      }));\n      function query(_x11, _x12, _x13) {\n        return _query.apply(this, arguments);\n      }\n      return query;\n    }()\n  }, {\n    key: \"createReadStateRequest\",\n    value: function () {\n      var _createReadStateRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(t, r) {\n        var i, a, u;\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              if (!(r !== void 0)) {\n                _context10.next = 6;\n                break;\n              }\n              _context10.next = 3;\n              return r;\n            case 3:\n              _context10.t0 = _context10.sent;\n              _context10.next = 9;\n              break;\n            case 6:\n              _context10.next = 8;\n              return this._identity;\n            case 8:\n              _context10.t0 = _context10.sent;\n            case 9:\n              _context10.next = 11;\n              return _context10.t0;\n            case 11:\n              i = _context10.sent;\n              if (i) {\n                _context10.next = 14;\n                break;\n              }\n              throw new Ae(\"This identity has expired due this application's security policy. Please refresh your authentication.\");\n            case 14:\n              a = (i === null || i === void 0 ? void 0 : i.getPrincipal()) || ot.anonymous();\n              _context10.next = 17;\n              return this._transform({\n                request: {\n                  method: \"POST\",\n                  headers: new Headers(Object.assign({\n                    \"Content-Type\": \"application/cbor\"\n                  }, this._credentials ? {\n                    Authorization: \"Basic \" + btoa(this._credentials)\n                  } : {}))\n                },\n                endpoint: \"read_state\",\n                body: {\n                  request_type: \"read_state\",\n                  paths: t.paths,\n                  sender: a,\n                  ingress_expiry: new ce(yr)\n                }\n              });\n            case 17:\n              u = _context10.sent;\n              return _context10.abrupt(\"return\", i === null || i === void 0 ? void 0 : i.transformRequest(u));\n            case 19:\n            case \"end\":\n              return _context10.stop();\n          }\n        }, _callee10, this);\n      }));\n      function createReadStateRequest(_x14, _x15) {\n        return _createReadStateRequest.apply(this, arguments);\n      }\n      return createReadStateRequest;\n    }()\n  }, {\n    key: \"readState\",\n    value: function () {\n      var _readState = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(t, r, i, a) {\n        var _this8 = this;\n        var u, d, m, w;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              u = typeof t == \"string\" ? ot.fromText(t) : t;\n              if (!(a !== null && a !== void 0)) {\n                _context11.next = 5;\n                break;\n              }\n              _context11.t0 = a;\n              _context11.next = 8;\n              break;\n            case 5:\n              _context11.next = 7;\n              return this.createReadStateRequest(r, i);\n            case 7:\n              _context11.t0 = _context11.sent;\n            case 8:\n              d = _context11.t0;\n              m = sr(d.body);\n              _context11.next = 12;\n              return this._requestAndRetry(function () {\n                return _this8._fetch(\"\" + new URL(\"/api/v2/canister/\".concat(u, \"/read_state\"), _this8._host), Object.assign(Object.assign(Object.assign({}, _this8._fetchOptions), d.request), {\n                  body: m\n                }));\n              });\n            case 12:\n              w = _context11.sent;\n              if (w.ok) {\n                _context11.next = 21;\n                break;\n              }\n              _context11.t1 = Error;\n              _context11.t2 = \"Server returned an error:\\n  Code: \".concat(w.status, \" (\").concat(w.statusText, \")\\n  Body: \");\n              _context11.next = 18;\n              return w.text();\n            case 18:\n              _context11.t3 = _context11.sent;\n              _context11.t4 = _context11.t2.concat.call(_context11.t2, _context11.t3, \"\\n\");\n              throw new _context11.t1(_context11.t4);\n            case 21:\n              _context11.t5 = fr;\n              _context11.next = 24;\n              return w.arrayBuffer();\n            case 24:\n              _context11.t6 = _context11.sent;\n              return _context11.abrupt(\"return\", (0, _context11.t5)(_context11.t6));\n            case 26:\n            case \"end\":\n              return _context11.stop();\n          }\n        }, _callee11, this);\n      }));\n      function readState(_x16, _x17, _x18, _x19) {\n        return _readState.apply(this, arguments);\n      }\n      return readState;\n    }()\n  }, {\n    key: \"syncTime\",\n    value: function () {\n      var _syncTime = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(t) {\n        var r, i, u;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.next = 2;\n              return import(\"./canisterStatus-QA2NYBQ6.js\");\n            case 2:\n              r = _context12.sent;\n              i = Date.now();\n              _context12.prev = 4;\n              t || console.log(\"Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai\");\n              _context12.next = 8;\n              return r.request({\n                canisterId: t !== null && t !== void 0 ? t : ot.from(\"ryjl3-tyaaa-aaaaa-aaaba-cai\"),\n                agent: this,\n                paths: [\"time\"]\n              });\n            case 8:\n              u = _context12.sent.get(\"time\");\n              u && (this._timeDiffMsecs = Number(u) - Number(i));\n              _context12.next = 15;\n              break;\n            case 12:\n              _context12.prev = 12;\n              _context12.t0 = _context12[\"catch\"](4);\n              console.error(\"Caught exception while attempting to sync time:\", _context12.t0);\n            case 15:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee12, this, [[4, 12]]);\n      }));\n      function syncTime(_x20) {\n        return _syncTime.apply(this, arguments);\n      }\n      return syncTime;\n    }()\n  }, {\n    key: \"status\",\n    value: function () {\n      var _status = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13() {\n        var _this9 = this;\n        var t, r;\n        return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1) switch (_context13.prev = _context13.next) {\n            case 0:\n              t = this._credentials ? {\n                Authorization: \"Basic \" + btoa(this._credentials)\n              } : {};\n              _context13.next = 3;\n              return this._requestAndRetry(function () {\n                return _this9._fetch(\"\" + new URL(\"/api/v2/status\", _this9._host), Object.assign({\n                  headers: t\n                }, _this9._fetchOptions));\n              });\n            case 3:\n              r = _context13.sent;\n              _context13.t0 = fr;\n              _context13.next = 7;\n              return r.arrayBuffer();\n            case 7:\n              _context13.t1 = _context13.sent;\n              return _context13.abrupt(\"return\", (0, _context13.t0)(_context13.t1));\n            case 9:\n            case \"end\":\n              return _context13.stop();\n          }\n        }, _callee13, this);\n      }));\n      function status() {\n        return _status.apply(this, arguments);\n      }\n      return status;\n    }()\n  }, {\n    key: \"fetchRootKey\",\n    value: function () {\n      var _fetchRootKey = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14() {\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1) switch (_context14.prev = _context14.next) {\n            case 0:\n              _context14.t0 = this._rootKeyFetched;\n              if (_context14.t0) {\n                _context14.next = 6;\n                break;\n              }\n              _context14.next = 4;\n              return this.status();\n            case 4:\n              this.rootKey = _context14.sent.root_key;\n              this._rootKeyFetched = !0;\n            case 6:\n              return _context14.abrupt(\"return\", this.rootKey);\n            case 7:\n            case \"end\":\n              return _context14.stop();\n          }\n        }, _callee14, this);\n      }));\n      function fetchRootKey() {\n        return _fetchRootKey.apply(this, arguments);\n      }\n      return fetchRootKey;\n    }()\n  }, {\n    key: \"invalidateIdentity\",\n    value: function invalidateIdentity() {\n      this._identity = null;\n    }\n  }, {\n    key: \"replaceIdentity\",\n    value: function replaceIdentity(t) {\n      this._identity = Promise.resolve(t);\n    }\n  }, {\n    key: \"_transform\",\n    value: function _transform(t) {\n      var r = Promise.resolve(t);\n      var _iterator2 = _createForOfIteratorHelper(this._pipeline),\n        _step2;\n      try {\n        var _loop = function _loop() {\n          var i = _step2.value;\n          r = r.then(function (a) {\n            return i(a).then(function (u) {\n              return u || a;\n            });\n          });\n        };\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return r;\n    }\n  }]);\n  return ue;\n}();\nvar ci;\n(function (e) {\n  e.Error = \"err\", e.GetPrincipal = \"gp\", e.GetPrincipalResponse = \"gpr\", e.Query = \"q\", e.QueryResponse = \"qr\", e.Call = \"c\", e.CallResponse = \"cr\", e.ReadState = \"rs\", e.ReadStateResponse = \"rsr\", e.Status = \"s\", e.StatusResponse = \"sr\";\n})(ci || (ci = {}));\nfunction Zr() {\n  var e = typeof window > \"u\" ? typeof globalThis > \"u\" ? typeof self > \"u\" ? void 0 : self.ic.agent : globalThis.ic.agent : window.ic.agent;\n  if (!e) throw new Error(\"No Agent could be found.\");\n  return e;\n}\nvar mr = {};\nNn(mr, {\n  backoff: function backoff() {\n    return pi;\n  },\n  chain: function chain() {\n    return xi;\n  },\n  conditionalDelay: function conditionalDelay() {\n    return di;\n  },\n  defaultStrategy: function defaultStrategy() {\n    return ui;\n  },\n  maxAttempts: function maxAttempts() {\n    return aa;\n  },\n  once: function once() {\n    return li;\n  },\n  throttle: function throttle() {\n    return sa;\n  },\n  timeout: function timeout() {\n    return hi;\n  }\n});\nvar oa = 5 * 60 * 1e3;\nfunction ui() {\n  return xi(di(li(), 1e3), pi(1e3, 1.2), hi(oa));\n}\nfunction li() {\n  var e = !0;\n  return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15() {\n    return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n      while (1) switch (_context15.prev = _context15.next) {\n        case 0:\n          return _context15.abrupt(\"return\", e ? (e = !1, !0) : !1);\n        case 1:\n        case \"end\":\n          return _context15.stop();\n      }\n    }, _callee15);\n  }));\n}\nfunction di(e, t) {\n  return /*#__PURE__*/function () {\n    var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(r, i, a) {\n      return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n        while (1) switch (_context16.prev = _context16.next) {\n          case 0:\n            _context16.next = 2;\n            return e(r, i, a);\n          case 2:\n            if (!_context16.sent) {\n              _context16.next = 4;\n              break;\n            }\n            return _context16.abrupt(\"return\", new Promise(function (u) {\n              return setTimeout(u, t);\n            }));\n          case 4:\n          case \"end\":\n            return _context16.stop();\n        }\n      }, _callee16);\n    }));\n    return function (_x21, _x22, _x23) {\n      return _ref13.apply(this, arguments);\n    };\n  }();\n}\nfunction aa(e) {\n  var t = e;\n  return /*#__PURE__*/function () {\n    var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(r, i, a) {\n      return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n        while (1) switch (_context17.prev = _context17.next) {\n          case 0:\n            if (!(--t <= 0)) {\n              _context17.next = 2;\n              break;\n            }\n            throw new Error(\"Failed to retrieve a reply for request after \".concat(e, \" attempts:\\n  Request ID: \").concat(Xt(i), \"\\n  Request status: \").concat(a, \"\\n\"));\n          case 2:\n          case \"end\":\n            return _context17.stop();\n        }\n      }, _callee17);\n    }));\n    return function (_x24, _x25, _x26) {\n      return _ref14.apply(this, arguments);\n    };\n  }();\n}\nfunction sa(e) {\n  return function () {\n    return new Promise(function (t) {\n      return setTimeout(t, e);\n    });\n  };\n}\nfunction hi(e) {\n  var t = Date.now() + e;\n  return /*#__PURE__*/function () {\n    var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18(r, i, a) {\n      return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n        while (1) switch (_context18.prev = _context18.next) {\n          case 0:\n            if (!(Date.now() > t)) {\n              _context18.next = 2;\n              break;\n            }\n            throw new Error(\"Request timed out after \".concat(e, \" msec:\\n  Request ID: \").concat(Xt(i), \"\\n  Request status: \").concat(a, \"\\n\"));\n          case 2:\n          case \"end\":\n            return _context18.stop();\n        }\n      }, _callee18);\n    }));\n    return function (_x27, _x28, _x29) {\n      return _ref15.apply(this, arguments);\n    };\n  }();\n}\nfunction pi(e, t) {\n  var r = e;\n  return function () {\n    return new Promise(function (i) {\n      return setTimeout(function () {\n        r *= t, i();\n      }, r);\n    });\n  };\n}\nfunction xi() {\n  for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n    e[_key] = arguments[_key];\n  }\n  return /*#__PURE__*/function () {\n    var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19(t, r, i) {\n      var _i2, _e3, a;\n      return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n        while (1) switch (_context19.prev = _context19.next) {\n          case 0:\n            _i2 = 0, _e3 = e;\n          case 1:\n            if (!(_i2 < _e3.length)) {\n              _context19.next = 8;\n              break;\n            }\n            a = _e3[_i2];\n            _context19.next = 5;\n            return a(t, r, i);\n          case 5:\n            _i2++;\n            _context19.next = 1;\n            break;\n          case 8:\n          case \"end\":\n            return _context19.stop();\n        }\n      }, _callee19);\n    }));\n    return function (_x30, _x31, _x32) {\n      return _ref16.apply(this, arguments);\n    };\n  }();\n}\nfunction Qr(_x33, _x34, _x35, _x36, _x37, _x38) {\n  return _Qr.apply(this, arguments);\n}\nfunction _Qr() {\n  _Qr = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee79(e, t, r, i, a, u) {\n    var d, m, w, A, P, O, Z, it, st;\n    return _regeneratorRuntime().wrap(function _callee79$(_context79) {\n      while (1) switch (_context79.prev = _context79.next) {\n        case 0:\n          m = [new TextEncoder().encode(\"request_status\"), r];\n          if (!(a !== null && a !== void 0)) {\n            _context79.next = 5;\n            break;\n          }\n          _context79.t0 = a;\n          _context79.next = 8;\n          break;\n        case 5:\n          _context79.next = 7;\n          return (d = e.createReadStateRequest) === null || d === void 0 ? void 0 : d.call(e, {\n            paths: [m]\n          });\n        case 7:\n          _context79.t0 = _context79.sent;\n        case 8:\n          w = _context79.t0;\n          _context79.next = 11;\n          return e.readState(t, {\n            paths: [m]\n          }, void 0, w);\n        case 11:\n          A = _context79.sent;\n          if (!(e.rootKey == null)) {\n            _context79.next = 14;\n            break;\n          }\n          throw new Error(\"Agent root key not initialized before polling\");\n        case 14:\n          _context79.next = 16;\n          return jn.create({\n            certificate: A.certificate,\n            rootKey: e.rootKey,\n            canisterId: t,\n            blsVerify: u\n          });\n        case 16:\n          P = _context79.sent;\n          O = P.lookup([].concat(m, [new TextEncoder().encode(\"status\")]));\n          _context79.t1 = (typeof O > \"u\" ? Z = $t.Unknown : Z = new TextDecoder().decode(O), Z);\n          _context79.next = _context79.t1 === $t.Replied ? 21 : _context79.t1 === $t.Received ? 22 : _context79.t1 === $t.Unknown ? 22 : _context79.t1 === $t.Processing ? 22 : _context79.t1 === $t.Rejected ? 25 : _context79.t1 === $t.Done ? 27 : 28;\n          break;\n        case 21:\n          return _context79.abrupt(\"return\", P.lookup([].concat(m, [\"reply\"])));\n        case 22:\n          _context79.next = 24;\n          return i(t, r, Z);\n        case 24:\n          return _context79.abrupt(\"return\", Qr(e, t, r, i, w));\n        case 25:\n          it = new Uint8Array(P.lookup([].concat(m, [\"reject_code\"])))[0], st = new TextDecoder().decode(P.lookup([].concat(m, [\"reject_message\"])));\n          throw new Error(\"Call was rejected:\\n  Request ID: \".concat(Xt(r), \"\\n  Reject code: \").concat(it, \"\\n  Reject text: \").concat(st, \"\\n\"));\n        case 27:\n          throw new Error(\"Call was marked as done but we never saw the reply:\\n  Request ID: \".concat(Xt(r), \"\\n\"));\n        case 28:\n          throw new Error(\"unreachable\");\n        case 29:\n        case \"end\":\n          return _context79.stop();\n      }\n    }, _callee79);\n  }));\n  return _Qr.apply(this, arguments);\n}\nvar yi = function yi(_ref17) {\n  var e = _ref17.IDL;\n  var t = e.Principal,\n    r = e.Record({\n      controllers: e.Vec(e.Principal),\n      freezing_threshold: e.Nat,\n      memory_allocation: e.Nat,\n      compute_allocation: e.Nat\n    }),\n    i = e.Record({\n      controllers: e.Opt(e.Vec(e.Principal)),\n      freezing_threshold: e.Opt(e.Nat),\n      memory_allocation: e.Opt(e.Nat),\n      compute_allocation: e.Opt(e.Nat)\n    }),\n    a = e.Vec(e.Nat8);\n  return e.Service({\n    canister_status: e.Func([e.Record({\n      canister_id: t\n    })], [e.Record({\n      status: e.Variant({\n        stopped: e.Null,\n        stopping: e.Null,\n        running: e.Null\n      }),\n      memory_size: e.Nat,\n      cycles: e.Nat,\n      settings: r,\n      module_hash: e.Opt(e.Vec(e.Nat8))\n    })], []),\n    create_canister: e.Func([e.Record({\n      settings: e.Opt(i)\n    })], [e.Record({\n      canister_id: t\n    })], []),\n    delete_canister: e.Func([e.Record({\n      canister_id: t\n    })], [], []),\n    deposit_cycles: e.Func([e.Record({\n      canister_id: t\n    })], [], []),\n    install_code: e.Func([e.Record({\n      arg: e.Vec(e.Nat8),\n      wasm_module: a,\n      mode: e.Variant({\n        reinstall: e.Null,\n        upgrade: e.Null,\n        install: e.Null\n      }),\n      canister_id: t\n    })], [], []),\n    provisional_create_canister_with_cycles: e.Func([e.Record({\n      settings: e.Opt(i),\n      amount: e.Opt(e.Nat)\n    })], [e.Record({\n      canister_id: t\n    })], []),\n    provisional_top_up_canister: e.Func([e.Record({\n      canister_id: t,\n      amount: e.Nat\n    })], [], []),\n    raw_rand: e.Func([], [e.Vec(e.Nat8)], []),\n    start_canister: e.Func([e.Record({\n      canister_id: t\n    })], [], []),\n    stop_canister: e.Func([e.Record({\n      canister_id: t\n    })], [], []),\n    uninstall_code: e.Func([e.Record({\n      canister_id: t\n    })], [], []),\n    update_settings: e.Func([e.Record({\n      canister_id: e.Principal,\n      settings: i\n    })], [], [])\n  });\n};\nvar wr = /*#__PURE__*/function (_Ke3) {\n    _inherits(wr, _Ke3);\n    var _super5 = _createSuper(wr);\n    function wr(t, r, i, a) {\n      var _this10;\n      _classCallCheck(this, wr);\n      _this10 = _super5.call(this, [\"Call failed:\", \"  Canister: \".concat(t.toText()), \"  Method: \".concat(r, \" (\").concat(i, \")\")].concat(_toConsumableArray(Object.getOwnPropertyNames(a).map(function (u) {\n        return \"  \\\"\".concat(u, \"\\\": \").concat(JSON.stringify(a[u]));\n      }))).join(\"\\n\")), _this10.canisterId = t, _this10.methodName = r, _this10.type = i, _this10.props = a;\n      return _this10;\n    }\n    return _createClass(wr);\n  }(Ke),\n  Dr = /*#__PURE__*/function (_wr) {\n    _inherits(Dr, _wr);\n    var _super6 = _createSuper(Dr);\n    function Dr(t, r, i) {\n      var _this11;\n      _classCallCheck(this, Dr);\n      var a;\n      _this11 = _super6.call(this, t, r, \"query\", {\n        Status: i.status,\n        Code: (a = pr[i.reject_code]) !== null && a !== void 0 ? a : \"Unknown Code \\\"\".concat(i.reject_code, \"\\\"\"),\n        Message: i.reject_message\n      }), _this11.result = i;\n      return _this11;\n    }\n    return _createClass(Dr);\n  }(wr),\n  Lr = /*#__PURE__*/function (_wr2) {\n    _inherits(Lr, _wr2);\n    var _super7 = _createSuper(Lr);\n    function Lr(t, r, i, a) {\n      var _this12;\n      _classCallCheck(this, Lr);\n      _this12 = _super7.call(this, t, r, \"update\", {\n        \"Request ID\": Xt(i),\n        \"HTTP status code\": a.status.toString(),\n        \"HTTP status text\": a.statusText\n      }), _this12.requestId = i, _this12.response = a;\n      return _this12;\n    }\n    return _createClass(Lr);\n  }(wr),\n  tn;\n(function (e) {\n  e.Install = \"install\", e.Reinstall = \"reinstall\", e.Upgrade = \"upgrade\";\n})(tn || (tn = {}));\nvar Ut = Symbol.for(\"ic-agent-metadata\"),\n  Lt = /*#__PURE__*/function () {\n    function Lt(t) {\n      _classCallCheck(this, Lt);\n      this[Ut] = Object.freeze(t);\n    }\n    _createClass(Lt, null, [{\n      key: \"agentOf\",\n      value: function agentOf(t) {\n        return t[Ut].config.agent;\n      }\n    }, {\n      key: \"interfaceOf\",\n      value: function interfaceOf(t) {\n        return t[Ut].service;\n      }\n    }, {\n      key: \"canisterIdOf\",\n      value: function canisterIdOf(t) {\n        return ot.from(t[Ut].config.canisterId);\n      }\n    }, {\n      key: \"install\",\n      value: function () {\n        var _install = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20(t, r) {\n          var i, a, u, d;\n          return _regeneratorRuntime().wrap(function _callee20$(_context20) {\n            while (1) switch (_context20.prev = _context20.next) {\n              case 0:\n                i = t.mode === void 0 ? tn.Install : t.mode, a = t.arg ? _toConsumableArray(new Uint8Array(t.arg)) : [], u = _toConsumableArray(new Uint8Array(t.module)), d = typeof r.canisterId == \"string\" ? ot.fromText(r.canisterId) : r.canisterId;\n                _context20.next = 3;\n                return wi(r).install_code({\n                  mode: _defineProperty({}, i, null),\n                  arg: a,\n                  wasm_module: u,\n                  canister_id: d\n                });\n              case 3:\n              case \"end\":\n                return _context20.stop();\n            }\n          }, _callee20);\n        }));\n        function install(_x39, _x40) {\n          return _install.apply(this, arguments);\n        }\n        return install;\n      }()\n    }, {\n      key: \"createCanister\",\n      value: function () {\n        var _createCanister = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21(t) {\n          var _yield$wi$provisional, r;\n          return _regeneratorRuntime().wrap(function _callee21$(_context21) {\n            while (1) switch (_context21.prev = _context21.next) {\n              case 0:\n                _context21.next = 2;\n                return wi(t || {}).provisional_create_canister_with_cycles({\n                  amount: [],\n                  settings: []\n                });\n              case 2:\n                _yield$wi$provisional = _context21.sent;\n                r = _yield$wi$provisional.canister_id;\n                return _context21.abrupt(\"return\", r);\n              case 5:\n              case \"end\":\n                return _context21.stop();\n            }\n          }, _callee21);\n        }));\n        function createCanister(_x41) {\n          return _createCanister.apply(this, arguments);\n        }\n        return createCanister;\n      }()\n    }, {\n      key: \"createAndInstallCanister\",\n      value: function () {\n        var _createAndInstallCanister = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22(t, r, i) {\n          var a;\n          return _regeneratorRuntime().wrap(function _callee22$(_context22) {\n            while (1) switch (_context22.prev = _context22.next) {\n              case 0:\n                _context22.next = 2;\n                return this.createCanister(i);\n              case 2:\n                a = _context22.sent;\n                _context22.next = 5;\n                return this.install(Object.assign({}, r), Object.assign(Object.assign({}, i), {\n                  canisterId: a\n                }));\n              case 5:\n                return _context22.abrupt(\"return\", this.createActor(t, Object.assign(Object.assign({}, i), {\n                  canisterId: a\n                })));\n              case 6:\n              case \"end\":\n                return _context22.stop();\n            }\n          }, _callee22, this);\n        }));\n        function createAndInstallCanister(_x42, _x43, _x44) {\n          return _createAndInstallCanister.apply(this, arguments);\n        }\n        return createAndInstallCanister;\n      }()\n    }, {\n      key: \"createActorClass\",\n      value: function createActorClass(t) {\n        var r = t({\n          IDL: Me\n        });\n        var i = /*#__PURE__*/function (_Lt) {\n          _inherits(i, _Lt);\n          var _super8 = _createSuper(i);\n          function i(u) {\n            var _this13;\n            _classCallCheck(this, i);\n            var d = typeof u.canisterId == \"string\" ? ot.fromText(u.canisterId) : u.canisterId;\n            _this13 = _super8.call(this, {\n              config: Object.assign(Object.assign(Object.assign({}, _i), u), {\n                canisterId: d\n              }),\n              service: r\n            });\n            var _iterator3 = _createForOfIteratorHelper(r._fields),\n              _step3;\n            try {\n              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                var _step3$value = _slicedToArray(_step3.value, 2),\n                  m = _step3$value[0],\n                  w = _step3$value[1];\n                _this13[m] = ca(_assertThisInitialized(_this13), m, w, u.blsVerify);\n              }\n            } catch (err) {\n              _iterator3.e(err);\n            } finally {\n              _iterator3.f();\n            }\n            return _this13;\n          }\n          return _createClass(i);\n        }(Lt);\n        return i;\n      }\n    }, {\n      key: \"createActor\",\n      value: function createActor(t, r) {\n        return new (this.createActorClass(t))(r);\n      }\n    }]);\n    return Lt;\n  }();\nfunction mi(e, t) {\n  var r = Me.decode(e, gi.Buffer.from(t));\n  switch (r.length) {\n    case 0:\n      return;\n    case 1:\n      return r[0];\n    default:\n      return r;\n  }\n}\nvar _i = {\n  pollingStrategyFactory: mr.defaultStrategy\n};\nfunction ca(e, t, r, i) {\n  var a;\n  r.annotations.includes(\"query\") ? a = /*#__PURE__*/function () {\n    var _ref18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23(d) {\n      var w,\n        A,\n        _len2,\n        m,\n        _key2,\n        P,\n        O,\n        Z,\n        it,\n        _args23 = arguments;\n      return _regeneratorRuntime().wrap(function _callee23$(_context23) {\n        while (1) switch (_context23.prev = _context23.next) {\n          case 0:\n            for (_len2 = _args23.length, m = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n              m[_key2 - 1] = _args23[_key2];\n            }\n            d = Object.assign(Object.assign({}, d), (A = (w = e[Ut].config).queryTransform) === null || A === void 0 ? void 0 : A.call(w, t, m, Object.assign(Object.assign({}, e[Ut].config), d)));\n            P = d.agent || e[Ut].config.agent || Zr();\n            O = ot.from(d.canisterId || e[Ut].config.canisterId);\n            Z = Me.encode(r.argTypes, m);\n            _context23.next = 7;\n            return P.query(O, {\n              methodName: t,\n              arg: Z\n            });\n          case 7:\n            it = _context23.sent;\n            _context23.t0 = it.status;\n            _context23.next = _context23.t0 === \"rejected\" ? 11 : _context23.t0 === \"replied\" ? 12 : 13;\n            break;\n          case 11:\n            throw new Dr(O, t, it);\n          case 12:\n            return _context23.abrupt(\"return\", mi(r.retTypes, it.reply.arg));\n          case 13:\n          case \"end\":\n            return _context23.stop();\n        }\n      }, _callee23);\n    }));\n    return function a(_x45) {\n      return _ref18.apply(this, arguments);\n    };\n  }() : a = /*#__PURE__*/function () {\n    var _ref19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24(d) {\n      var w,\n        A,\n        _len3,\n        m,\n        _key3,\n        P,\n        _Object$assign,\n        O,\n        Z,\n        it,\n        st,\n        xt,\n        Tt,\n        _yield$P$call,\n        dt,\n        Bt,\n        Mt,\n        Nt,\n        _args24 = arguments;\n      return _regeneratorRuntime().wrap(function _callee24$(_context24) {\n        while (1) switch (_context24.prev = _context24.next) {\n          case 0:\n            for (_len3 = _args24.length, m = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n              m[_key3 - 1] = _args24[_key3];\n            }\n            d = Object.assign(Object.assign({}, d), (A = (w = e[Ut].config).callTransform) === null || A === void 0 ? void 0 : A.call(w, t, m, Object.assign(Object.assign({}, e[Ut].config), d)));\n            P = d.agent || e[Ut].config.agent || Zr();\n            _Object$assign = Object.assign(Object.assign(Object.assign({}, _i), e[Ut].config), d);\n            O = _Object$assign.canisterId;\n            Z = _Object$assign.effectiveCanisterId;\n            it = _Object$assign.pollingStrategyFactory;\n            st = ot.from(O);\n            xt = Z !== void 0 ? ot.from(Z) : st;\n            Tt = Me.encode(r.argTypes, m);\n            _context24.next = 12;\n            return P.call(st, {\n              methodName: t,\n              arg: Tt,\n              effectiveCanisterId: xt\n            });\n          case 12:\n            _yield$P$call = _context24.sent;\n            dt = _yield$P$call.requestId;\n            Bt = _yield$P$call.response;\n            if (Bt.ok) {\n              _context24.next = 17;\n              break;\n            }\n            throw new Lr(st, t, dt, Bt);\n          case 17:\n            Mt = it();\n            _context24.next = 20;\n            return Qr(P, xt, dt, Mt, i);\n          case 20:\n            Nt = _context24.sent;\n            if (!(Nt !== void 0)) {\n              _context24.next = 23;\n              break;\n            }\n            return _context24.abrupt(\"return\", mi(r.retTypes, Nt));\n          case 23:\n            if (!(r.retTypes.length === 0)) {\n              _context24.next = 25;\n              break;\n            }\n            return _context24.abrupt(\"return\");\n          case 25:\n            throw new Error(\"Call was returned undefined, but type [\".concat(r.retTypes.join(\",\"), \"].\"));\n          case 26:\n          case \"end\":\n            return _context24.stop();\n        }\n      }, _callee24);\n    }));\n    return function a(_x46) {\n      return _ref19.apply(this, arguments);\n    };\n  }();\n  var u = function u() {\n    for (var _len4 = arguments.length, d = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      d[_key4] = arguments[_key4];\n    }\n    return a.apply(void 0, [{}].concat(d));\n  };\n  return u.withOptions = function (d) {\n    return function () {\n      for (var _len5 = arguments.length, m = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        m[_key5] = arguments[_key5];\n      }\n      return a.apply(void 0, [d].concat(m));\n    };\n  }, u;\n}\nfunction wi(e) {\n  function t(r, i, a) {\n    var u = i[0],\n      d = ot.fromHex(\"\");\n    return u && typeof u == \"object\" && u.canister_id && (d = ot.from(u.canister_id)), {\n      effectiveCanisterId: d\n    };\n  }\n  return Lt.createActor(yi, Object.assign(Object.assign(Object.assign({}, e), {\n    canisterId: ot.fromHex(\"\")\n  }), {\n    callTransform: t,\n    queryTransform: t\n  }));\n}\nvar qe = we(en());\nfunction Te(e) {\n  var t;\n  return new Uint8Array(((t = e.match(/.{1,2}/g)) !== null && t !== void 0 ? t : []).map(function (r) {\n    return parseInt(r, 16);\n  })).buffer;\n}\nfunction te(e) {\n  return new Uint8Array(e).reduce(function (t, r) {\n    return t + r.toString(16).padStart(2, \"0\");\n  }, \"\");\n}\nvar da = function da(e, t) {\n    if (e.byteLength !== t.byteLength) return !1;\n    var r = new Uint8Array(e),\n      i = new Uint8Array(t);\n    for (var a = 0; a < r.length; a++) if (r[a] !== i[a]) return !1;\n    return !0;\n  },\n  Ai = function Ai(e) {\n    if (e <= 127) return 1;\n    if (e <= 255) return 2;\n    if (e <= 65535) return 3;\n    if (e <= 16777215) return 4;\n    throw new Error(\"Length too long (> 4 bytes)\");\n  },\n  Ti = function Ti(e, t, r) {\n    if (r <= 127) return e[t] = r, 1;\n    if (r <= 255) return e[t] = 129, e[t + 1] = r, 2;\n    if (r <= 65535) return e[t] = 130, e[t + 1] = r >> 8, e[t + 2] = r, 3;\n    if (r <= 16777215) return e[t] = 131, e[t + 1] = r >> 16, e[t + 2] = r >> 8, e[t + 3] = r, 4;\n    throw new Error(\"Length too long (> 4 bytes)\");\n  },\n  rn = function rn(e, t) {\n    if (e[t] < 128) return 1;\n    if (e[t] === 128) throw new Error(\"Invalid length 0\");\n    if (e[t] === 129) return 2;\n    if (e[t] === 130) return 3;\n    if (e[t] === 131) return 4;\n    throw new Error(\"Length too long (> 4 bytes)\");\n  },\n  ha = function ha(e, t) {\n    var r = rn(e, t);\n    if (r === 1) return e[t];\n    if (r === 2) return e[t + 1];\n    if (r === 3) return (e[t + 1] << 8) + e[t + 2];\n    if (r === 4) return (e[t + 1] << 16) + (e[t + 2] << 8) + e[t + 3];\n    throw new Error(\"Length too long (> 4 bytes)\");\n  },\n  Si = Uint8Array.from([48, 12, 6, 10, 43, 6, 1, 4, 1, 131, 184, 67, 1, 1]),\n  br = Uint8Array.from([48, 5, 6, 3, 43, 101, 112]),\n  vf = Uint8Array.from([48, 16, 6, 7, 42, 134, 72, 206, 61, 2, 1, 6, 5, 43, 129, 4, 0, 10]);\nfunction vr(e, t) {\n  var r = 2 + Ai(e.byteLength + 1),\n    i = t.byteLength + r + e.byteLength,\n    a = 0,\n    u = new Uint8Array(1 + Ai(i) + i);\n  return u[a++] = 48, a += Ti(u, a, i), u.set(t, a), a += t.byteLength, u[a++] = 3, a += Ti(u, a, e.byteLength + 1), u[a++] = 0, u.set(new Uint8Array(e), a), u;\n}\nvar nn = function nn(e, t) {\n  var r = 0,\n    i = function i(m, w) {\n      if (a[r++] !== m) throw new Error(\"Expected: \" + w);\n    },\n    a = new Uint8Array(e);\n  if (i(48, \"sequence\"), r += rn(a, r), !da(a.slice(r, r + t.byteLength), t)) throw new Error(\"Not the expected OID.\");\n  r += t.byteLength, i(3, \"bit string\");\n  var u = ha(a, r) - 1;\n  r += rn(a, r), i(0, \"0 padding\");\n  var d = a.slice(r);\n  if (u !== d.length) throw new Error(\"DER payload mismatch: Expected length \".concat(u, \" actual length \").concat(d.length));\n  return d;\n};\nvar Rt = /*#__PURE__*/function () {\n  function Rt(t) {\n    _classCallCheck(this, Rt);\n    this.rawKey = t, this.derKey = Rt.derEncode(t);\n  }\n  _createClass(Rt, [{\n    key: \"toDer\",\n    value: function toDer() {\n      return this.derKey;\n    }\n  }, {\n    key: \"toRaw\",\n    value: function toRaw() {\n      return this.rawKey;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(t) {\n      return this.fromDer(t.toDer());\n    }\n  }, {\n    key: \"fromRaw\",\n    value: function fromRaw(t) {\n      return new Rt(t);\n    }\n  }, {\n    key: \"fromDer\",\n    value: function fromDer(t) {\n      return new Rt(this.derDecode(t));\n    }\n  }, {\n    key: \"derEncode\",\n    value: function derEncode(t) {\n      return vr(t, br).buffer;\n    }\n  }, {\n    key: \"derDecode\",\n    value: function derDecode(t) {\n      var r = nn(t, br);\n      if (r.length !== this.RAW_KEY_LENGTH) throw new Error(\"An Ed25519 public key must be exactly 32bytes long\");\n      return r;\n    }\n  }]);\n  return Rt;\n}();\nRt.RAW_KEY_LENGTH = 32;\nvar kt = /*#__PURE__*/function (_Qt) {\n  _inherits(kt, _Qt);\n  var _super9 = _createSuper(kt);\n  function kt(t, r) {\n    var _this14;\n    _classCallCheck(this, kt);\n    _this14 = _super9.call(this), _this14._privateKey = r, _this14._publicKey = Rt.from(t);\n    return _this14;\n  }\n  _createClass(kt, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return [te(this._publicKey.toDer()), te(this._privateKey)];\n    }\n  }, {\n    key: \"getKeyPair\",\n    value: function getKeyPair() {\n      return {\n        secretKey: this._privateKey,\n        publicKey: this._publicKey\n      };\n    }\n  }, {\n    key: \"getPublicKey\",\n    value: function getPublicKey() {\n      return this._publicKey;\n    }\n  }, {\n    key: \"sign\",\n    value: function () {\n      var _sign = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25(t) {\n        var r;\n        return _regeneratorRuntime().wrap(function _callee25$(_context25) {\n          while (1) switch (_context25.prev = _context25.next) {\n            case 0:\n              r = new Uint8Array(t);\n              return _context25.abrupt(\"return\", qe.sign.detached(r, new Uint8Array(this._privateKey)).buffer);\n            case 2:\n            case \"end\":\n              return _context25.stop();\n          }\n        }, _callee25, this);\n      }));\n      function sign(_x47) {\n        return _sign.apply(this, arguments);\n      }\n      return sign;\n    }()\n  }], [{\n    key: \"generate\",\n    value: function generate(t) {\n      if (t && t.length !== 32) throw new Error(\"Ed25519 Seed needs to be 32 bytes long.\");\n      var _ref20 = t === void 0 ? qe.sign.keyPair() : qe.sign.keyPair.fromSeed(t),\n        r = _ref20.publicKey,\n        i = _ref20.secretKey;\n      return new this(Rt.fromRaw(r), i);\n    }\n  }, {\n    key: \"fromParsedJson\",\n    value: function fromParsedJson(t) {\n      var _t4 = _slicedToArray(t, 2),\n        r = _t4[0],\n        i = _t4[1];\n      return new kt(Rt.fromDer(Te(r)), Te(i));\n    }\n  }, {\n    key: \"fromJSON\",\n    value: function fromJSON(t) {\n      var r = JSON.parse(t);\n      if (Array.isArray(r)) {\n        if (typeof r[0] == \"string\" && typeof r[1] == \"string\") return this.fromParsedJson([r[0], r[1]]);\n        throw new Error(\"Deserialization error: JSON must have at least 2 items.\");\n      }\n      throw new Error(\"Deserialization error: Invalid JSON type for string: \".concat(JSON.stringify(t)));\n    }\n  }, {\n    key: \"fromKeyPair\",\n    value: function fromKeyPair(t, r) {\n      return new kt(Rt.fromRaw(t), r);\n    }\n  }, {\n    key: \"fromSecretKey\",\n    value: function fromSecretKey(t) {\n      var r = qe.sign.keyPair.fromSecretKey(new Uint8Array(t));\n      return kt.fromKeyPair(r.publicKey, r.secretKey);\n    }\n  }]);\n  return kt;\n}(Qt);\nvar He = /*#__PURE__*/function (_Error) {\n  _inherits(He, _Error);\n  var _super10 = _createSuper(He);\n  function He(t) {\n    var _this15;\n    _classCallCheck(this, He);\n    _this15 = _super10.call(this, t), _this15.message = t, Object.setPrototypeOf(_assertThisInitialized(_this15), He.prototype);\n    return _this15;\n  }\n  return _createClass(He);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nfunction Oi(e) {\n  if (e) return e;\n  if (typeof crypto < \"u\" && crypto.subtle) return crypto.subtle;\n  throw new He(\"Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto\");\n}\nvar de = /*#__PURE__*/function (_Qt2) {\n  _inherits(de, _Qt2);\n  var _super11 = _createSuper(de);\n  function de(t, r, i) {\n    var _this16;\n    _classCallCheck(this, de);\n    _this16 = _super11.call(this), _this16._keyPair = t, _this16._derKey = r, _this16._subtleCrypto = i;\n    return _this16;\n  }\n  _createClass(de, [{\n    key: \"getKeyPair\",\n    value: function getKeyPair() {\n      return this._keyPair;\n    }\n  }, {\n    key: \"getPublicKey\",\n    value: function getPublicKey() {\n      var t = this._derKey,\n        r = Object.create(this._keyPair.publicKey);\n      return r.toDer = function () {\n        return t;\n      }, r;\n    }\n  }, {\n    key: \"sign\",\n    value: function () {\n      var _sign2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26(t) {\n        var r;\n        return _regeneratorRuntime().wrap(function _callee26$(_context26) {\n          while (1) switch (_context26.prev = _context26.next) {\n            case 0:\n              r = {\n                name: \"ECDSA\",\n                hash: {\n                  name: \"SHA-256\"\n                }\n              };\n              this._keyPair.privateKey;\n              _context26.next = 4;\n              return this._subtleCrypto.sign(r, this._keyPair.privateKey, t);\n            case 4:\n              return _context26.abrupt(\"return\", _context26.sent);\n            case 5:\n            case \"end\":\n              return _context26.stop();\n          }\n        }, _callee26, this);\n      }));\n      function sign(_x48) {\n        return _sign2.apply(this, arguments);\n      }\n      return sign;\n    }()\n  }], [{\n    key: \"generate\",\n    value: function () {\n      var _generate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee27(t) {\n        var _ref21, _ref21$extractable, r, _ref21$keyUsages, i, a, u, d, m;\n        return _regeneratorRuntime().wrap(function _callee27$(_context27) {\n          while (1) switch (_context27.prev = _context27.next) {\n            case 0:\n              _ref21 = t !== null && t !== void 0 ? t : {};\n              _ref21$extractable = _ref21.extractable;\n              r = _ref21$extractable === void 0 ? !1 : _ref21$extractable;\n              _ref21$keyUsages = _ref21.keyUsages;\n              i = _ref21$keyUsages === void 0 ? [\"sign\", \"verify\"] : _ref21$keyUsages;\n              a = _ref21.subtleCrypto;\n              u = Oi(a);\n              _context27.next = 9;\n              return u.generateKey({\n                name: \"ECDSA\",\n                namedCurve: \"P-256\"\n              }, r, i);\n            case 9:\n              d = _context27.sent;\n              _context27.next = 12;\n              return u.exportKey(\"spki\", d.publicKey);\n            case 12:\n              m = _context27.sent;\n              return _context27.abrupt(\"return\", new this(d, m, u));\n            case 14:\n            case \"end\":\n              return _context27.stop();\n          }\n        }, _callee27, this);\n      }));\n      function generate(_x49) {\n        return _generate.apply(this, arguments);\n      }\n      return generate;\n    }()\n  }, {\n    key: \"fromKeyPair\",\n    value: function () {\n      var _fromKeyPair = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee28(t, r) {\n        var i, a;\n        return _regeneratorRuntime().wrap(function _callee28$(_context28) {\n          while (1) switch (_context28.prev = _context28.next) {\n            case 0:\n              i = Oi(r);\n              _context28.next = 3;\n              return i.exportKey(\"spki\", t.publicKey);\n            case 3:\n              a = _context28.sent;\n              return _context28.abrupt(\"return\", new de(t, a, i));\n            case 5:\n            case \"end\":\n              return _context28.stop();\n          }\n        }, _callee28);\n      }));\n      function fromKeyPair(_x50, _x51) {\n        return _fromKeyPair.apply(this, arguments);\n      }\n      return fromKeyPair;\n    }()\n  }]);\n  return de;\n}(Qt);\nvar Se = we(kn());\nvar pa = function pa(e, t) {\n    var r = {};\n    for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (r[i] = e[i]);\n    if (e != null && typeof Object.getOwnPropertySymbols == \"function\") for (var a = 0, i = Object.getOwnPropertySymbols(e); a < i.length; a++) t.indexOf(i[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[a]) && (r[i[a]] = e[i[a]]);\n    return r;\n  },\n  xa = new TextEncoder().encode(\"\u001aic-request-auth-delegation\"),\n  ya = new TextEncoder().encode(\"\\nic-request\");\nfunction on(e) {\n  if (typeof e != \"string\" || e.length < 64) throw new Error(\"Invalid public key.\");\n  return Te(e);\n}\nvar Oe = /*#__PURE__*/function () {\n  function Oe(t, r, i) {\n    _classCallCheck(this, Oe);\n    this.pubkey = t, this.expiration = r, this.targets = i;\n  }\n  _createClass(Oe, [{\n    key: \"toCBOR\",\n    value: function toCBOR() {\n      return Se.value.map(Object.assign({\n        pubkey: Se.value.bytes(this.pubkey),\n        expiration: Se.value.u64(this.expiration.toString(16), 16)\n      }, this.targets && {\n        targets: Se.value.array(this.targets.map(function (t) {\n          return Se.value.bytes(t.toUint8Array());\n        }))\n      }));\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return Object.assign({\n        expiration: this.expiration.toString(16),\n        pubkey: te(this.pubkey)\n      }, this.targets && {\n        targets: this.targets.map(function (t) {\n          return t.toHex();\n        })\n      });\n    }\n  }]);\n  return Oe;\n}();\nfunction ma(_x52, _x53, _x54, _x55) {\n  return _ma.apply(this, arguments);\n}\nfunction _ma() {\n  _ma = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee80(e, t, r, i) {\n    var a, u, d;\n    return _regeneratorRuntime().wrap(function _callee80$(_context80) {\n      while (1) switch (_context80.prev = _context80.next) {\n        case 0:\n          a = new Oe(t.toDer(), BigInt(+r) * BigInt(1e6), i);\n          u = new Uint8Array([].concat(_toConsumableArray(xa), _toConsumableArray(new Uint8Array(ae(a)))));\n          _context80.next = 4;\n          return e.sign(u);\n        case 4:\n          d = _context80.sent;\n          return _context80.abrupt(\"return\", {\n            delegation: a,\n            signature: d\n          });\n        case 6:\n        case \"end\":\n          return _context80.stop();\n      }\n    }, _callee80);\n  }));\n  return _ma.apply(this, arguments);\n}\nvar he = /*#__PURE__*/function () {\n    function he(t, r) {\n      _classCallCheck(this, he);\n      this.delegations = t, this.publicKey = r;\n    }\n    _createClass(he, [{\n      key: \"toJSON\",\n      value: function toJSON() {\n        return {\n          delegations: this.delegations.map(function (t) {\n            var r = t.delegation,\n              i = t.signature,\n              a = r.targets;\n            return {\n              delegation: Object.assign({\n                expiration: r.expiration.toString(16),\n                pubkey: te(r.pubkey)\n              }, a && {\n                targets: a.map(function (u) {\n                  return u.toHex();\n                })\n              }),\n              signature: te(i)\n            };\n          }),\n          publicKey: te(this.publicKey)\n        };\n      }\n    }], [{\n      key: \"create\",\n      value: function () {\n        var _create = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee29(t, r) {\n          var i,\n            a,\n            u,\n            d,\n            m,\n            _args29 = arguments;\n          return _regeneratorRuntime().wrap(function _callee29$(_context29) {\n            while (1) switch (_context29.prev = _context29.next) {\n              case 0:\n                i = _args29.length > 2 && _args29[2] !== undefined ? _args29[2] : new Date(Date.now() + 15 * 60 * 1e3);\n                a = _args29.length > 3 && _args29[3] !== undefined ? _args29[3] : {};\n                _context29.next = 4;\n                return ma(t, r, i, a.targets);\n              case 4:\n                m = _context29.sent;\n                return _context29.abrupt(\"return\", new he([].concat(_toConsumableArray(((u = a.previous) === null || u === void 0 ? void 0 : u.delegations) || []), [m]), ((d = a.previous) === null || d === void 0 ? void 0 : d.publicKey) || t.getPublicKey().toDer()));\n              case 6:\n              case \"end\":\n                return _context29.stop();\n            }\n          }, _callee29);\n        }));\n        function create(_x56, _x57) {\n          return _create.apply(this, arguments);\n        }\n        return create;\n      }()\n    }, {\n      key: \"fromJSON\",\n      value: function fromJSON(t) {\n        var _ref22 = typeof t == \"string\" ? JSON.parse(t) : t,\n          r = _ref22.publicKey,\n          i = _ref22.delegations;\n        if (!Array.isArray(i)) throw new Error(\"Invalid delegations.\");\n        var a = i.map(function (u) {\n          var d = u.delegation,\n            m = u.signature,\n            w = d.pubkey,\n            A = d.expiration,\n            P = d.targets;\n          if (P !== void 0 && !Array.isArray(P)) throw new Error(\"Invalid targets.\");\n          return {\n            delegation: new Oe(on(w), BigInt(\"0x\".concat(A)), P && P.map(function (O) {\n              if (typeof O != \"string\") throw new Error(\"Invalid target.\");\n              return ot.fromHex(O);\n            })),\n            signature: on(m)\n          };\n        });\n        return new this(a, on(r));\n      }\n    }, {\n      key: \"fromDelegations\",\n      value: function fromDelegations(t, r) {\n        return new this(t, r);\n      }\n    }]);\n    return he;\n  }(),\n  $e = /*#__PURE__*/function (_Qt3) {\n    _inherits($e, _Qt3);\n    var _super12 = _createSuper($e);\n    function $e(t, r) {\n      var _this17;\n      _classCallCheck(this, $e);\n      _this17 = _super12.call(this), _this17._inner = t, _this17._delegation = r;\n      return _this17;\n    }\n    _createClass($e, [{\n      key: \"getDelegation\",\n      value: function getDelegation() {\n        return this._delegation;\n      }\n    }, {\n      key: \"getPublicKey\",\n      value: function getPublicKey() {\n        var _this18 = this;\n        return {\n          toDer: function toDer() {\n            return _this18._delegation.publicKey;\n          }\n        };\n      }\n    }, {\n      key: \"sign\",\n      value: function sign(t) {\n        return this._inner.sign(t);\n      }\n    }, {\n      key: \"transformRequest\",\n      value: function () {\n        var _transformRequest3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee30(t) {\n          var r, i, a;\n          return _regeneratorRuntime().wrap(function _callee30$(_context30) {\n            while (1) switch (_context30.prev = _context30.next) {\n              case 0:\n                r = t.body;\n                i = pa(t, [\"body\"]);\n                _context30.next = 4;\n                return ae(r);\n              case 4:\n                a = _context30.sent;\n                _context30.t0 = Object;\n                _context30.t1 = Object.assign({}, i);\n                _context30.t2 = r;\n                _context30.next = 10;\n                return this.sign(new Uint8Array([].concat(_toConsumableArray(ya), _toConsumableArray(new Uint8Array(a)))));\n              case 10:\n                _context30.t3 = _context30.sent;\n                _context30.t4 = this._delegation.delegations;\n                _context30.t5 = this._delegation.publicKey;\n                _context30.t6 = {\n                  content: _context30.t2,\n                  sender_sig: _context30.t3,\n                  sender_delegation: _context30.t4,\n                  sender_pubkey: _context30.t5\n                };\n                _context30.t7 = {\n                  body: _context30.t6\n                };\n                return _context30.abrupt(\"return\", _context30.t0.assign.call(_context30.t0, _context30.t1, _context30.t7));\n              case 16:\n              case \"end\":\n                return _context30.stop();\n            }\n          }, _callee30, this);\n        }));\n        function transformRequest(_x58) {\n          return _transformRequest3.apply(this, arguments);\n        }\n        return transformRequest;\n      }()\n    }], [{\n      key: \"fromDelegation\",\n      value: function fromDelegation(t, r) {\n        return new this(t, r);\n      }\n    }]);\n    return $e;\n  }(Qt);\nfunction Ui(e, t) {\n  var _iterator4 = _createForOfIteratorHelper(e.delegations),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var _a2 = _step4.value.delegation;\n      if (+new Date(Number(_a2.expiration / BigInt(1e6))) <= +Date.now()) return !1;\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  var r = [],\n    i = t === null || t === void 0 ? void 0 : t.scope;\n  i && (Array.isArray(i) ? r.push.apply(r, _toConsumableArray(i.map(function (a) {\n    return typeof a == \"string\" ? ot.fromText(a) : a;\n  }))) : r.push(typeof i == \"string\" ? ot.fromText(i) : i));\n  for (var _i3 = 0, _r3 = r; _i3 < _r3.length; _i3++) {\n    var a = _r3[_i3];\n    var u = a.toText();\n    var _iterator5 = _createForOfIteratorHelper(e.delegations),\n      _step5;\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var d = _step5.value.delegation;\n        if (d.targets === void 0) continue;\n        var _m = !0;\n        var _iterator6 = _createForOfIteratorHelper(d.targets),\n          _step6;\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var w = _step6.value;\n            if (w.toText() === u) {\n              _m = !1;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n        if (_m) return !1;\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n  }\n  return !0;\n}\nvar wa = we(po()),\n  ga = we(en());\nvar Ri;\n(function (e) {\n  e[e.ECDSA_WITH_SHA256 = -7] = \"ECDSA_WITH_SHA256\";\n})(Ri || (Ri = {}));\nvar Bi = [\"mousedown\", \"mousemove\", \"keydown\", \"touchstart\", \"wheel\"],\n  We = /*#__PURE__*/function () {\n    function We() {\n      var _this19 = this;\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, We);\n      var r;\n      this.callbacks = [], this.idleTimeout = 10 * 60 * 1e3, this.timeoutID = void 0;\n      var _ref23 = t || {},\n        i = _ref23.onIdle,\n        _ref23$idleTimeout = _ref23.idleTimeout,\n        a = _ref23$idleTimeout === void 0 ? 10 * 60 * 1e3 : _ref23$idleTimeout;\n      this.callbacks = i ? [i] : [], this.idleTimeout = a;\n      var u = this._resetTimer.bind(this);\n      window.addEventListener(\"load\", u, !0), Bi.forEach(function (m) {\n        document.addEventListener(m, u, !0);\n      });\n      var d = function d(m, w) {\n        var A;\n        return function () {\n          for (var _len6 = arguments.length, P = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n            P[_key6] = arguments[_key6];\n          }\n          var O = _this19,\n            Z = function Z() {\n              A = void 0, m.apply(O, P);\n            };\n          clearTimeout(A), A = window.setTimeout(Z, w);\n        };\n      };\n      if (t !== null && t !== void 0 && t.captureScroll) {\n        var _m2 = d(u, (r = t === null || t === void 0 ? void 0 : t.scrollDebounce) !== null && r !== void 0 ? r : 100);\n        window.addEventListener(\"scroll\", _m2, !0);\n      }\n      u();\n    }\n    _createClass(We, [{\n      key: \"registerCallback\",\n      value: function registerCallback(t) {\n        this.callbacks.push(t);\n      }\n    }, {\n      key: \"exit\",\n      value: function exit() {\n        clearTimeout(this.timeoutID), window.removeEventListener(\"load\", this._resetTimer, !0);\n        var t = this._resetTimer.bind(this);\n        Bi.forEach(function (r) {\n          document.removeEventListener(r, t, !0);\n        }), this.callbacks.forEach(function (r) {\n          return r();\n        });\n      }\n    }, {\n      key: \"_resetTimer\",\n      value: function _resetTimer() {\n        var t = this.exit.bind(this);\n        window.clearTimeout(this.timeoutID), this.timeoutID = window.setTimeout(t, this.idleTimeout);\n      }\n    }], [{\n      key: \"create\",\n      value: function create() {\n        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return new this(t);\n      }\n    }]);\n    return We;\n  }();\nvar _a = function _a(e, t) {\n    return t.some(function (r) {\n      return e instanceof r;\n    });\n  },\n  Ni,\n  Pi;\nfunction ba() {\n  return Ni || (Ni = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction]);\n}\nfunction va() {\n  return Pi || (Pi = [IDBCursor.prototype.advance, IDBCursor.prototype.continue, IDBCursor.prototype.continuePrimaryKey]);\n}\nvar Ci = new WeakMap(),\n  sn = new WeakMap(),\n  Fi = new WeakMap(),\n  an = new WeakMap(),\n  cn = new WeakMap();\nfunction Ea(e) {\n  var t = new Promise(function (r, i) {\n    var a = function a() {\n        e.removeEventListener(\"success\", u), e.removeEventListener(\"error\", d);\n      },\n      u = function u() {\n        r(Wt(e.result)), a();\n      },\n      d = function d() {\n        i(e.error), a();\n      };\n    e.addEventListener(\"success\", u), e.addEventListener(\"error\", d);\n  });\n  return t.then(function (r) {\n    r instanceof IDBCursor && Ci.set(r, e);\n  }).catch(function () {}), cn.set(t, e), t;\n}\nfunction Aa(e) {\n  if (sn.has(e)) return;\n  var t = new Promise(function (r, i) {\n    var a = function a() {\n        e.removeEventListener(\"complete\", u), e.removeEventListener(\"error\", d), e.removeEventListener(\"abort\", d);\n      },\n      u = function u() {\n        r(), a();\n      },\n      d = function d() {\n        i(e.error || new DOMException(\"AbortError\", \"AbortError\")), a();\n      };\n    e.addEventListener(\"complete\", u), e.addEventListener(\"error\", d), e.addEventListener(\"abort\", d);\n  });\n  sn.set(e, t);\n}\nvar fn = {\n  get: function get(e, t, r) {\n    if (e instanceof IDBTransaction) {\n      if (t === \"done\") return sn.get(e);\n      if (t === \"objectStoreNames\") return e.objectStoreNames || Fi.get(e);\n      if (t === \"store\") return r.objectStoreNames[1] ? void 0 : r.objectStore(r.objectStoreNames[0]);\n    }\n    return Wt(e[t]);\n  },\n  set: function set(e, t, r) {\n    return e[t] = r, !0;\n  },\n  has: function has(e, t) {\n    return e instanceof IDBTransaction && (t === \"done\" || t === \"store\") ? !0 : t in e;\n  }\n};\nfunction ki(e) {\n  fn = e(fn);\n}\nfunction Ta(e) {\n  return e === IDBDatabase.prototype.transaction && !(\"objectStoreNames\" in IDBTransaction.prototype) ? function (t) {\n    for (var _len7 = arguments.length, r = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {\n      r[_key7 - 1] = arguments[_key7];\n    }\n    var i = e.call.apply(e, [Er(this), t].concat(r));\n    return Fi.set(i, t.sort ? t.sort() : [t]), Wt(i);\n  } : va().includes(e) ? function () {\n    for (var _len8 = arguments.length, t = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      t[_key8] = arguments[_key8];\n    }\n    return e.apply(Er(this), t), Wt(Ci.get(this));\n  } : function () {\n    for (var _len9 = arguments.length, t = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n      t[_key9] = arguments[_key9];\n    }\n    return Wt(e.apply(Er(this), t));\n  };\n}\nfunction Sa(e) {\n  return typeof e == \"function\" ? Ta(e) : (e instanceof IDBTransaction && Aa(e), _a(e, ba()) ? new Proxy(e, fn) : e);\n}\nfunction Wt(e) {\n  if (e instanceof IDBRequest) return Ea(e);\n  if (an.has(e)) return an.get(e);\n  var t = Sa(e);\n  return t !== e && (an.set(e, t), cn.set(t, e)), t;\n}\nvar Er = function Er(e) {\n  return cn.get(e);\n};\nfunction Ki(e, t) {\n  var _ref24 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    r = _ref24.blocked,\n    i = _ref24.upgrade,\n    a = _ref24.blocking,\n    u = _ref24.terminated;\n  var d = indexedDB.open(e, t),\n    m = Wt(d);\n  return i && d.addEventListener(\"upgradeneeded\", function (w) {\n    i(Wt(d.result), w.oldVersion, w.newVersion, Wt(d.transaction), w);\n  }), r && d.addEventListener(\"blocked\", function (w) {\n    return r(w.oldVersion, w.newVersion, w);\n  }), m.then(function (w) {\n    u && w.addEventListener(\"close\", function () {\n      return u();\n    }), a && w.addEventListener(\"versionchange\", function (A) {\n      return a(A.oldVersion, A.newVersion, A);\n    });\n  }).catch(function () {}), m;\n}\nvar Oa = [\"get\", \"getKey\", \"getAll\", \"getAllKeys\", \"count\"],\n  Ua = [\"put\", \"add\", \"delete\", \"clear\"],\n  un = new Map();\nfunction ji(e, t) {\n  if (!(e instanceof IDBDatabase && !(t in e) && typeof t == \"string\")) return;\n  if (un.get(t)) return un.get(t);\n  var r = t.replace(/FromIndex$/, \"\"),\n    i = t !== r,\n    a = Ua.includes(r);\n  if (!(r in (i ? IDBIndex : IDBObjectStore).prototype) || !(a || Oa.includes(r))) return;\n  var u = /*#__PURE__*/function () {\n    var _ref25 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee31(d) {\n      var _A;\n      var w,\n        A,\n        _len10,\n        m,\n        _key10,\n        _args31 = arguments;\n      return _regeneratorRuntime().wrap(function _callee31$(_context31) {\n        while (1) switch (_context31.prev = _context31.next) {\n          case 0:\n            w = this.transaction(d, a ? \"readwrite\" : \"readonly\"), A = w.store;\n            for (_len10 = _args31.length, m = new Array(_len10 > 1 ? _len10 - 1 : 0), _key10 = 1; _key10 < _len10; _key10++) {\n              m[_key10 - 1] = _args31[_key10];\n            }\n            i && (A = A.index(m.shift()));\n            _context31.next = 5;\n            return Promise.all([(_A = A)[r].apply(_A, m), a && w.done]);\n          case 5:\n            return _context31.abrupt(\"return\", _context31.sent[0]);\n          case 6:\n          case \"end\":\n            return _context31.stop();\n        }\n      }, _callee31, this);\n    }));\n    return function u(_x59) {\n      return _ref25.apply(this, arguments);\n    };\n  }();\n  return un.set(t, u), u;\n}\nki(function (e) {\n  return _objectSpread(_objectSpread({}, e), {}, {\n    get: function get(t, r, i) {\n      return ji(t, r) || e.get(t, r, i);\n    },\n    has: function has(t, r) {\n      return !!ji(t, r) || e.has(t, r);\n    }\n  });\n});\nvar Mi = \"auth-client-db\",\n  Yi = \"ic-keyval\",\n  Ra = /*#__PURE__*/function () {\n    var _ref26 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee32() {\n      var e,\n        t,\n        r,\n        _args32 = arguments;\n      return _regeneratorRuntime().wrap(function _callee32$(_context32) {\n        while (1) switch (_context32.prev = _context32.next) {\n          case 0:\n            e = _args32.length > 0 && _args32[0] !== undefined ? _args32[0] : Mi;\n            t = _args32.length > 1 && _args32[1] !== undefined ? _args32[1] : Yi;\n            r = _args32.length > 2 ? _args32[2] : undefined;\n            Ar && localStorage != null && localStorage.getItem(jt) && (localStorage.removeItem(jt), localStorage.removeItem(Kt));\n            _context32.next = 6;\n            return Ki(e, r, {\n              upgrade: function upgrade(i) {\n                i.objectStoreNames, i.objectStoreNames.contains(t) && i.clear(t), i.createObjectStore(t);\n              }\n            });\n          case 6:\n            return _context32.abrupt(\"return\", _context32.sent);\n          case 7:\n          case \"end\":\n            return _context32.stop();\n        }\n      }, _callee32);\n    }));\n    return function Ra() {\n      return _ref26.apply(this, arguments);\n    };\n  }();\nfunction Ba(_x60, _x61, _x62) {\n  return _Ba.apply(this, arguments);\n}\nfunction _Ba() {\n  _Ba = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee81(e, t, r) {\n    return _regeneratorRuntime().wrap(function _callee81$(_context81) {\n      while (1) switch (_context81.prev = _context81.next) {\n        case 0:\n          _context81.next = 2;\n          return e.get(t, r);\n        case 2:\n          return _context81.abrupt(\"return\", _context81.sent);\n        case 3:\n        case \"end\":\n          return _context81.stop();\n      }\n    }, _callee81);\n  }));\n  return _Ba.apply(this, arguments);\n}\nfunction Na(_x63, _x64, _x65, _x66) {\n  return _Na.apply(this, arguments);\n}\nfunction _Na() {\n  _Na = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee82(e, t, r, i) {\n    return _regeneratorRuntime().wrap(function _callee82$(_context82) {\n      while (1) switch (_context82.prev = _context82.next) {\n        case 0:\n          _context82.next = 2;\n          return e.put(t, i, r);\n        case 2:\n          return _context82.abrupt(\"return\", _context82.sent);\n        case 3:\n        case \"end\":\n          return _context82.stop();\n      }\n    }, _callee82);\n  }));\n  return _Na.apply(this, arguments);\n}\nfunction Pa(_x67, _x68, _x69) {\n  return _Pa.apply(this, arguments);\n}\nfunction _Pa() {\n  _Pa = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee83(e, t, r) {\n    return _regeneratorRuntime().wrap(function _callee83$(_context83) {\n      while (1) switch (_context83.prev = _context83.next) {\n        case 0:\n          _context83.next = 2;\n          return e.delete(t, r);\n        case 2:\n          return _context83.abrupt(\"return\", _context83.sent);\n        case 3:\n        case \"end\":\n          return _context83.stop();\n      }\n    }, _callee83);\n  }));\n  return _Pa.apply(this, arguments);\n}\nvar pe = /*#__PURE__*/function () {\n  function pe(t, r) {\n    _classCallCheck(this, pe);\n    this._db = t, this._storeName = r;\n  }\n  _createClass(pe, [{\n    key: \"set\",\n    value: function () {\n      var _set = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee33(t, r) {\n        return _regeneratorRuntime().wrap(function _callee33$(_context33) {\n          while (1) switch (_context33.prev = _context33.next) {\n            case 0:\n              _context33.next = 2;\n              return Na(this._db, this._storeName, t, r);\n            case 2:\n              return _context33.abrupt(\"return\", _context33.sent);\n            case 3:\n            case \"end\":\n              return _context33.stop();\n          }\n        }, _callee33, this);\n      }));\n      function set(_x70, _x71) {\n        return _set.apply(this, arguments);\n      }\n      return set;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee34(t) {\n        var r;\n        return _regeneratorRuntime().wrap(function _callee34$(_context34) {\n          while (1) switch (_context34.prev = _context34.next) {\n            case 0:\n              _context34.next = 2;\n              return Ba(this._db, this._storeName, t);\n            case 2:\n              _context34.t1 = r = _context34.sent;\n              _context34.t0 = _context34.t1 !== null;\n              if (!_context34.t0) {\n                _context34.next = 6;\n                break;\n              }\n              _context34.t0 = r !== void 0;\n            case 6:\n              if (!_context34.t0) {\n                _context34.next = 10;\n                break;\n              }\n              _context34.t2 = r;\n              _context34.next = 11;\n              break;\n            case 10:\n              _context34.t2 = null;\n            case 11:\n              return _context34.abrupt(\"return\", _context34.t2);\n            case 12:\n            case \"end\":\n              return _context34.stop();\n          }\n        }, _callee34, this);\n      }));\n      function get(_x72) {\n        return _get2.apply(this, arguments);\n      }\n      return get;\n    }()\n  }, {\n    key: \"remove\",\n    value: function () {\n      var _remove = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee35(t) {\n        return _regeneratorRuntime().wrap(function _callee35$(_context35) {\n          while (1) switch (_context35.prev = _context35.next) {\n            case 0:\n              _context35.next = 2;\n              return Pa(this._db, this._storeName, t);\n            case 2:\n              return _context35.abrupt(\"return\", _context35.sent);\n            case 3:\n            case \"end\":\n              return _context35.stop();\n          }\n        }, _callee35, this);\n      }));\n      function remove(_x73) {\n        return _remove.apply(this, arguments);\n      }\n      return remove;\n    }()\n  }], [{\n    key: \"create\",\n    value: function () {\n      var _create2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee36(t) {\n        var _ref27, _ref27$dbName, r, _ref27$storeName, i, _ref27$version, a, u;\n        return _regeneratorRuntime().wrap(function _callee36$(_context36) {\n          while (1) switch (_context36.prev = _context36.next) {\n            case 0:\n              _ref27 = t !== null && t !== void 0 ? t : {};\n              _ref27$dbName = _ref27.dbName;\n              r = _ref27$dbName === void 0 ? Mi : _ref27$dbName;\n              _ref27$storeName = _ref27.storeName;\n              i = _ref27$storeName === void 0 ? Yi : _ref27$storeName;\n              _ref27$version = _ref27.version;\n              a = _ref27$version === void 0 ? 1 : _ref27$version;\n              _context36.next = 9;\n              return Ra(r, i, a);\n            case 9:\n              u = _context36.sent;\n              return _context36.abrupt(\"return\", new pe(u, i));\n            case 11:\n            case \"end\":\n              return _context36.stop();\n          }\n        }, _callee36);\n      }));\n      function create(_x74) {\n        return _create2.apply(this, arguments);\n      }\n      return create;\n    }()\n  }]);\n  return pe;\n}();\nvar Kt = \"identity\",\n  jt = \"delegation\",\n  Vi = \"iv\",\n  Ca = 1,\n  Ar = typeof window < \"u\",\n  ze = /*#__PURE__*/function () {\n    function ze() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"ic-\";\n      var r = arguments.length > 1 ? arguments[1] : undefined;\n      _classCallCheck(this, ze);\n      this.prefix = t, this._localStorage = r;\n    }\n    _createClass(ze, [{\n      key: \"get\",\n      value: function get(t) {\n        return Promise.resolve(this._getLocalStorage().getItem(this.prefix + t));\n      }\n    }, {\n      key: \"set\",\n      value: function set(t, r) {\n        return this._getLocalStorage().setItem(this.prefix + t, r), Promise.resolve();\n      }\n    }, {\n      key: \"remove\",\n      value: function remove(t) {\n        return this._getLocalStorage().removeItem(this.prefix + t), Promise.resolve();\n      }\n    }, {\n      key: \"_getLocalStorage\",\n      value: function _getLocalStorage() {\n        if (this._localStorage) return this._localStorage;\n        var t = typeof window > \"u\" ? typeof globalThis > \"u\" ? typeof self > \"u\" ? void 0 : self.localStorage : globalThis.localStorage : window.localStorage;\n        if (!t) throw new Error(\"Could not find local storage.\");\n        return t;\n      }\n    }]);\n    return ze;\n  }(),\n  Ge = /*#__PURE__*/function () {\n    function Ge() {\n      _classCallCheck(this, Ge);\n    }\n    _createClass(Ge, [{\n      key: \"_db\",\n      get: function get() {\n        var _this20 = this;\n        return new Promise(function (t) {\n          if (_this20.initializedDb) {\n            t(_this20.initializedDb);\n            return;\n          }\n          pe.create({\n            version: Ca\n          }).then(function (r) {\n            _this20.initializedDb = r, t(r);\n          });\n        });\n      }\n    }, {\n      key: \"get\",\n      value: function () {\n        var _get3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee37(t) {\n          return _regeneratorRuntime().wrap(function _callee37$(_context37) {\n            while (1) switch (_context37.prev = _context37.next) {\n              case 0:\n                _context37.next = 2;\n                return this._db;\n              case 2:\n                _context37.next = 4;\n                return _context37.sent.get(t);\n              case 4:\n                return _context37.abrupt(\"return\", _context37.sent);\n              case 5:\n              case \"end\":\n                return _context37.stop();\n            }\n          }, _callee37, this);\n        }));\n        function get(_x75) {\n          return _get3.apply(this, arguments);\n        }\n        return get;\n      }()\n    }, {\n      key: \"set\",\n      value: function () {\n        var _set2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee38(t, r) {\n          return _regeneratorRuntime().wrap(function _callee38$(_context38) {\n            while (1) switch (_context38.prev = _context38.next) {\n              case 0:\n                _context38.next = 2;\n                return this._db;\n              case 2:\n                _context38.next = 4;\n                return _context38.sent.set(t, r);\n              case 4:\n              case \"end\":\n                return _context38.stop();\n            }\n          }, _callee38, this);\n        }));\n        function set(_x76, _x77) {\n          return _set2.apply(this, arguments);\n        }\n        return set;\n      }()\n    }, {\n      key: \"remove\",\n      value: function () {\n        var _remove2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee39(t) {\n          return _regeneratorRuntime().wrap(function _callee39$(_context39) {\n            while (1) switch (_context39.prev = _context39.next) {\n              case 0:\n                _context39.next = 2;\n                return this._db;\n              case 2:\n                _context39.next = 4;\n                return _context39.sent.remove(t);\n              case 4:\n              case \"end\":\n                return _context39.stop();\n            }\n          }, _callee39, this);\n        }));\n        function remove(_x78) {\n          return _remove2.apply(this, arguments);\n        }\n        return remove;\n      }()\n    }]);\n    return Ge;\n  }();\nvar Fa = \"https://identity.ic0.app\",\n  ka = \"#authorize\",\n  ln = \"ECDSA\",\n  dn = \"Ed25519\",\n  ja = 500,\n  Ka = \"UserInterrupt\",\n  Tr = /*#__PURE__*/function () {\n    function Tr(t, r, i, a, u, d, m, w) {\n      _classCallCheck(this, Tr);\n      var A;\n      this._identity = t, this._key = r, this._chain = i, this._storage = a, this.idleManager = u, this._createOptions = d, this._idpWindow = m, this._eventHandler = w;\n      var P = this.logout.bind(this),\n        O = d === null || d === void 0 ? void 0 : d.idleOptions;\n      !(O !== null && O !== void 0 && O.onIdle) && !(O !== null && O !== void 0 && O.disableDefaultIdleCallback) && ((A = this.idleManager) === null || A === void 0 || A.registerCallback(function () {\n        P(), location.reload();\n      }));\n    }\n    _createClass(Tr, [{\n      key: \"_handleSuccess\",\n      value: function _handleSuccess(t, r) {\n        var _this21 = this;\n        var i, a, u;\n        var d = t.delegations.map(function (A) {\n            return {\n              delegation: new Oe(A.delegation.pubkey, A.delegation.expiration, A.delegation.targets),\n              signature: A.signature.buffer\n            };\n          }),\n          m = he.fromDelegations(d, t.userPublicKey.buffer),\n          w = this._key;\n        if (w) {\n          if (this._chain = m, this._identity = $e.fromDelegation(w, this._chain), (i = this._idpWindow) === null || i === void 0 || i.close(), !this.idleManager) {\n            var A = (a = this._createOptions) === null || a === void 0 ? void 0 : a.idleOptions;\n            this.idleManager = We.create(A), !(A !== null && A !== void 0 && A.onIdle) && !(A !== null && A !== void 0 && A.disableDefaultIdleCallback) && ((u = this.idleManager) === null || u === void 0 || u.registerCallback(function () {\n              _this21.logout(), location.reload();\n            }));\n          }\n          r !== null && r !== void 0 && r(), this._removeEventListener(), delete this._idpWindow;\n        }\n      }\n    }, {\n      key: \"getIdentity\",\n      value: function getIdentity() {\n        return this._identity;\n      }\n    }, {\n      key: \"isAuthenticated\",\n      value: function () {\n        var _isAuthenticated = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee40() {\n          return _regeneratorRuntime().wrap(function _callee40$(_context40) {\n            while (1) switch (_context40.prev = _context40.next) {\n              case 0:\n                return _context40.abrupt(\"return\", !this.getIdentity().getPrincipal().isAnonymous() && this._chain !== null);\n              case 1:\n              case \"end\":\n                return _context40.stop();\n            }\n          }, _callee40, this);\n        }));\n        function isAuthenticated() {\n          return _isAuthenticated.apply(this, arguments);\n        }\n        return isAuthenticated;\n      }()\n    }, {\n      key: \"login\",\n      value: function () {\n        var _login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee41(t) {\n          var _this22 = this;\n          var r, i, a, u, d, m, w;\n          return _regeneratorRuntime().wrap(function _callee41$(_context41) {\n            while (1) switch (_context41.prev = _context41.next) {\n              case 0:\n                d = BigInt(8) * BigInt(36e11), m = new URL(((r = t === null || t === void 0 ? void 0 : t.identityProvider) === null || r === void 0 ? void 0 : r.toString()) || Fa);\n                m.hash = ka, (i = this._idpWindow) === null || i === void 0 || i.close(), this._removeEventListener(), this._eventHandler = this._getEventHandler(m, Object.assign({\n                  maxTimeToLive: (a = t === null || t === void 0 ? void 0 : t.maxTimeToLive) !== null && a !== void 0 ? a : d\n                }, t)), window.addEventListener(\"message\", this._eventHandler), this._idpWindow = (u = window.open(m.toString(), \"idpWindow\", t === null || t === void 0 ? void 0 : t.windowOpenerFeatures)) !== null && u !== void 0 ? u : void 0;\n                w = function w() {\n                  _this22._idpWindow && (_this22._idpWindow.closed ? _this22._handleFailure(Ka, t === null || t === void 0 ? void 0 : t.onError) : setTimeout(w, ja));\n                };\n                w();\n              case 4:\n              case \"end\":\n                return _context41.stop();\n            }\n          }, _callee41, this);\n        }));\n        function login(_x79) {\n          return _login.apply(this, arguments);\n        }\n        return login;\n      }()\n    }, {\n      key: \"_getEventHandler\",\n      value: function _getEventHandler(t, r) {\n        var _this23 = this;\n        return /*#__PURE__*/function () {\n          var _ref28 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee42(i) {\n            var a, u, d, m, _w;\n            return _regeneratorRuntime().wrap(function _callee42$(_context42) {\n              while (1) switch (_context42.prev = _context42.next) {\n                case 0:\n                  if (!(i.origin !== t.origin)) {\n                    _context42.next = 3;\n                    break;\n                  }\n                  console.warn(\"WARNING: expected origin '\".concat(t.origin, \"', got '\").concat(i.origin, \"' (ignoring)\"));\n                  return _context42.abrupt(\"return\");\n                case 3:\n                  m = i.data;\n                  _context42.t0 = m.kind;\n                  _context42.next = _context42.t0 === \"authorize-ready\" ? 7 : _context42.t0 === \"authorize-client-success\" ? 10 : _context42.t0 === \"authorize-client-failure\" ? 22 : 24;\n                  break;\n                case 7:\n                  _w = {\n                    kind: \"authorize-client\",\n                    sessionPublicKey: new Uint8Array((a = _this23._key) === null || a === void 0 ? void 0 : a.getPublicKey().toDer()),\n                    maxTimeToLive: r === null || r === void 0 ? void 0 : r.maxTimeToLive,\n                    derivationOrigin: (u = r === null || r === void 0 ? void 0 : r.derivationOrigin) === null || u === void 0 ? void 0 : u.toString()\n                  };\n                  (d = _this23._idpWindow) === null || d === void 0 || d.postMessage(_w, t.origin);\n                  return _context42.abrupt(\"break\", 25);\n                case 10:\n                  _context42.prev = 10;\n                  _this23._handleSuccess(m, r === null || r === void 0 ? void 0 : r.onSuccess);\n                  _context42.t1 = _this23._chain;\n                  if (!_context42.t1) {\n                    _context42.next = 16;\n                    break;\n                  }\n                  _context42.next = 16;\n                  return _this23._storage.set(jt, JSON.stringify(_this23._chain.toJSON()));\n                case 16:\n                  _context42.next = 21;\n                  break;\n                case 18:\n                  _context42.prev = 18;\n                  _context42.t2 = _context42[\"catch\"](10);\n                  _this23._handleFailure(_context42.t2.message, r === null || r === void 0 ? void 0 : r.onError);\n                case 21:\n                  return _context42.abrupt(\"break\", 25);\n                case 22:\n                  _this23._handleFailure(m.text, r === null || r === void 0 ? void 0 : r.onError);\n                  return _context42.abrupt(\"break\", 25);\n                case 24:\n                  return _context42.abrupt(\"break\", 25);\n                case 25:\n                case \"end\":\n                  return _context42.stop();\n              }\n            }, _callee42, null, [[10, 18]]);\n          }));\n          return function (_x80) {\n            return _ref28.apply(this, arguments);\n          };\n        }();\n      }\n    }, {\n      key: \"_handleFailure\",\n      value: function _handleFailure(t, r) {\n        var i;\n        (i = this._idpWindow) === null || i === void 0 || i.close(), r !== null && r !== void 0 && r(t), this._removeEventListener(), delete this._idpWindow;\n      }\n    }, {\n      key: \"_removeEventListener\",\n      value: function _removeEventListener() {\n        this._eventHandler && window.removeEventListener(\"message\", this._eventHandler), this._eventHandler = void 0;\n      }\n    }, {\n      key: \"logout\",\n      value: function () {\n        var _logout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee43() {\n          var t,\n            _args43 = arguments;\n          return _regeneratorRuntime().wrap(function _callee43$(_context43) {\n            while (1) switch (_context43.prev = _context43.next) {\n              case 0:\n                t = _args43.length > 0 && _args43[0] !== undefined ? _args43[0] : {};\n                _context43.next = 3;\n                return hn(this._storage);\n              case 3:\n                this._identity = new Dt();\n                this._chain = null;\n                if (!t.returnTo) {\n                  _context43.next = 7;\n                  break;\n                }\n                try {\n                  window.history.pushState({}, \"\", t.returnTo);\n                } catch (_unused2) {\n                  window.location.href = t.returnTo;\n                }\n              case 7:\n              case \"end\":\n                return _context43.stop();\n            }\n          }, _callee43, this);\n        }));\n        function logout() {\n          return _logout.apply(this, arguments);\n        }\n        return logout;\n      }()\n    }], [{\n      key: \"create\",\n      value: function () {\n        var _create3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee44() {\n          var t,\n            r,\n            i,\n            a,\n            u,\n            d,\n            m,\n            O,\n            Z,\n            it,\n            st,\n            w,\n            A,\n            _O,\n            P,\n            _args44 = arguments;\n          return _regeneratorRuntime().wrap(function _callee44$(_context44) {\n            while (1) switch (_context44.prev = _context44.next) {\n              case 0:\n                t = _args44.length > 0 && _args44[0] !== undefined ? _args44[0] : {};\n                u = (r = t.storage) !== null && r !== void 0 ? r : new Ge(), d = (i = t.keyType) !== null && i !== void 0 ? i : ln, m = null;\n                if (!t.identity) {\n                  _context44.next = 6;\n                  break;\n                }\n                m = t.identity;\n                _context44.next = 54;\n                break;\n              case 6:\n                _context44.next = 8;\n                return u.get(Kt);\n              case 8:\n                O = _context44.sent;\n                if (!(!O && Ar)) {\n                  _context44.next = 35;\n                  break;\n                }\n                _context44.prev = 10;\n                Z = new ze();\n                _context44.next = 14;\n                return Z.get(jt);\n              case 14:\n                it = _context44.sent;\n                _context44.next = 17;\n                return Z.get(Kt);\n              case 17:\n                st = _context44.sent;\n                _context44.t0 = it && st && d === ln;\n                if (!_context44.t0) {\n                  _context44.next = 30;\n                  break;\n                }\n                console.log(\"Discovered an identity stored in localstorage. Migrating to IndexedDB\");\n                _context44.next = 23;\n                return u.set(jt, it);\n              case 23:\n                _context44.next = 25;\n                return u.set(Kt, st);\n              case 25:\n                O = it;\n                _context44.next = 28;\n                return Z.remove(jt);\n              case 28:\n                _context44.next = 30;\n                return Z.remove(Kt);\n              case 30:\n                _context44.next = 35;\n                break;\n              case 32:\n                _context44.prev = 32;\n                _context44.t1 = _context44[\"catch\"](10);\n                console.error(\"error while attempting to recover localstorage: \" + _context44.t1);\n              case 35:\n                if (!O) {\n                  _context44.next = 54;\n                  break;\n                }\n                _context44.prev = 36;\n                if (!(typeof O == \"object\")) {\n                  _context44.next = 49;\n                  break;\n                }\n                if (!(d === dn && typeof O == \"string\")) {\n                  _context44.next = 44;\n                  break;\n                }\n                _context44.next = 41;\n                return kt.fromJSON(O);\n              case 41:\n                m = _context44.sent;\n                _context44.next = 47;\n                break;\n              case 44:\n                _context44.next = 46;\n                return de.fromKeyPair(O);\n              case 46:\n                m = _context44.sent;\n              case 47:\n                _context44.next = 50;\n                break;\n              case 49:\n                typeof O == \"string\" && (m = kt.fromJSON(O));\n              case 50:\n                _context44.next = 54;\n                break;\n              case 52:\n                _context44.prev = 52;\n                _context44.t2 = _context44[\"catch\"](36);\n              case 54:\n                w = new Dt(), A = null;\n                if (!m) {\n                  _context44.next = 84;\n                  break;\n                }\n                _context44.prev = 56;\n                _context44.next = 59;\n                return u.get(jt);\n              case 59:\n                _O = _context44.sent;\n                if (!(typeof _O == \"object\" && _O !== null)) {\n                  _context44.next = 62;\n                  break;\n                }\n                throw new Error(\"Delegation chain is incorrectly stored. A delegation chain should be stored as a string.\");\n              case 62:\n                if (!t.identity) {\n                  _context44.next = 66;\n                  break;\n                }\n                w = t.identity;\n                _context44.next = 76;\n                break;\n              case 66:\n                _context44.t3 = _O;\n                if (!_context44.t3) {\n                  _context44.next = 76;\n                  break;\n                }\n                A = he.fromJSON(_O);\n                if (!Ui(A)) {\n                  _context44.next = 73;\n                  break;\n                }\n                w = $e.fromDelegation(m, A);\n                _context44.next = 76;\n                break;\n              case 73:\n                _context44.next = 75;\n                return hn(u);\n              case 75:\n                m = null;\n              case 76:\n                _context44.next = 84;\n                break;\n              case 78:\n                _context44.prev = 78;\n                _context44.t4 = _context44[\"catch\"](56);\n                console.error(_context44.t4);\n                _context44.next = 83;\n                return hn(u);\n              case 83:\n                m = null;\n              case 84:\n                !((a = t.idleOptions) === null || a === void 0) && a.disableIdle ? P = void 0 : (A || t.identity) && (P = We.create(t.idleOptions));\n                _context44.t5 = m;\n                if (_context44.t5) {\n                  _context44.next = 101;\n                  break;\n                }\n                if (!(d === dn)) {\n                  _context44.next = 95;\n                  break;\n                }\n                _context44.next = 90;\n                return kt.generate();\n              case 90:\n                m = _context44.sent;\n                _context44.next = 93;\n                return u.set(Kt, JSON.stringify(m.toJSON()));\n              case 93:\n                _context44.next = 101;\n                break;\n              case 95:\n                t.storage && d === ln && console.warn(\"You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '\".concat(dn, \"' as the key type, as it can serialize to a string\"));\n                _context44.next = 98;\n                return de.generate();\n              case 98:\n                m = _context44.sent;\n                _context44.next = 101;\n                return u.set(Kt, m.getKeyPair());\n              case 101:\n                return _context44.abrupt(\"return\", new this(w, m, A, u, P, t));\n              case 102:\n              case \"end\":\n                return _context44.stop();\n            }\n          }, _callee44, this, [[10, 32], [36, 52], [56, 78]]);\n        }));\n        function create() {\n          return _create3.apply(this, arguments);\n        }\n        return create;\n      }()\n    }]);\n    return Tr;\n  }();\nfunction hn(_x81) {\n  return _hn.apply(this, arguments);\n}\nfunction _hn() {\n  _hn = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee84(e) {\n    return _regeneratorRuntime().wrap(function _callee84$(_context84) {\n      while (1) switch (_context84.prev = _context84.next) {\n        case 0:\n          _context84.next = 2;\n          return e.remove(Kt);\n        case 2:\n          _context84.next = 4;\n          return e.remove(jt);\n        case 4:\n          _context84.next = 6;\n          return e.remove(Vi);\n        case 6:\n        case \"end\":\n          return _context84.stop();\n      }\n    }, _callee84);\n  }));\n  return _hn.apply(this, arguments);\n}\nvar Sr = function Sr() {\n  return Tr.create({\n    idleOptions: {\n      disableIdle: !0,\n      disableDefaultIdleCallback: !0\n    }\n  });\n};\nvar pn = /*#__PURE__*/function () {\n  var _ref30 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee45(_ref29) {\n    var e;\n    return _regeneratorRuntime().wrap(function _callee45$(_context45) {\n      while (1) switch (_context45.prev = _context45.next) {\n        case 0:\n          e = _ref29.data;\n          _context45.prev = 1;\n          _context45.next = 4;\n          return Mn(e);\n        case 4:\n          return _context45.abrupt(\"return\", _context45.sent);\n        case 7:\n          _context45.prev = 7;\n          _context45.t0 = _context45[\"catch\"](1);\n          console.error(\"The data parsing has failed, mapping to undefined as a fallback.\", _context45.t0);\n          return _context45.abrupt(\"return\");\n        case 11:\n        case \"end\":\n          return _context45.stop();\n      }\n    }, _callee45, null, [[1, 7]]);\n  }));\n  return function pn(_x82) {\n    return _ref30.apply(this, arguments);\n  };\n}();\nvar Or = function Or(_ref31) {\n  var e = _ref31.matcher,\n    t = _ref31.paginate,\n    r = _ref31.order,\n    i = _ref31.owner;\n  return {\n    matcher: yt(e) ? [] : [{\n      key: mt(e.key),\n      description: mt(e.description)\n    }],\n    paginate: mt(yt(t) ? void 0 : {\n      start_after: mt(t.startAfter),\n      limit: mt(yt(t.limit) ? void 0 : BigInt(t.limit))\n    }),\n    order: mt(yt(r) ? void 0 : {\n      desc: r.desc,\n      field: r.field === \"created_at\" ? {\n        CreatedAt: null\n      } : r.field === \"updated_at\" ? {\n        UpdatedAt: null\n      } : {\n        Keys: null\n      }\n    }),\n    owner: mt(yt(i) ? void 0 : typeof i == \"string\" ? ot.fromText(i) : i)\n  };\n};\nvar qi = function qi(_ref32) {\n  var e = _ref32.IDL;\n  var t = e.Record({\n      batch_id: e.Nat,\n      headers: e.Vec(e.Tuple(e.Text, e.Text)),\n      chunk_ids: e.Vec(e.Nat)\n    }),\n    r = e.Record({\n      controllers: e.Vec(e.Principal)\n    }),\n    i = e.Variant({\n      Write: e.Null,\n      Admin: e.Null\n    }),\n    a = e.Record({\n      updated_at: e.Nat64,\n      metadata: e.Vec(e.Tuple(e.Text, e.Text)),\n      created_at: e.Nat64,\n      scope: i,\n      expires_at: e.Opt(e.Nat64)\n    }),\n    u = e.Record({\n      updated_at: e.Opt(e.Nat64)\n    }),\n    d = e.Variant({\n      Db: e.Null,\n      Storage: e.Null\n    }),\n    m = e.Record({\n      headers: e.Vec(e.Tuple(e.Text, e.Vec(e.Tuple(e.Text, e.Text))))\n    }),\n    w = e.Record({\n      storage: m\n    }),\n    A = e.Record({\n      updated_at: e.Nat64,\n      owner: e.Principal,\n      data: e.Vec(e.Nat8),\n      description: e.Opt(e.Text),\n      created_at: e.Nat64\n    }),\n    P = e.Record({\n      url: e.Text,\n      method: e.Text,\n      body: e.Vec(e.Nat8),\n      headers: e.Vec(e.Tuple(e.Text, e.Text))\n    }),\n    O = e.Record({\n      token: e.Opt(e.Text),\n      sha256: e.Opt(e.Vec(e.Nat8)),\n      headers: e.Vec(e.Tuple(e.Text, e.Text)),\n      index: e.Nat64,\n      encoding_type: e.Text,\n      full_path: e.Text\n    }),\n    Z = e.Variant({\n      Callback: e.Record({\n        token: O,\n        callback: e.Func([], [], [])\n      })\n    }),\n    it = e.Record({\n      body: e.Vec(e.Nat8),\n      headers: e.Vec(e.Tuple(e.Text, e.Text)),\n      streaming_strategy: e.Opt(Z),\n      status_code: e.Nat16\n    }),\n    st = e.Record({\n      token: e.Opt(O),\n      body: e.Vec(e.Nat8)\n    }),\n    xt = e.Record({\n      token: e.Opt(e.Text),\n      collection: e.Text,\n      name: e.Text,\n      description: e.Opt(e.Text),\n      encoding_type: e.Opt(e.Text),\n      full_path: e.Text\n    }),\n    Tt = e.Record({\n      batch_id: e.Nat\n    }),\n    dt = e.Variant({\n      UpdatedAt: e.Null,\n      Keys: e.Null,\n      CreatedAt: e.Null\n    }),\n    Bt = e.Record({\n      field: dt,\n      desc: e.Bool\n    }),\n    Mt = e.Record({\n      key: e.Opt(e.Text),\n      description: e.Opt(e.Text)\n    }),\n    Nt = e.Record({\n      start_after: e.Opt(e.Text),\n      limit: e.Opt(e.Nat64)\n    }),\n    Yt = e.Record({\n      order: e.Opt(Bt),\n      owner: e.Opt(e.Principal),\n      matcher: e.Opt(Mt),\n      paginate: e.Opt(Nt)\n    }),\n    Ie = e.Record({\n      token: e.Opt(e.Text),\n      collection: e.Text,\n      owner: e.Principal,\n      name: e.Text,\n      description: e.Opt(e.Text),\n      full_path: e.Text\n    }),\n    Je = e.Record({\n      modified: e.Nat64,\n      sha256: e.Vec(e.Nat8),\n      total_length: e.Nat\n    }),\n    Xe = e.Record({\n      key: Ie,\n      updated_at: e.Nat64,\n      encodings: e.Vec(e.Tuple(e.Text, Je)),\n      headers: e.Vec(e.Tuple(e.Text, e.Text)),\n      created_at: e.Nat64\n    }),\n    Ue = e.Record({\n      matches_pages: e.Opt(e.Nat64),\n      matches_length: e.Nat64,\n      items_page: e.Opt(e.Nat64),\n      items: e.Vec(e.Tuple(e.Text, Xe)),\n      items_length: e.Nat64\n    }),\n    xe = e.Record({\n      updated_at: e.Nat64,\n      created_at: e.Nat64,\n      bn_id: e.Opt(e.Text)\n    }),\n    Re = e.Record({\n      matches_pages: e.Opt(e.Nat64),\n      matches_length: e.Nat64,\n      items_page: e.Opt(e.Nat64),\n      items: e.Vec(e.Tuple(e.Text, A)),\n      items_length: e.Nat64\n    }),\n    ne = e.Variant({\n      Controllers: e.Null,\n      Private: e.Null,\n      Public: e.Null,\n      Managed: e.Null\n    }),\n    Be = e.Record({\n      updated_at: e.Nat64,\n      max_size: e.Opt(e.Nat),\n      read: ne,\n      created_at: e.Nat64,\n      write: ne\n    }),\n    Ne = e.Record({\n      metadata: e.Vec(e.Tuple(e.Text, e.Text)),\n      scope: i,\n      expires_at: e.Opt(e.Nat64)\n    }),\n    Pt = e.Record({\n      controller: Ne,\n      controllers: e.Vec(e.Principal)\n    }),\n    Pe = e.Record({\n      updated_at: e.Opt(e.Nat64),\n      data: e.Vec(e.Nat8),\n      description: e.Opt(e.Text)\n    }),\n    ee = e.Record({\n      updated_at: e.Opt(e.Nat64),\n      max_size: e.Opt(e.Nat),\n      read: ne,\n      write: ne\n    }),\n    re = e.Record({\n      content: e.Vec(e.Nat8),\n      batch_id: e.Nat,\n      order_id: e.Opt(e.Nat)\n    }),\n    Ze = e.Record({\n      chunk_id: e.Nat\n    });\n  return e.Service({\n    commit_asset_upload: e.Func([t], [], []),\n    del_asset: e.Func([e.Text, e.Text], [], []),\n    del_assets: e.Func([e.Text], [], []),\n    del_controllers: e.Func([r], [e.Vec(e.Tuple(e.Principal, a))], []),\n    del_custom_domain: e.Func([e.Text], [], []),\n    del_doc: e.Func([e.Text, e.Text, u], [], []),\n    del_rule: e.Func([d, e.Text, u], [], []),\n    get_config: e.Func([], [w], []),\n    get_doc: e.Func([e.Text, e.Text], [e.Opt(A)], [\"query\"]),\n    http_request: e.Func([P], [it], [\"query\"]),\n    http_request_streaming_callback: e.Func([O], [st], [\"query\"]),\n    init_asset_upload: e.Func([xt], [Tt], []),\n    list_assets: e.Func([e.Text, Yt], [Ue], [\"query\"]),\n    list_controllers: e.Func([], [e.Vec(e.Tuple(e.Principal, a))], [\"query\"]),\n    list_custom_domains: e.Func([], [e.Vec(e.Tuple(e.Text, xe))], [\"query\"]),\n    list_docs: e.Func([e.Text, Yt], [Re], [\"query\"]),\n    list_rules: e.Func([d], [e.Vec(e.Tuple(e.Text, Be))], [\"query\"]),\n    set_config: e.Func([w], [], []),\n    set_controllers: e.Func([Pt], [e.Vec(e.Tuple(e.Principal, a))], []),\n    set_custom_domain: e.Func([e.Text, e.Opt(e.Text)], [], []),\n    set_doc: e.Func([e.Text, e.Text, Pe], [A], []),\n    set_rule: e.Func([d, e.Text, ee], [], []),\n    upload_asset_chunk: e.Func([re], [Ze], []),\n    version: e.Func([], [e.Text], [\"query\"])\n  });\n};\nvar Hi = /*#__PURE__*/function () {\n  var _ref34 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee46(_ref33) {\n    var e, t, r, i, _ref33$env, a, u, d, m;\n    return _regeneratorRuntime().wrap(function _callee46$(_context46) {\n      while (1) switch (_context46.prev = _context46.next) {\n        case 0:\n          e = _ref33.satelliteId, t = _ref33.idlFactory, r = _ref33.identity, i = _ref33.fetch, _ref33$env = _ref33.env, a = _ref33$env === void 0 ? \"prod\" : _ref33$env;\n          u = a === \"dev\" || bt.getInstance().localIdentity(), d = u ? \"http://127.0.0.1:8000/\" : \"https://icp0.io\", m = new ue(_objectSpread(_objectSpread({\n            identity: r\n          }, d && {\n            host: d\n          }), i && {\n            fetch: i\n          }));\n          _context46.t0 = u;\n          if (!_context46.t0) {\n            _context46.next = 6;\n            break;\n          }\n          _context46.next = 6;\n          return m.fetchRootKey();\n        case 6:\n          return _context46.abrupt(\"return\", Lt.createActor(t, {\n            agent: m,\n            canisterId: e\n          }));\n        case 7:\n        case \"end\":\n          return _context46.stop();\n      }\n    }, _callee46);\n  }));\n  return function Hi(_x83) {\n    return _ref34.apply(this, arguments);\n  };\n}();\nvar zt = /*#__PURE__*/function () {\n  var _ref36 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee47(_ref35) {\n    var _bt$getInstance$get3;\n    var e, t, _ref37, r;\n    return _regeneratorRuntime().wrap(function _callee47$(_context47) {\n      while (1) switch (_context47.prev = _context47.next) {\n        case 0:\n          e = _ref35.satelliteId, t = _objectWithoutProperties(_ref35, _excluded);\n          _ref37 = e !== void 0 ? {\n            satelliteId: e\n          } : (_bt$getInstance$get3 = bt.getInstance().get()) !== null && _bt$getInstance$get3 !== void 0 ? _bt$getInstance$get3 : {\n            satelliteId: void 0\n          }, r = _ref37.satelliteId;\n          if (r) {\n            _context47.next = 4;\n            break;\n          }\n          throw new Error(\"No satellite principal defined.\");\n        case 4:\n          return _context47.abrupt(\"return\", Hi(_objectSpread({\n            satelliteId: r,\n            idlFactory: qi\n          }, t)));\n        case 5:\n        case \"end\":\n          return _context47.stop();\n      }\n    }, _callee47);\n  }));\n  return function zt(_x84) {\n    return _ref36.apply(this, arguments);\n  };\n}();\nvar $i = /*#__PURE__*/function () {\n    var _ref39 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee48(_ref38) {\n      var e, t, r, i, a, u, d, m, w, A;\n      return _regeneratorRuntime().wrap(function _callee48$(_context48) {\n        while (1) switch (_context48.prev = _context48.next) {\n          case 0:\n            e = _ref38.collection, t = _ref38.key, r = _ref38.satellite;\n            _context48.next = 3;\n            return zt(r);\n          case 3:\n            i = _context48.sent;\n            _context48.t0 = At;\n            _context48.next = 7;\n            return i.get_doc(e, t);\n          case 7:\n            _context48.t1 = _context48.sent;\n            a = (0, _context48.t0)(_context48.t1);\n            if (!yt(a)) {\n              _context48.next = 11;\n              break;\n            }\n            return _context48.abrupt(\"return\");\n          case 11:\n            u = a.data;\n            d = a.owner;\n            m = a.description;\n            w = _objectWithoutProperties(a, _excluded2);\n            _context48.next = 17;\n            return pn({\n              data: u\n            });\n          case 17:\n            A = _context48.sent;\n            return _context48.abrupt(\"return\", _objectSpread({\n              key: t,\n              description: At(m),\n              owner: d.toText(),\n              data: A\n            }, w));\n          case 19:\n          case \"end\":\n            return _context48.stop();\n        }\n      }, _callee48);\n    }));\n    return function $i(_x85) {\n      return _ref39.apply(this, arguments);\n    };\n  }(),\n  Wi = /*#__PURE__*/function () {\n    var _ref41 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee49(_ref40) {\n      var e, t, r, i, a, u, d, m, w, A, P, O, Z;\n      return _regeneratorRuntime().wrap(function _callee49$(_context49) {\n        while (1) switch (_context49.prev = _context49.next) {\n          case 0:\n            e = _ref40.collection, t = _ref40.doc, r = _ref40.satellite;\n            _context49.next = 3;\n            return zt(r);\n          case 3:\n            i = _context49.sent;\n            a = t.key;\n            u = t.data;\n            d = t.updated_at;\n            m = t.description;\n            _context49.t0 = i;\n            _context49.t1 = e;\n            _context49.t2 = a;\n            _context49.t3 = mt(m);\n            _context49.next = 14;\n            return Kn(u);\n          case 14:\n            _context49.t4 = _context49.sent;\n            _context49.t5 = mt(d);\n            _context49.t6 = {\n              description: _context49.t3,\n              data: _context49.t4,\n              updated_at: _context49.t5\n            };\n            _context49.next = 19;\n            return _context49.t0.set_doc.call(_context49.t0, _context49.t1, _context49.t2, _context49.t6);\n          case 19:\n            w = _context49.sent;\n            A = w.owner;\n            P = w.updated_at;\n            O = w.created_at;\n            Z = w.description;\n            return _context49.abrupt(\"return\", {\n              key: a,\n              description: At(Z),\n              owner: A.toText(),\n              data: u,\n              created_at: O,\n              updated_at: P\n            });\n          case 25:\n          case \"end\":\n            return _context49.stop();\n        }\n      }, _callee49);\n    }));\n    return function Wi(_x86) {\n      return _ref41.apply(this, arguments);\n    };\n  }(),\n  zi = /*#__PURE__*/function () {\n    var _ref43 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee50(_ref42) {\n      var e, t, r, i, a, u;\n      return _regeneratorRuntime().wrap(function _callee50$(_context50) {\n        while (1) switch (_context50.prev = _context50.next) {\n          case 0:\n            e = _ref42.collection, t = _ref42.doc, r = _ref42.satellite;\n            _context50.next = 3;\n            return zt(r);\n          case 3:\n            i = _context50.sent;\n            a = t.key;\n            u = t.updated_at;\n            return _context50.abrupt(\"return\", i.del_doc(e, a, {\n              updated_at: mt(u)\n            }));\n          case 7:\n          case \"end\":\n            return _context50.stop();\n        }\n      }, _callee50);\n    }));\n    return function zi(_x87) {\n      return _ref43.apply(this, arguments);\n    };\n  }(),\n  Gi = /*#__PURE__*/function () {\n    var _ref45 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee51(_ref44) {\n      var e, t, r, i, _yield$i$list_docs, a, u, d, m, w, A, _iterator7, _step7, _step7$value, P, O, Z, it, st, xt;\n      return _regeneratorRuntime().wrap(function _callee51$(_context51) {\n        while (1) switch (_context51.prev = _context51.next) {\n          case 0:\n            e = _ref44.collection, t = _ref44.filter, r = _ref44.satellite;\n            _context51.next = 3;\n            return zt(r);\n          case 3:\n            i = _context51.sent;\n            _context51.next = 6;\n            return i.list_docs(e, Or(t));\n          case 6:\n            _yield$i$list_docs = _context51.sent;\n            a = _yield$i$list_docs.items;\n            u = _yield$i$list_docs.items_page;\n            d = _yield$i$list_docs.items_length;\n            m = _yield$i$list_docs.matches_length;\n            w = _yield$i$list_docs.matches_pages;\n            A = [];\n            _iterator7 = _createForOfIteratorHelper(a);\n            _context51.prev = 14;\n            _iterator7.s();\n          case 16:\n            if ((_step7 = _iterator7.n()).done) {\n              _context51.next = 33;\n              break;\n            }\n            _step7$value = _slicedToArray(_step7.value, 2), P = _step7$value[0], O = _step7$value[1];\n            Z = O.data, it = O.owner, st = O.description, xt = _objectWithoutProperties(O, _excluded3);\n            _context51.t0 = A;\n            _context51.t1 = _objectSpread;\n            _context51.t2 = P;\n            _context51.t3 = At(st);\n            _context51.t4 = it.toText();\n            _context51.next = 26;\n            return pn({\n              data: Z\n            });\n          case 26:\n            _context51.t5 = _context51.sent;\n            _context51.t6 = {\n              key: _context51.t2,\n              description: _context51.t3,\n              owner: _context51.t4,\n              data: _context51.t5\n            };\n            _context51.t7 = xt;\n            _context51.t8 = (0, _context51.t1)(_context51.t6, _context51.t7);\n            _context51.t0.push.call(_context51.t0, _context51.t8);\n          case 31:\n            _context51.next = 16;\n            break;\n          case 33:\n            _context51.next = 38;\n            break;\n          case 35:\n            _context51.prev = 35;\n            _context51.t9 = _context51[\"catch\"](14);\n            _iterator7.e(_context51.t9);\n          case 38:\n            _context51.prev = 38;\n            _iterator7.f();\n            return _context51.finish(38);\n          case 41:\n            return _context51.abrupt(\"return\", {\n              items: A,\n              items_length: d,\n              items_page: At(u),\n              matches_length: m,\n              matches_pages: At(w)\n            });\n          case 42:\n          case \"end\":\n            return _context51.stop();\n        }\n      }, _callee51, null, [[14, 35, 38, 41]]);\n    }));\n    return function Gi(_x88) {\n      return _ref45.apply(this, arguments);\n    };\n  }();\nvar Gt = function Gt(e) {\n  var _Ur;\n  return e !== void 0 ? e : (_Ur = Ur()) !== null && _Ur !== void 0 ? _Ur : new Dt();\n};\nvar Ii = /*#__PURE__*/function () {\n    var _ref47 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee52(_ref46) {\n      var e, t, r;\n      return _regeneratorRuntime().wrap(function _callee52$(_context52) {\n        while (1) switch (_context52.prev = _context52.next) {\n          case 0:\n            e = _ref46.satellite, t = _objectWithoutProperties(_ref46, _excluded4);\n            r = Gt(e === null || e === void 0 ? void 0 : e.identity);\n            return _context52.abrupt(\"return\", $i(_objectSpread(_objectSpread({}, t), {}, {\n              satellite: _objectSpread(_objectSpread({}, e), {}, {\n                identity: r\n              })\n            })));\n          case 3:\n          case \"end\":\n            return _context52.stop();\n        }\n      }, _callee52);\n    }));\n    return function Ii(_x89) {\n      return _ref47.apply(this, arguments);\n    };\n  }(),\n  Ji = /*#__PURE__*/function () {\n    var _ref49 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee53(_ref48) {\n      var e, t, r;\n      return _regeneratorRuntime().wrap(function _callee53$(_context53) {\n        while (1) switch (_context53.prev = _context53.next) {\n          case 0:\n            e = _ref48.satellite, t = _objectWithoutProperties(_ref48, _excluded5);\n            r = Gt(e === null || e === void 0 ? void 0 : e.identity);\n            return _context53.abrupt(\"return\", Wi(_objectSpread(_objectSpread({}, t), {}, {\n              satellite: _objectSpread(_objectSpread({}, e), {}, {\n                identity: r\n              })\n            })));\n          case 3:\n          case \"end\":\n            return _context53.stop();\n        }\n      }, _callee53);\n    }));\n    return function Ji(_x90) {\n      return _ref49.apply(this, arguments);\n    };\n  }(),\n  Fc = /*#__PURE__*/function () {\n    var _ref51 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee54(_ref50) {\n      var e, t, r;\n      return _regeneratorRuntime().wrap(function _callee54$(_context54) {\n        while (1) switch (_context54.prev = _context54.next) {\n          case 0:\n            e = _ref50.satellite, t = _objectWithoutProperties(_ref50, _excluded6);\n            r = Gt(e === null || e === void 0 ? void 0 : e.identity);\n            return _context54.abrupt(\"return\", zi(_objectSpread(_objectSpread({}, t), {}, {\n              satellite: _objectSpread(_objectSpread({}, e), {}, {\n                identity: r\n              })\n            })));\n          case 3:\n          case \"end\":\n            return _context54.stop();\n        }\n      }, _callee54);\n    }));\n    return function Fc(_x91) {\n      return _ref51.apply(this, arguments);\n    };\n  }(),\n  kc = /*#__PURE__*/function () {\n    var _ref53 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee55(_ref52) {\n      var e, t, r, i;\n      return _regeneratorRuntime().wrap(function _callee55$(_context55) {\n        while (1) switch (_context55.prev = _context55.next) {\n          case 0:\n            e = _ref52.satellite, t = _ref52.filter, r = _objectWithoutProperties(_ref52, _excluded7);\n            i = Gt(e === null || e === void 0 ? void 0 : e.identity);\n            return _context55.abrupt(\"return\", Gi(_objectSpread(_objectSpread({}, r), {}, {\n              filter: t !== null && t !== void 0 ? t : {},\n              satellite: _objectSpread(_objectSpread({}, e), {}, {\n                identity: i\n              })\n            })));\n          case 3:\n          case \"end\":\n            return _context55.stop();\n        }\n      }, _callee55);\n    }));\n    return function kc(_x92) {\n      return _ref53.apply(this, arguments);\n    };\n  }();\nvar Xi = /*#__PURE__*/function () {\n    var _ref54 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee56(e) {\n      var t, r, i;\n      return _regeneratorRuntime().wrap(function _callee56$(_context56) {\n        while (1) switch (_context56.prev = _context56.next) {\n          case 0:\n            t = Ur();\n            if (!yt(t)) {\n              _context56.next = 3;\n              break;\n            }\n            throw new Error(\"No identity to initialize the user. Have you initialized Juno?\");\n          case 3:\n            r = t.getPrincipal().toText();\n            _context56.next = 6;\n            return Ii({\n              collection: \"#user\",\n              key: r\n            });\n          case 6:\n            i = _context56.sent;\n            if (!yt(i)) {\n              _context56.next = 13;\n              break;\n            }\n            _context56.next = 10;\n            return Ma({\n              userId: r,\n              provider: e\n            });\n          case 10:\n            _context56.t0 = _context56.sent;\n            _context56.next = 14;\n            break;\n          case 13:\n            _context56.t0 = i;\n          case 14:\n            return _context56.abrupt(\"return\", _context56.t0);\n          case 15:\n          case \"end\":\n            return _context56.stop();\n        }\n      }, _callee56);\n    }));\n    return function Xi(_x93) {\n      return _ref54.apply(this, arguments);\n    };\n  }(),\n  Ma = /*#__PURE__*/function () {\n    var _ref56 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee57(_ref55) {\n      var e, t;\n      return _regeneratorRuntime().wrap(function _callee57$(_context57) {\n        while (1) switch (_context57.prev = _context57.next) {\n          case 0:\n            e = _ref55.userId, t = _objectWithoutProperties(_ref55, _excluded8);\n            return _context57.abrupt(\"return\", Ji({\n              collection: \"#user\",\n              doc: {\n                key: e,\n                data: t\n              }\n            }));\n          case 2:\n          case \"end\":\n            return _context57.stop();\n        }\n      }, _callee57);\n    }));\n    return function Ma(_x94) {\n      return _ref56.apply(this, arguments);\n    };\n  }();\nvar It,\n  xn = /*#__PURE__*/function () {\n    var _ref57 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee58(e) {\n      var _It, _yield$It$isAuthentic, _It2;\n      var r;\n      return _regeneratorRuntime().wrap(function _callee58$(_context58) {\n        while (1) switch (_context58.prev = _context58.next) {\n          case 0:\n            if (!((_It = It) !== null && _It !== void 0)) {\n              _context58.next = 4;\n              break;\n            }\n            _context58.t0 = _It;\n            _context58.next = 7;\n            break;\n          case 4:\n            _context58.next = 6;\n            return Sr();\n          case 6:\n            _context58.t0 = _context58.sent;\n          case 7:\n            It = _context58.t0;\n            _context58.next = 10;\n            return (_It2 = It) === null || _It2 === void 0 ? void 0 : _It2.isAuthenticated();\n          case 10:\n            _context58.t2 = _yield$It$isAuthentic = _context58.sent;\n            _context58.t1 = _context58.t2 !== null;\n            if (!_context58.t1) {\n              _context58.next = 14;\n              break;\n            }\n            _context58.t1 = _yield$It$isAuthentic !== void 0;\n          case 14:\n            if (!_context58.t1) {\n              _context58.next = 18;\n              break;\n            }\n            _context58.t3 = _yield$It$isAuthentic;\n            _context58.next = 19;\n            break;\n          case 18:\n            _context58.t3 = !1;\n          case 19:\n            if (_context58.t3) {\n              _context58.next = 21;\n              break;\n            }\n            return _context58.abrupt(\"return\");\n          case 21:\n            _context58.next = 23;\n            return Xi(e);\n          case 23:\n            r = _context58.sent;\n            Vt.getInstance().set(r);\n          case 25:\n          case \"end\":\n            return _context58.stop();\n        }\n      }, _callee58);\n    }));\n    return function xn(_x95) {\n      return _ref57.apply(this, arguments);\n    };\n  }(),\n  Ya = /*#__PURE__*/function () {\n    var _ref58 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee61(e) {\n      return _regeneratorRuntime().wrap(function _callee61$(_context61) {\n        while (1) switch (_context61.prev = _context61.next) {\n          case 0:\n            return _context61.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref59 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee60(t, r) {\n                var _It3, _e$provider, _e$maxTimeToLive;\n                var i;\n                return _regeneratorRuntime().wrap(function _callee60$(_context60) {\n                  while (1) switch (_context60.prev = _context60.next) {\n                    case 0:\n                      if (!((_It3 = It) !== null && _It3 !== void 0)) {\n                        _context60.next = 4;\n                        break;\n                      }\n                      _context60.t0 = _It3;\n                      _context60.next = 7;\n                      break;\n                    case 4:\n                      _context60.next = 6;\n                      return Sr();\n                    case 6:\n                      _context60.t0 = _context60.sent;\n                    case 7:\n                      It = _context60.t0;\n                      i = (_e$provider = e === null || e === void 0 ? void 0 : e.provider) !== null && _e$provider !== void 0 ? _e$provider : new ur({});\n                      _context60.next = 11;\n                      return It.login(_objectSpread(_objectSpread({\n                        onSuccess: function () {\n                          var _onSuccess = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee59() {\n                            return _regeneratorRuntime().wrap(function _callee59$(_context59) {\n                              while (1) switch (_context59.prev = _context59.next) {\n                                case 0:\n                                  _context59.next = 2;\n                                  return xn(i.id);\n                                case 2:\n                                  t();\n                                case 3:\n                                case \"end\":\n                                  return _context59.stop();\n                              }\n                            }, _callee59);\n                          }));\n                          function onSuccess() {\n                            return _onSuccess.apply(this, arguments);\n                          }\n                          return onSuccess;\n                        }(),\n                        onError: function onError(a) {\n                          return r(a);\n                        },\n                        maxTimeToLive: (_e$maxTimeToLive = e === null || e === void 0 ? void 0 : e.maxTimeToLive) !== null && _e$maxTimeToLive !== void 0 ? _e$maxTimeToLive : Vn\n                      }, (e === null || e === void 0 ? void 0 : e.derivationOrigin) !== void 0 && {\n                        derivationOrigin: e.derivationOrigin\n                      }), i.signInOptions({\n                        windowed: e === null || e === void 0 ? void 0 : e.windowed\n                      })));\n                    case 11:\n                    case \"end\":\n                      return _context60.stop();\n                  }\n                }, _callee60);\n              }));\n              return function (_x97, _x98) {\n                return _ref59.apply(this, arguments);\n              };\n            }()));\n          case 1:\n          case \"end\":\n            return _context61.stop();\n        }\n      }, _callee61);\n    }));\n    return function Ya(_x96) {\n      return _ref58.apply(this, arguments);\n    };\n  }(),\n  yn = /*#__PURE__*/function () {\n    var _ref60 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee62() {\n      var _It4;\n      return _regeneratorRuntime().wrap(function _callee62$(_context62) {\n        while (1) switch (_context62.prev = _context62.next) {\n          case 0:\n            _context62.next = 2;\n            return (_It4 = It) === null || _It4 === void 0 ? void 0 : _It4.logout();\n          case 2:\n            It = void 0;\n            Vt.getInstance().reset();\n          case 4:\n          case \"end\":\n            return _context62.stop();\n        }\n      }, _callee62);\n    }));\n    return function yn() {\n      return _ref60.apply(this, arguments);\n    };\n  }(),\n  Ur = function Ur() {\n    var _It5;\n    return (_It5 = It) === null || _It5 === void 0 ? void 0 : _It5.getIdentity();\n  },\n  Va = /*#__PURE__*/function () {\n    var _ref61 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee63() {\n      var _It6;\n      return _regeneratorRuntime().wrap(function _callee63$(_context63) {\n        while (1) switch (_context63.prev = _context63.next) {\n          case 0:\n            if (!((_It6 = It) !== null && _It6 !== void 0)) {\n              _context63.next = 4;\n              break;\n            }\n            _context63.t0 = _It6;\n            _context63.next = 7;\n            break;\n          case 4:\n            _context63.next = 6;\n            return Sr();\n          case 6:\n            _context63.t0 = _context63.sent;\n          case 7:\n            return _context63.abrupt(\"return\", _context63.t0.getIdentity());\n          case 8:\n          case \"end\":\n            return _context63.stop();\n        }\n      }, _callee63);\n    }));\n    return function Va() {\n      return _ref61.apply(this, arguments);\n    };\n  }();\nvar Zi = function Zi(e) {\n  var t = e === !0 ? \"./workers/auth.worker.js\" : e,\n    r = new Worker(t),\n    i = /*#__PURE__*/function () {\n      var _ref62 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee64() {\n        return _regeneratorRuntime().wrap(function _callee64$(_context64) {\n          while (1) switch (_context64.prev = _context64.next) {\n            case 0:\n              Yn({\n                message: \"junoSignOutAuthTimer\"\n              });\n              _context64.next = 3;\n              return yn();\n            case 3:\n            case \"end\":\n              return _context64.stop();\n          }\n        }, _callee64);\n      }));\n      return function i() {\n        return _ref62.apply(this, arguments);\n      };\n    }();\n  return r.onmessage = /*#__PURE__*/function () {\n    var _ref64 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee65(_ref63) {\n      var a, u;\n      return _regeneratorRuntime().wrap(function _callee65$(_context65) {\n        while (1) switch (_context65.prev = _context65.next) {\n          case 0:\n            a = _ref63.data;\n            u = a.msg;\n            _context65.t0 = u;\n            _context65.next = _context65.t0 === \"junoSignOutAuthTimer\" ? 5 : 8;\n            break;\n          case 5:\n            _context65.next = 7;\n            return i();\n          case 7:\n            return _context65.abrupt(\"return\");\n          case 8:\n          case \"end\":\n            return _context65.stop();\n        }\n      }, _callee65);\n    }));\n    return function (_x99) {\n      return _ref64.apply(this, arguments);\n    };\n  }(), Vt.getInstance().subscribe(function (a) {\n    if (yt(a)) {\n      r.postMessage({\n        msg: \"junoStopAuthTimer\"\n      });\n      return;\n    }\n    r.postMessage({\n      msg: \"junoStartAuthTimer\"\n    });\n  });\n};\nvar Qi = /*#__PURE__*/function () {\n  var _ref66 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee66(_ref65) {\n    var e, t, r, i, a, u, d, m, w, A, _yield$A$init_asset_u, P, O, Z, it, st, dt, Bt, xt, _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, _dt, Tt;\n    return _regeneratorRuntime().wrap(function _callee66$(_context66) {\n      while (1) switch (_context66.prev = _context66.next) {\n        case 0:\n          e = _ref65.data, t = _ref65.filename, r = _ref65.collection, i = _ref65.headers, a = _ref65.token, u = _ref65.fullPath, d = _ref65.encoding, m = _ref65.description, w = _ref65.satellite;\n          _context66.next = 3;\n          return zt(w);\n        case 3:\n          A = _context66.sent;\n          _context66.next = 6;\n          return A.init_asset_upload({\n            collection: r,\n            full_path: u,\n            name: t,\n            token: mt(a),\n            encoding_type: mt(d),\n            description: mt(m)\n          });\n        case 6:\n          _yield$A$init_asset_u = _context66.sent;\n          P = _yield$A$init_asset_u.batch_id;\n          O = 19e5;\n          Z = [];\n          if (!cr()) {\n            _context66.next = 19;\n            break;\n          }\n          _context66.t1 = Blob;\n          _context66.next = 14;\n          return e.arrayBuffer();\n        case 14:\n          _context66.t2 = _context66.sent;\n          _context66.t3 = [_context66.t2];\n          _context66.t0 = new _context66.t1(_context66.t3);\n          _context66.next = 20;\n          break;\n        case 19:\n          _context66.t0 = e;\n        case 20:\n          it = _context66.t0;\n          st = 0n;\n          for (dt = 0; dt < it.size; dt += O) {\n            Bt = it.slice(dt, dt + O);\n            Z.push({\n              batchId: P,\n              chunk: Bt,\n              actor: A,\n              orderId: st\n            }), st++;\n          }\n          xt = [];\n          _iteratorAbruptCompletion = false;\n          _didIteratorError = false;\n          _context66.prev = 26;\n          _iterator = _asyncIterator(qa({\n            uploadChunks: Z\n          }));\n        case 28:\n          _context66.next = 30;\n          return _iterator.next();\n        case 30:\n          if (!(_iteratorAbruptCompletion = !(_step = _context66.sent).done)) {\n            _context66.next = 36;\n            break;\n          }\n          _dt = _step.value;\n          xt = [].concat(_toConsumableArray(xt), _toConsumableArray(_dt));\n        case 33:\n          _iteratorAbruptCompletion = false;\n          _context66.next = 28;\n          break;\n        case 36:\n          _context66.next = 42;\n          break;\n        case 38:\n          _context66.prev = 38;\n          _context66.t4 = _context66[\"catch\"](26);\n          _didIteratorError = true;\n          _iteratorError = _context66.t4;\n        case 42:\n          _context66.prev = 42;\n          _context66.prev = 43;\n          if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n            _context66.next = 47;\n            break;\n          }\n          _context66.next = 47;\n          return _iterator.return();\n        case 47:\n          _context66.prev = 47;\n          if (!_didIteratorError) {\n            _context66.next = 50;\n            break;\n          }\n          throw _iteratorError;\n        case 50:\n          return _context66.finish(47);\n        case 51:\n          return _context66.finish(42);\n        case 52:\n          Tt = i.find(function (_ref67) {\n            var _ref68 = _slicedToArray(_ref67, 2),\n              dt = _ref68[0],\n              Bt = _ref68[1];\n            return dt.toLowerCase() === \"content-type\";\n          }) === void 0 && e.type !== void 0 && e.type !== \"\" ? [[\"Content-Type\", e.type]] : void 0;\n          _context66.next = 55;\n          return A.commit_asset_upload({\n            batch_id: P,\n            chunk_ids: xt.map(function (_ref69) {\n              var dt = _ref69.chunk_id;\n              return dt;\n            }),\n            headers: [].concat(_toConsumableArray(i), _toConsumableArray(Tt || []))\n          });\n        case 55:\n        case \"end\":\n          return _context66.stop();\n      }\n    }, _callee66, null, [[26, 38, 42, 52], [43,, 47, 51]]);\n  }));\n  return function Qi(_x100) {\n    return _ref66.apply(this, arguments);\n  };\n}();\nfunction qa(_x) {\n  return _qa.apply(this, arguments);\n}\nfunction _qa() {\n  _qa = _wrapAsyncGenerator(function (_ref70) {\n    var e = _ref70.uploadChunks,\n      _ref70$limit = _ref70.limit,\n      t = _ref70$limit === void 0 ? 12 : _ref70$limit;\n    return /*#__PURE__*/_regeneratorRuntime().mark(function _callee67() {\n      var r, i;\n      return _regeneratorRuntime().wrap(function _callee67$(_context67) {\n        while (1) switch (_context67.prev = _context67.next) {\n          case 0:\n            r = 0;\n          case 1:\n            if (!(r < e.length)) {\n              _context67.next = 10;\n              break;\n            }\n            i = e.slice(r, r + t);\n            _context67.next = 5;\n            return _awaitAsyncGenerator(Promise.all(i.map(function (u) {\n              return Ha(u);\n            })));\n          case 5:\n            _context67.next = 7;\n            return _context67.sent;\n          case 7:\n            r = r + t;\n            _context67.next = 1;\n            break;\n          case 10:\n          case \"end\":\n            return _context67.stop();\n        }\n      }, _callee67);\n    })();\n  });\n  return _qa.apply(this, arguments);\n}\nvar Ha = /*#__PURE__*/function () {\n    var _ref72 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee68(_ref71) {\n      var e, t, r, i;\n      return _regeneratorRuntime().wrap(function _callee68$(_context68) {\n        while (1) switch (_context68.prev = _context68.next) {\n          case 0:\n            e = _ref71.batchId, t = _ref71.chunk, r = _ref71.actor, i = _ref71.orderId;\n            _context68.t0 = r;\n            _context68.t1 = e;\n            _context68.t2 = Uint8Array;\n            _context68.next = 6;\n            return t.arrayBuffer();\n          case 6:\n            _context68.t3 = _context68.sent;\n            _context68.t4 = new _context68.t2(_context68.t3);\n            _context68.t5 = mt(i);\n            _context68.t6 = {\n              batch_id: _context68.t1,\n              content: _context68.t4,\n              order_id: _context68.t5\n            };\n            return _context68.abrupt(\"return\", _context68.t0.upload_asset_chunk.call(_context68.t0, _context68.t6));\n          case 11:\n          case \"end\":\n            return _context68.stop();\n        }\n      }, _callee68);\n    }));\n    return function Ha(_x101) {\n      return _ref72.apply(this, arguments);\n    };\n  }(),\n  Di = /*#__PURE__*/function () {\n    var _ref74 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee69(_ref73) {\n      var e, t, r, i, _yield$i$list_assets, a, u, d, m, w;\n      return _regeneratorRuntime().wrap(function _callee69$(_context69) {\n        while (1) switch (_context69.prev = _context69.next) {\n          case 0:\n            e = _ref73.collection, t = _ref73.satellite, r = _ref73.filter;\n            _context69.next = 3;\n            return zt(t);\n          case 3:\n            i = _context69.sent;\n            _context69.next = 6;\n            return i.list_assets(e, Or(r));\n          case 6:\n            _yield$i$list_assets = _context69.sent;\n            a = _yield$i$list_assets.items;\n            u = _yield$i$list_assets.items_length;\n            d = _yield$i$list_assets.items_page;\n            m = _yield$i$list_assets.matches_length;\n            w = _yield$i$list_assets.matches_pages;\n            return _context69.abrupt(\"return\", {\n              items: a.map(function (_ref75) {\n                var _ref76 = _slicedToArray(_ref75, 2),\n                  A = _ref76[0],\n                  P = _ref76[1];\n                return P;\n              }),\n              items_length: u,\n              items_page: At(d),\n              matches_length: m,\n              matches_pages: At(w)\n            });\n          case 13:\n          case \"end\":\n            return _context69.stop();\n        }\n      }, _callee69);\n    }));\n    return function Di(_x102) {\n      return _ref74.apply(this, arguments);\n    };\n  }(),\n  Li = /*#__PURE__*/function () {\n    var _ref78 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee70(_ref77) {\n      var e, t, r;\n      return _regeneratorRuntime().wrap(function _callee70$(_context70) {\n        while (1) switch (_context70.prev = _context70.next) {\n          case 0:\n            e = _ref77.collection, t = _ref77.fullPath, r = _ref77.satellite;\n            _context70.next = 3;\n            return zt(r);\n          case 3:\n            return _context70.abrupt(\"return\", _context70.sent.del_asset(e, t));\n          case 4:\n          case \"end\":\n            return _context70.stop();\n        }\n      }, _callee70);\n    }));\n    return function Li(_x103) {\n      return _ref78.apply(this, arguments);\n    };\n  }(),\n  to = /*#__PURE__*/function () {\n    var _ref80 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee71(_ref79) {\n      var e, t;\n      return _regeneratorRuntime().wrap(function _callee71$(_context71) {\n        while (1) switch (_context71.prev = _context71.next) {\n          case 0:\n            e = _ref79.collection, t = _ref79.satellite;\n            _context71.next = 3;\n            return zt(t);\n          case 3:\n            return _context71.abrupt(\"return\", _context71.sent.del_assets(e));\n          case 4:\n          case \"end\":\n            return _context71.stop();\n        }\n      }, _callee71);\n    }));\n    return function to(_x104) {\n      return _ref80.apply(this, arguments);\n    };\n  }();\nvar eo = function eo(e) {\n  return btoa(_toConsumableArray(e).map(function (t) {\n    return String.fromCharCode(t);\n  }).join(\"\"));\n};\nvar mn = function mn(e) {\n  return encodeURI(e.toLowerCase().replace(/\\s/g, \"-\"));\n};\nvar l0 = /*#__PURE__*/function () {\n    var _ref81 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee72(e) {\n      return _regeneratorRuntime().wrap(function _callee72$(_context72) {\n        while (1) switch (_context72.prev = _context72.next) {\n          case 0:\n            return _context72.abrupt(\"return\", ro(e));\n          case 1:\n          case \"end\":\n            return _context72.stop();\n        }\n      }, _callee72);\n    }));\n    return function l0(_x105) {\n      return _ref81.apply(this, arguments);\n    };\n  }(),\n  d0 = /*#__PURE__*/function () {\n    var _ref82 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee73(e) {\n      return _regeneratorRuntime().wrap(function _callee73$(_context73) {\n        while (1) switch (_context73.prev = _context73.next) {\n          case 0:\n            return _context73.abrupt(\"return\", ro(_objectSpread({\n              filename: e.data.name\n            }, e)));\n          case 1:\n          case \"end\":\n            return _context73.stop();\n        }\n      }, _callee73);\n    }));\n    return function d0(_x106) {\n      return _ref82.apply(this, arguments);\n    };\n  }(),\n  ro = /*#__PURE__*/function () {\n    var _ref84 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee74(_ref83) {\n      var e, t, r, _ref83$headers, i, a, u, d, m, w, A, P, O;\n      return _regeneratorRuntime().wrap(function _callee74$(_context74) {\n        while (1) switch (_context74.prev = _context74.next) {\n          case 0:\n            e = _ref83.filename, t = _ref83.data, r = _ref83.collection, _ref83$headers = _ref83.headers, i = _ref83$headers === void 0 ? [] : _ref83$headers, a = _ref83.fullPath, u = _ref83.token, d = _ref83.satellite, m = _ref83.encoding, w = _ref83.description;\n            A = Gt(d === null || d === void 0 ? void 0 : d.identity), P = mn(e), O = a || \"/\".concat(r, \"/\").concat(P);\n            _context74.next = 4;\n            return Qi({\n              data: t,\n              filename: mn(P),\n              collection: r,\n              token: u,\n              headers: i,\n              fullPath: O,\n              encoding: m,\n              satellite: _objectSpread(_objectSpread({}, d), {}, {\n                identity: A\n              }),\n              description: w\n            });\n          case 4:\n            return _context74.abrupt(\"return\", {\n              downloadUrl: \"\".concat(Vr()).concat(O).concat(u !== void 0 ? \"?token=\".concat(u) : \"\"),\n              fullPath: O,\n              name: P\n            });\n          case 5:\n          case \"end\":\n            return _context74.stop();\n        }\n      }, _callee74);\n    }));\n    return function ro(_x107) {\n      return _ref84.apply(this, arguments);\n    };\n  }(),\n  h0 = /*#__PURE__*/function () {\n    var _ref86 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee75(_ref85) {\n      var e, t, r, _yield$Di, i, a, u;\n      return _regeneratorRuntime().wrap(function _callee75$(_context75) {\n        while (1) switch (_context75.prev = _context75.next) {\n          case 0:\n            e = _ref85.collection, t = _ref85.satellite, r = _ref85.filter;\n            _context75.next = 3;\n            return Di({\n              collection: e,\n              satellite: _objectSpread(_objectSpread({}, t), {}, {\n                identity: Gt(t === null || t === void 0 ? void 0 : t.identity)\n              }),\n              filter: r !== null && r !== void 0 ? r : {}\n            });\n          case 3:\n            _yield$Di = _context75.sent;\n            i = _yield$Di.items;\n            a = _objectWithoutProperties(_yield$Di, _excluded9);\n            u = Vr();\n            return _context75.abrupt(\"return\", _objectSpread({\n              assets: i.map(function (_ref87) {\n                var _ref87$key = _ref87.key,\n                  d = _ref87$key.full_path,\n                  m = _ref87$key.token,\n                  w = _ref87$key.name,\n                  A = _ref87$key.owner,\n                  P = _ref87$key.description,\n                  O = _ref87.headers,\n                  Z = _ref87.encodings,\n                  it = _ref87.created_at,\n                  st = _ref87.updated_at;\n                var xt = At(m);\n                return {\n                  fullPath: d,\n                  description: At(P),\n                  name: w,\n                  downloadUrl: \"\".concat(u).concat(d).concat(xt !== void 0 ? \"?token=\".concat(xt) : \"\"),\n                  token: xt,\n                  headers: O,\n                  encodings: Z.reduce(function (Tt, _ref88) {\n                    var _ref89 = _slicedToArray(_ref88, 2),\n                      dt = _ref89[0],\n                      _ref89$ = _ref89[1],\n                      Bt = _ref89$.modified,\n                      Mt = _ref89$.sha256,\n                      Nt = _ref89$.total_length;\n                    return _objectSpread(_objectSpread({}, Tt), {}, _defineProperty({}, dt, {\n                      modified: Bt,\n                      sha256: eo(Mt),\n                      total_length: Nt\n                    }));\n                  }, {}),\n                  owner: A.toText(),\n                  created_at: it,\n                  updated_at: st\n                };\n              })\n            }, a));\n          case 8:\n          case \"end\":\n            return _context75.stop();\n        }\n      }, _callee75);\n    }));\n    return function h0(_x108) {\n      return _ref86.apply(this, arguments);\n    };\n  }(),\n  p0 = /*#__PURE__*/function () {\n    var _ref91 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee76(_ref90) {\n      var e, t, r;\n      return _regeneratorRuntime().wrap(function _callee76$(_context76) {\n        while (1) switch (_context76.prev = _context76.next) {\n          case 0:\n            e = _ref90.collection, t = _ref90.fullPath, r = _ref90.satellite;\n            return _context76.abrupt(\"return\", Li({\n              collection: e,\n              fullPath: t,\n              satellite: _objectSpread(_objectSpread({}, r), {}, {\n                identity: Gt(r === null || r === void 0 ? void 0 : r.identity)\n              })\n            }));\n          case 2:\n          case \"end\":\n            return _context76.stop();\n        }\n      }, _callee76);\n    }));\n    return function p0(_x109) {\n      return _ref91.apply(this, arguments);\n    };\n  }(),\n  x0 = /*#__PURE__*/function () {\n    var _ref93 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee77(_ref92) {\n      var e, t;\n      return _regeneratorRuntime().wrap(function _callee77$(_context77) {\n        while (1) switch (_context77.prev = _context77.next) {\n          case 0:\n            e = _ref92.collection, t = _ref92.satellite;\n            return _context77.abrupt(\"return\", to({\n              collection: e,\n              satellite: _objectSpread(_objectSpread({}, t), {}, {\n                identity: Gt(t === null || t === void 0 ? void 0 : t.identity)\n              })\n            }));\n          case 2:\n          case \"end\":\n            return _context77.stop();\n        }\n      }, _callee77);\n    }));\n    return function x0(_x110) {\n      return _ref93.apply(this, arguments);\n    };\n  }();\nvar b0 = /*#__PURE__*/function () {\n    var _ref94 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee78(e) {\n      var _e$workers;\n      var t;\n      return _regeneratorRuntime().wrap(function _callee78$(_context78) {\n        while (1) switch (_context78.prev = _context78.next) {\n          case 0:\n            bt.getInstance().set(e);\n            _context78.next = 3;\n            return xn();\n          case 3:\n            t = ((_e$workers = e.workers) === null || _e$workers === void 0 ? void 0 : _e$workers.auth) !== void 0 ? Zi(e.workers.auth) : void 0;\n            return _context78.abrupt(\"return\", _toConsumableArray(t ? [t] : []));\n          case 5:\n          case \"end\":\n            return _context78.stop();\n        }\n      }, _callee78);\n    }));\n    return function b0(_x111) {\n      return _ref94.apply(this, arguments);\n    };\n  }(),\n  v0 = function v0(e) {\n    return Vt.getInstance().subscribe(e);\n  };\nexport { ur as InternetIdentityProvider, Wn as NFIDProvider, v0 as authSubscribe, p0 as deleteAsset, x0 as deleteAssets, Fc as deleteDoc, Ii as getDoc, b0 as initJuno, h0 as listAssets, kc as listDocs, Ji as setDoc, Ya as signIn, yn as signOut, Va as unsafeIdentity, l0 as uploadBlob, d0 as uploadFile };\n/*! Bundled license information:\n\nbuffer/index.js:\n  (*!\n   * The buffer module from node.js, for the browser.\n   *\n   * @author   Feross Aboukhadijeh <https://feross.org>\n   * @license  MIT\n   *)\n*/\n//# sourceMappingURL=index.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}